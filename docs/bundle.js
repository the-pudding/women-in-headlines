!function(){var t={337:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=r(e);n;)n=r(e=n.ownerDocument);return e}(),e=[],n=null,o=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return n||(n=function(t,n){o=t&&n?u(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},s._resetCrossOriginUpdater=function(){n=null,o=null},s.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},s.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},s.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},s.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var o=this._checkForIntersections,i=null,s=null;this.POLL_INTERVAL?i=n.setInterval(o,this.POLL_INTERVAL):(a(n,"resize",o,!0),a(e,"scroll",o,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(o)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(i&&t.clearInterval(i),l(t,"resize",o,!0)),l(e,"scroll",o,!0),s&&s.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=c){var d=r(e);d&&this._monitorIntersections(d.ownerDocument)}}},s.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var o=this.root&&(this.root.ownerDocument||this.root)||t;if(!this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=o;){var i=r(n);if((n=i&&i.ownerDocument)==e)return!0}return!1}))){var i=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),i(),e!=o){var s=r(e);s&&this._unmonitorIntersections(s.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},s.prototype._checkForIntersections=function(){if(this.root||!n||o){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(o){var r=o.element,s=c(r),a=this._rootContainsTarget(r),l=o.entry,d=t&&a&&this._computeTargetAndRootIntersection(r,s,e),u=null;this._rootContainsTarget(r)?n&&!this.root||(u=e):u={top:0,bottom:0,left:0,right:0,width:0,height:0};var p=o.entry=new i({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:s,rootBounds:u,intersectionRect:d});l?t&&a?this._hasCrossedThreshold(l,p)&&this._queuedEntries.push(p):l&&l.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(e,r,i){if("none"!=window.getComputedStyle(e).display){for(var s,a,l,d,p,h,g,m,w=r,y=f(e),v=!1;!v&&y;){var b=null,x=1==y.nodeType?window.getComputedStyle(y):{};if("none"==x.display)return null;if(y==this.root||9==y.nodeType)if(v=!0,y==this.root||y==t)n&&!this.root?!o||0==o.width&&0==o.height?(y=null,b=null,w=null):b=o:b=i;else{var _=f(y),k=_&&c(_),D=_&&this._computeTargetAndRootIntersection(_,k,i);k&&D?(y=_,b=u(k,D)):(y=null,w=null)}else{var A=y.ownerDocument;y!=A.body&&y!=A.documentElement&&"visible"!=x.overflow&&(b=c(y))}if(b&&(s=b,a=w,void 0,void 0,void 0,void 0,void 0,void 0,l=Math.max(s.top,a.top),d=Math.min(s.bottom,a.bottom),p=Math.max(s.left,a.left),m=d-l,w=(g=(h=Math.min(s.right,a.right))-p)>=0&&m>=0&&{top:l,bottom:d,left:p,right:h,width:g,height:m}||null),!w)break;y=y&&f(y)}return w}},s.prototype._getRootRect=function(){var e;if(this.root&&!h(this.root))e=c(this.root);else{var n=h(this.root)?this.root:t,o=n.documentElement,r=n.body;e={top:0,left:0,right:o.clientWidth||r.clientWidth,width:o.clientWidth||r.clientWidth,bottom:o.clientHeight||r.clientHeight,height:o.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},s.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},s.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var r=0;r<this.thresholds.length;r++){var i=this.thresholds[r];if(i==n||i==o||i<n!=i<o)return!0}},s.prototype._rootIsInDom=function(){return!this.root||p(t,this.root)},s.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return p(n,e)&&(!this.root||n==e.ownerDocument)},s.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},s.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=i}function r(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=d(t.rootBounds),this.boundingClientRect=d(t.boundingClientRect),this.intersectionRect=d(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,r=o.width*o.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function s(t,e){var n,o,r,i=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType&&9!=i.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function l(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function c(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function u(t,e){var n=e.top-t.top,o=e.left-t.left;return{top:n,left:o,height:e.height,width:e.width,bottom:n+e.height,right:o+e.width}}function p(t,e){for(var n=e;n;){if(n==t)return!0;n=f(n)}return!1}function f(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?r(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function h(t){return t&&9===t.nodeType}}()},296:function(t,e,n){var o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),u=Object.prototype.toString,p=Math.max,f=Math.min,h=function(){return d.Date.now()};function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==u.call(t)}(t))return NaN;if(g(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=g(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=i.test(t);return n||s.test(t)?a(t.slice(2),n?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var o,r,i,s,a,l,c=0,d=!1,u=!1,w=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=o,i=r;return o=r=void 0,c=e,s=t.apply(i,n)}function v(t){return c=t,a=setTimeout(x,e),d?y(t):s}function b(t){var n=t-l;return void 0===l||n>=e||n<0||u&&t-c>=i}function x(){var t=h();if(b(t))return _(t);a=setTimeout(x,function(t){var n=e-(t-l);return u?f(n,i-(t-c)):n}(t))}function _(t){return a=void 0,w&&o?y(t):(o=r=void 0,s)}function k(){var t=h(),n=b(t);if(o=arguments,r=this,l=t,n){if(void 0===a)return v(l);if(u)return a=setTimeout(x,e),y(l)}return void 0===a&&(a=setTimeout(x,e)),s}return e=m(e)||0,g(n)&&(d=!!n.leading,i=(u="maxWait"in n)?p(m(n.maxWait)||0,e):i,w="trailing"in n?!!n.trailing:w),k.cancel=function(){void 0!==a&&clearTimeout(a),c=0,o=l=r=a=void 0},k.flush=function(){return void 0===a?s:_(h())},k}},99:function(t){t.exports=function(){"use strict";function t(t){return"scrollama__debug-offset--"+t}function e(e){!function(e){var n=e.id,o=e.offsetVal,r=e.stepClass,i=document.createElement("div");i.id=t(n),i.className="scrollama__debug-offset",i.style.position="fixed",i.style.left="0",i.style.width="100%",i.style.height="0",i.style.borderTop="2px dashed black",i.style.zIndex="9999";var s=document.createElement("p");s.innerHTML='".'+r+'" trigger: <span>'+o+"</span>",s.style.fontSize="12px",s.style.fontFamily="monospace",s.style.color="black",s.style.margin="0",s.style.padding="6px",i.appendChild(s),document.body.appendChild(i)}({id:e.id,offsetVal:e.offsetVal,stepClass:e.stepEl[0].className})}function n(t){var e=t.id,n=t.index,o=t.state,r="scrollama__debug-step--"+e+"-"+n,i=document.getElementById(r+"_above"),s=document.getElementById(r+"_below"),a="enter"===o?"block":"none";i&&(i.style.display=a),s&&(s.style.display=a)}return function(){var o=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"],r={},i={},s=null,a=[],l=[],c=[],d=[],u=0,p=0,f=0,h=0,g=0,m=0,w=!1,y=!1,v=!1,b=!1,x=!1,_=!1,k="down",D="percent",A=[];function E(t){console.error("scrollama error: "+t)}function T(){r={stepEnter:function(){},stepExit:function(){},stepProgress:function(){}},i={}}function C(t){return t.getBoundingClientRect().top+window.pageYOffset-(document.body.clientTop||0)}function I(t){return+t.getAttribute("data-scrollama-index")}function L(){window.pageYOffset>g?k="down":window.pageYOffset<g&&(k="up"),g=window.pageYOffset}function M(t){i[t]&&i[t].forEach((function(t){return t.disconnect()}))}function B(){var e,n;f=window.innerHeight,e=document.body,n=document.documentElement,h=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),p=u*("pixels"===D?1:f),w&&(l=a.map((function(t){return t.getBoundingClientRect().height})),c=a.map(C),y&&V()),v&&function(e){var n=e.id,o=e.offsetMargin,r=e.offsetVal,i="pixels"===e.format?"px":"",s=t(n),a=document.getElementById(s);a.style.top=o+"px",a.querySelector("span").innerText=""+r+i}({id:s,offsetMargin:p,offsetVal:u,format:D})}function O(t){if(t&&!y){if(!w)return E("scrollama error: enable() called before scroller was ready"),void(y=!1);V()}!t&&y&&o.forEach(M),y=t}function z(t,e){var n=I(t);void 0!==e&&(d[n].progress=e);var o={element:t,index:n,progress:d[n].progress};"enter"===d[n].state&&r.stepProgress(o)}function R(t,e){if("above"===e)for(var n=0;n<t;n+=1){var o=d[n];"enter"!==o.state&&"down"!==o.direction?(j(a[n],"down",!1),S(a[n],"down")):"enter"===o.state&&S(a[n],"down")}else if("below"===e)for(var r=d.length-1;r>t;r-=1){var i=d[r];"enter"===i.state&&S(a[r],"up"),"down"===i.direction&&(j(a[r],"up",!1),S(a[r],"up"))}}function j(t,e,o){void 0===o&&(o=!0);var i=I(t),a={element:t,index:i,direction:e};d[i].direction=e,d[i].state="enter",x&&o&&"down"===e&&R(i,"above"),x&&o&&"up"===e&&R(i,"below"),r.stepEnter&&!A[i]&&(r.stepEnter(a,d),v&&n({id:s,index:i,state:"enter"}),_&&(A[i]=!0)),b&&z(t)}function S(t,e){var o=I(t),i={element:t,index:o,direction:e};b&&("down"===e&&d[o].progress<1?z(t,1):"up"===e&&d[o].progress>0&&z(t,0)),d[o].direction=e,d[o].state="exit",r.stepExit(i,d),v&&n({id:s,index:o,state:"exit"})}function F(t){var e=t[0];L();var n=e.isIntersecting,o=e.boundingClientRect,r=e.target,i=o.top,s=o.bottom,a=i-p,l=s-p,c=I(r),u=d[c];n&&a<=0&&l>=0&&"down"===k&&"enter"!==u.state&&j(r,k),!n&&a>0&&"up"===k&&"enter"===u.state&&S(r,k)}function $(t){var e=t[0];L();var n=e.isIntersecting,o=e.boundingClientRect,r=e.target,i=o.top,s=o.bottom,a=i-p,l=s-p,c=I(r),u=d[c];n&&a<=0&&l>=0&&"up"===k&&"enter"!==u.state&&j(r,k),!n&&l<0&&"down"===k&&"enter"===u.state&&S(r,k)}function q(t){var e=t[0];L();var n=e.isIntersecting,o=e.target,r=I(o),i=d[r];n&&"down"===k&&"down"!==i.direction&&"enter"!==i.state&&(j(o,"down"),S(o,"down"))}function N(t){var e=t[0];L();var n=e.isIntersecting,o=e.target,r=I(o),i=d[r];n&&"up"===k&&"down"===i.direction&&"enter"!==i.state&&(j(o,"up"),S(o,"up"))}function P(t){var e=t[0];L();var n=e.isIntersecting,o=e.intersectionRatio,r=e.boundingClientRect,i=e.target,s=r.bottom;n&&s-p>=0&&z(i,+o)}function H(){i.stepProgress=a.map((function(t,e){var n=l[e]-p+"px 0px "+(-f+p)+"px 0px",o=function(t){for(var e=Math.ceil(t/m),n=[],o=1/e,r=0;r<e;r+=1)n.push(r*o);return n}(l[e]),r=new IntersectionObserver(P,{rootMargin:n,threshold:o});return r.observe(t),r}))}function V(){o.forEach(M),i.viewportAbove=a.map((function(t,e){var n=h-c[e],o=p-f-l[e],r=new IntersectionObserver(q,{rootMargin:n+"px 0px "+o+"px 0px"});return r.observe(t),r})),i.viewportBelow=a.map((function(t,e){var n=-p-l[e],o=p-f+l[e]+h,r=new IntersectionObserver(N,{rootMargin:n+"px 0px "+o+"px 0px"});return r.observe(t),r})),i.stepAbove=a.map((function(t,e){var n=-p+l[e],o=new IntersectionObserver(F,{rootMargin:n+"px 0px "+(p-f)+"px 0px"});return o.observe(t),o})),i.stepBelow=a.map((function(t,e){var n=-p,o=p-f+l[e],r=new IntersectionObserver($,{rootMargin:n+"px 0px "+o+"px 0px"});return r.observe(t),r})),b&&H()}function U(t){return!(!t||1!==t.nodeType)&&(function(t){var e=window.getComputedStyle(t);return("scroll"===e.overflowY||"auto"===e.overflowY)&&t.scrollHeight>t.clientHeight}(t)?t:U(t.parentNode))}var W={setup:function(t){var n=t.step,o=t.parent,r=t.offset;void 0===r&&(r=.5);var i=t.progress;void 0===i&&(i=!1);var l=t.threshold;void 0===l&&(l=4);var c=t.debug;void 0===c&&(c=!1);var p=t.order;void 0===p&&(p=!0);var f,h,g,y=t.once;if(void 0===y&&(y=!1),T(),h=(f="abcdefghijklmnopqrstuv").length,g=Date.now(),s=""+[0,0,0].map((function(t){return f[Math.floor(Math.random()*h)]})).join("")+g,!(a=function(t,e){return void 0===e&&(e=document),"string"==typeof t?Array.from(e.querySelectorAll(t)):t instanceof Element?[t]:t instanceof NodeList?Array.from(t):t instanceof Array?t:[]}(n,o)).length)return E("no step elements"),W;var k=a.reduce((function(t,e){return t||U(e.parentNode)}),!1);return k&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",k),v=c,b=i,x=p,_=y,W.offsetTrigger(r),m=Math.max(1,+l),w=!0,v&&e({id:s,stepEl:a,offsetVal:u}),a.forEach((function(t,e){return t.setAttribute("data-scrollama-index",e)})),d=a.map((function(){return{direction:null,state:null,progress:0}})),B(),W.enable(),W},resize:function(){return B(),W},enable:function(){return O(!0),W},disable:function(){return O(!1),W},destroy:function(){O(!1),T()},offsetTrigger:function(t){if(null===t)return u;if("number"==typeof t)D="percent",t>1&&E("offset value is greater than 1. Fallback to 1."),t<0&&E("offset value is lower than 0. Fallback to 0."),u=Math.min(Math.max(0,t),1);else if("string"==typeof t&&t.indexOf("px")>0){var e=+t.replace("px","");isNaN(e)?(E("offset value must be in 'px' format. Fallback to 0.5."),u=.5):(D="pixels",u=e)}else E("offset value does not include 'px'. Fallback to 0.5."),u=.5;return W},onStepEnter:function(t){return"function"==typeof t?r.stepEnter=t:E("onStepEnter requires a function"),W},onStepExit:function(t){return"function"==typeof t?r.stepExit=t:E("onStepExit requires a function"),W},onStepProgress:function(t){return"function"==typeof t?r.stepProgress=t:E("onStepProgress requires a function"),W}};return W}}()},620:function(){d3.selection.prototype.puddingBubble=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,o=null,r=null,i=null,s=null,a=null,l=null,c=null,d=null,u=null,p=d3.select("#countrydropdown"),f=d3.select("#pubdropdown"),h=d3.selectAll(".tooltip"),g=e.datum(),m=g[0],w=g[1],y=g[2],v=null,b=null;m=m.filter((t=>0!=+t.monthly_visits&0!=+t[y]&"msn.com"!==t.site&"sports.yahoo.com"!==t.site&"finance.yahoo.com"!==t.site&"news.google.com"!==t.site&"news.yahoo.com"!==t.site&"bbc.com"!==t.site&"makeuseof.com"!==t.site&"which.co.uk"!==t.site&"espncricinfo.com"!==t.site&"seekingalpha.com"!==t.site&"prokerala.com"!==t.site)),v=m.map((t=>"polarity"===y?{site:t.site,polarity:t[y],monthly_visits:t.monthly_visits,country_of_pub:t.country_of_pub}:{site:t.site,bias:t[y],monthly_visits:t.monthly_visits,country_of_pub:t.country_of_pub}));const x=[{site:"nytimes.com",link:"https://www.vectorlogo.zone/logos/nytimes/nytimes-icon.svg"},{site:"dailymail.co.uk",link:"https://seeklogo.com/images/D/Daily_Mail-logo-EBD7A83A1F-seeklogo.com.png"},{site:"cnn.com",link:"https://www.vectorlogo.zone/logos/cnn/cnn-icon.svg"},{site:"bbc.co.uk",link:"https://www.vectorlogo.zone/logos/bbc/bbc-icon.svg"},{site:"telegraph.co.uk",link:"https://upload.wikimedia.org/wikipedia/commons/4/48/The_Telegraph_logo.svg"},{site:"washingtonpost.com",link:"https://www.vectorlogo.zone/logos/washingtonpost/washingtonpost-icon.svg"},{site:"forbes.com",link:"https://www.vectorlogo.zone/logos/forbes/forbes-icon.svg"},{site:"abcnews.go.com",link:"https://www.vectorlogo.zone/logos/abcgo/abcgo-icon.svg"},{site:"foxnews.com",link:"https://www.vectorlogo.zone/logos/fox/fox-icon.svg"},{site:"ksl.com",link:"https://logodix.com/logo/2090138.png"},{site:"bloomberg.com",link:"https://www.vectorlogo.zone/logos/bloomberg/bloomberg-icon.svg"},{site:"breitbart.com",link:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Breitbart_News.svg/1280px-Breitbart_News.svg.png"},{site:"popsugar.com",link:"https://all-4-one.com/wp-content/uploads/2015/07/PopSugar-Logo-logo.png"},{site:"nbcnews.com",link:"https://www.vectorlogo.zone/logos/nbc/nbc-icon.svg"},{site:"buzzfeed.com",link:"https://www.vectorlogo.zone/logos/buzzfeed/buzzfeed-icon.svg"},{site:"cnet.com",link:"https://www.vectorlogo.zone/logos/cnet/cnet-icon.svg"},{site:"politico.com",link:"https://www.vectorlogo.zone/logos/politico/politico-icon.svg"},{site:"usatoday.com",link:"https://www.vectorlogo.zone/logos/usatoday/usatoday-icon.svg"},{site:"nydailynews.com",link:"https://cdn6.myket.ir/icons/large/b0f31373-17ec-46d5-b6ef-66135cc1b242_.png"},{site:"businessinsider.com",link:"https://i.insider.com/596e4e7a552be51d008b50fd?width=600&format=jpeg"},{site:"aajtak.in",link:"https://static.wikia.nocookie.net/logopedia/images/d/db/Aaj_tak.png"},{site:"espn.go.com",link:"https://cdn.worldvectorlogo.com/logos/espn.svg"},{site:"huffingtonpost.com",link:"https://www.vectorlogo.zone/logos/huffingtonpost/huffingtonpost-icon.svg"}];let _=0,k=0;let D=null,A=d3.extent(v,(t=>+t.monthly_visits)),E=d3.scaleSqrt().domain(A),T=d3.scaleLinear().domain(A),C=null;function I(t,e,n){const o=d3.select(e),r=d3.map(t,(t=>t[n])).filter(M);"country_of_pub"===n?r.unshift("Country"):r.unshift("Newsroom"),o.selectAll("option").data(r).join("option").attr("value",(t=>"Country"===t||"Newsroom"===t?"":t)).text((t=>t))}function L(){const t=d3.select(this).property("value"),e=d3.select(this).property("id");let n=d3.selectAll(".forceCircles"),o=d3.selectAll(".forceLogos");"countrydropdown"===e&&(f.node().options[0].selected=!0,n.style("fill",(e=>e.country_of_pub.toLowerCase()===t.toLowerCase()?"#F7DC5B":"#FEFAF1")),n.style("opacity",(e=>e.country_of_pub.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2")),o.style("opacity",(e=>e.country_of_pub.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2"))),"pubdropdown"===e&&(p.node().options[0].selected=!0,n.style("fill",(e=>e.site.toLowerCase()===t.toLowerCase()?"#F7DC5B":"#FEFAF1")),n.style("opacity",(e=>e.site.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2")),o.style("opacity",(e=>e.site.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2")))}function M(t,e,n){return n.indexOf(t)===e}function B(){let[t,e]=d3.pointer(event),n=t>window.innerWidth/2?h.node().offsetWidth+-50:50,o=d3.select(this).attr("id");o=o.split("-"),o=o[0];let r=w.filter((t=>t.site===o)),i=Math.floor(Math.random()*r.length);h.classed("is-visible",!0).style("top",e+"px").style("left",t-n+"px"),h.html(`<p class="tt-date">${d3.timeFormat("%b %Y")(new Date(r[i].time))} | ${r[i].site}</p>\n                      <p class="tt-hed">${r[i].headline_no_site}</p>`)}function O(){h.classed("is-visible",!1)}function z(t,e){t.each((function(){for(var t,n=d3.select(this),o=n.text().split(/\s+/).reverse(),r=[],i=0,s=n.attr("x"),a=n.attr("y"),l=n.text(null).append("tspan").attr("x",s).attr("y",a).attr("dy","0em");t=o.pop();)r.push(t),l.text(r.join(" ")),l.node().getComputedTextLength()>e&&(r.pop(),l.text(r.join(" ")),r=[t],l=n.append("tspan").attr("x",s).attr("y",a).attr("dy",1.1*++i+0+"em").text(t))}))}const R={init(){n=e.append("svg").attr("class","pudding-chart"),o=n.append("g").attr("class","g-axis"),c=n.append("g").attr("class","g-legend"),d=c.append("g"),r=n.append("g").attr("class","g-vis"),R.resize(),R.render()},resize:()=>(_=e.node().offsetWidth-80-80,k=e.node().offsetHeight-0-0,E.range([3,_/12]),T.range([18,_/12]),n.attr("width",_+80+80).attr("height",k+0+0),r.attr("width",_+80+80).attr("height",k+0+0),D=d3.scaleSymlog().range([160,_]).domain(d3.extent(v,(t=>+t[y]))),b=[{level:"",radius:E(1e7),y:k+75,x:_/2.2,anchor:"end",xtext:_/2.235,ytext:k+53,id:""},{level:"",radius:E(1e8),y:k+75,x:_/2.05,id:""},{level:"1B Monthly Viewers",radius:E(1e9),y:k+75,x:_/1.85,anchor:"middle",xtext:_/1.85,ytext:k+_/6.5,id:""}],c.attr("transform",`translate(-${_/2-40}, -${k})`),d.selectAll("circle").data(b).join("circle").attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).attr("r",(t=>t.radius)).attr("class","legendBubble"),u=c.selectAll("text").data(b).join("text").text((t=>t.level)).attr("x",(t=>t.xtext)).attr("y",(t=>t.ytext)).attr("class","themesText").style("text-anchor",(t=>t.anchor)).call(z,10),C=d3.forceSimulation().nodes(v).force("charge",d3.forceManyBody().strength(1)).force("x",d3.forceX().x((function(t){return D(+t[y])}))).force("y",d3.forceY(k/2)).force("collide",d3.forceCollide((t=>E(+t.monthly_visits)))).alphaDecay(.05).on("tick",(function(){i=r.selectAll("circle").data(v),s=r.selectAll("image").data(v),a=i.join("circle").attr("class","forceCircles").attr("id",(t=>`${t.site}-circle`)).style("opacity","1").attr("r",(t=>E(+t.monthly_visits))).attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).on("mouseenter",B).on("mouseleave",O),l=s.join("svg:image").attr("class","forceLogo").attr("transform",(t=>"bbc.co.uk"==t.site?"translate(-50,-50)":"cnn.com"==t.site|"foxnews.com"==t.site?"translate(-30,-30)":"espn.go.com"==t.site?"translate(-34,-10)":"nytimes.com"==t.site|"buzzfeed.com"==t.site?"translate(-25,-25)":"washingtonpost.com"==t.site|"huffingtonpost.com"==t.site|"usatoday.com"==t.site?"translate(-20,-20)":"dailymail.co.uk"==t.site?"translate(-22,-18)":"politico.com"==t.site|"ksl.com"==t.site|"abcnews.go.com"==t.site|"nydailynews.com"==t.site?"translate(-12.5,-12.5)":"telegraph.co.uk"==t.site?"translate(-15,-3)":"breitbart.com"==t.site?"translate(-14,-10)":"aajtak.in"==t.site?"translate(-25,-20)":"businessinsider.com"==t.site?"translate(-14,-13)":"translate(-15,-15)")).attr("width",(t=>T(+t.monthly_visits))).attr("xlink:href",(t=>+t.monthly_visits>15e7?x.filter((e=>e.site==t.site))[0].link:"")).attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y}))})),R),render:()=>(r.attr("transform","translate(80, 0)"),I(m,"#countrydropdown","country_of_pub"),I(m,"#pubdropdown","site"),p.on("change",L),f.on("change",L),R),data(t){return arguments.length?(g=t,e.datum(g),R):g}};return R.init(),R}));return e.length>1?e:e.pop()}},76:function(){d3.selection.prototype.puddingLollipop=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,o=null,r=null,i=null,s=null,a=null,l=null,c=null,d=null,u=d3.select("#sortLollipopDiff"),p=d3.select("#sortLollipopPol"),f=e.datum();f=f.filter((t=>1==t.popularity&&Math.abs(t.difference)>.05&&"dailysun.co.za"!==t.site_clean&&"msnbc"!==t.site_clean)),f=f.sort(((t,e)=>d3.descending(+t.polarity_women,+e.polarity_women)));let h=d3.max(f,(t=>t.polarity_women)),g=d3.min(f,(t=>t.polarity_women)),m=0,w=0,y=null,v=null,b=null,x=null,_=null;function k(){const t="sortLollipopDiff"===this.id?"difference":"polarity_women",e=f.sort(((e,n)=>d3.descending(+e[t],+n[t])));console.log(e),d3.selectAll(".lollipopTextbutton").attr("class","lollipopTextbutton-active"),d3.selectAll(".lollipopTextbutton-active").attr("class","lollipopTextbutton"),b.domain(e.map((t=>t.site_clean))),o.select(".polarityCompyAxis").transition().duration("1000").call(d3.axisLeft(b).tickSize(0)),r.selectAll(".polarityCompBubble").sort(((e,n)=>void 0!==e?d3.ascending(+e[t],+n[t]):"")).transition().duration("1000").attr("cy",((t,e)=>void 0!==t?b(t.site_clean):"-60")),r.selectAll(".polarityDiffAnnotation").sort(((e,n)=>d3.ascending(+e[t],+n[t]))).transition().duration("1000").attr("y",((t,e)=>b(t.site_clean))),r.selectAll(".polarityCompBubbleLine").sort(((e,n)=>d3.ascending(+e[t],+n[t]))).transition().duration("1000").attr("x1",((t,e)=>v(t.polarity_base))).attr("x2",((t,e)=>v(t.polarity_women))).attr("y1",((t,e)=>b(t.site_clean))).attr("y2",((t,e)=>b(t.site_clean)))}const D={init(){n=e.append("svg").attr("class","pudding-chart"),o=n.append("g").attr("class","g-axis"),x=o.append("g").attr("class","polarityCompxAxis"),_=o.append("g").attr("class","polarityCompyAxis"),v=d3.scaleLinear().domain([g,h]),r=n.append("g").attr("class","g-vis"),i=r.selectAll("gridline").data(f).join("line").attr("class","grid"),s=r.selectAll("myline").data(f).join("line").attr("class","polarityCompBubbleLine").attr("stroke","black").attr("stroke-width","2.5px"),a=r.selectAll("mycircle").data(f).join("circle").attr("r","4").attr("class","polarityCompBubble polarityCompBubbleLeft"),l=r.selectAll("mycircle").data(f).join("circle").attr("class","polarityCompBubble polarityCompBubbleRight").attr("r","11"),c=r.selectAll("mycircle").data(f).join("text").attr("class","polarityDiffAnnotation").text((t=>(t.polarity_women-t.polarity_base)/t.polarity_base*100>0?"+"+Math.round((t.polarity_women-t.polarity_base)/t.polarity_base*100)+"%":Math.round((t.polarity_women-t.polarity_base)/t.polarity_base*100)+"%")),d=r.append("line").attr("stroke","black").attr("stroke-width","2.5px"),p.attr("class","lollipopTextbutton-active"),D.resize(),D.render()},resize:()=>(m=e.node().offsetWidth,m>=600?(y=160,r.attr("transform",`translate(${y}, 0)`),d3.selectAll(".polarityCompyAxis .tick text").attr("transform","translate(0,0)").style("text-anchor","end"),i.attr("x1",10)):(y=40,r.attr("transform",`translate(${y}, 0)`),d3.selectAll(".polarityCompyAxis .tick text").attr("transform","translate(3,-25)").style("text-anchor","start"),i.attr("x1",0)),m=e.node().offsetWidth-y-50,w=1700,n.attr("width",m+y+50).attr("height",w+0+0),x.attr("transform","translate(0,"+w+")").call(d3.axisBottom(v)),b=d3.scaleBand().range([0,w]).domain(f.map((t=>t.site_clean))).padding(1),_.attr("transform",`translate(${y},0)`).call(d3.axisLeft(b).tickSize(0)),v.range([y+50,m]),i.attr("x2",m).attr("y1",(function(t){return b(t.site_clean)})).attr("y2",(function(t){return b(t.site_clean)})),s.attr("x1",(function(t){return v(t.polarity_base)})).attr("x2",(function(t){return v(t.polarity_women)})).attr("y1",(function(t){return b(t.site_clean)})).attr("y2",(function(t){return b(t.site_clean)})),a.attr("cx",(function(t){return v(t.polarity_base)})).attr("cy",(function(t){return b(t.site_clean)})),l.attr("cx",(function(t){return v(t.polarity_women)})).attr("cy",(function(t){return b(t.site_clean)})),c.attr("x",(t=>v(t.polarity_women)-8)).attr("y",(t=>b(t.site_clean)+6)),D),render:()=>(u.on("click",k),p.on("click",k),D),data(t){return arguments.length?(f=t,e.datum(f),D):f}};return D.init(),D}));return e.length>1?e:e.pop()}},515:function(){d3.selection.prototype.puddingStackedBar=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,o=null,r=null,i=null,s=null,a=null,l=null,c=null,d=null;const u=d3.select("#scrolly-side"),p=u.select("article").selectAll(".step");let f,h=e.datum(),g=h[0],m=h[1],w=(h[2],h[3],[{country:"South Africa",flag:"assets/images/flags/south-africa.svg"},{country:"USA",flag:"assets/images/flags/united-states.svg"},{country:"India",flag:"assets/images/flags/india.svg"},{country:"UK",flag:"assets/images/flags/united-kingdom.svg"},{country:"All countries",flag:""}]),y=0,v=0,b=null,x=null;function _(t,e){t.each((function(){for(var t,n=d3.select(this),o=n.text().split(/\s+/).reverse(),r=[],i=0,s=n.attr("x"),a=n.attr("y"),l=n.text(null).append("tspan").attr("x",s).attr("y",a).attr("dy","0em");t=o.pop();)r.push(t),l.text(r.join(" ")),l.node().getComputedTextLength()>e&&(r.pop(),l.text(r.join(" ")),r=[t],l=n.append("tspan").attr("x",s).attr("y",a).attr("dy",1.1*++i+0+"em").text(t))}))}const k={init(){!function(t,e){f=d3.stack().keys(t.columns.slice(2))(t).map((t=>(t.forEach((n=>n.key=void 0!==e.filter((e=>e.word===t.key))[0]?{word:t.key,theme:e.filter((e=>e.word===t.key))[0].theme}:{word:t.key,theme:"No theme"})),t)))}(g,m),n=e.append("svg").attr("class","stackedChart"),o=n.append("g").attr("class","g-axis"),i=o.append("g").attr("class","x axis"),a=i.append("g"),s=o.append("g").attr("class","y axis"),r=n.append("g").attr("class","g-vis"),c=r.append("g").attr("class","stackedBars").selectAll("g").data(f).join("g").selectAll("rect").data((t=>t)),d=c.join("rect").attr("class",(t=>t.key.word)).attr("fill","lightgrey").attr("stroke","#FEFAF1").attr("stroke-width","0.2px"),k.render(),k.resize()},updateChart(t,e){console.log(t,e);const n=u.select(`[data-index='${t}']`),o=n.attr("task");if(n.attr("hovertype"),"highlightwords"===o){const r=n.attr("word");"down"===e?function(t,e,n,o){p.classed("is-active",((e,n)=>n===t)),console.log(n,e),d3.selectAll(`.${o}`).attr("fill","#E75C33"),d3.selectAll(".stackedBars").selectAll(`rect:not(.${o})`).attr("opacity","0.5"),d3.selectAll(".stackedChartyTicks").style("opacity","0")}(t,e,o,r):console.log(o,e)}else("drawbars"===o||"highlightthemes"===o||"tooltip"===o||"exploreChart"===o||"themeBarsTransition"===o)&&console.log(o,e);return k},resize:()=>(y=e.node().offsetWidth-0-0,v=2*(e.node().offsetHeight-50-0),n.attr("width",y+0+0).attr("height",v+50+0),i.attr("transform","translate(0,80)"),b=d3.scaleBand().domain(g.map((t=>t.country))).range([0,y+0]).padding(.1),xPad=b.padding(),a.call(d3.axisBottom(b)).call((t=>t.selectAll(".tick line").remove())).call((t=>t.selectAll(".tick text").remove())).call((t=>t.selectAll(".domain").remove())),a.selectAll(".tick text").remove(),a.selectAll(".tick tickFlag").remove(),a.selectAll(".tick").append("text").text((t=>t)).attr("x",100*xPad).attr("y",0).attr("class","stackedChartTicks").call(_,b.bandwidth()),a.selectAll(".tick").append("svg:image").attr("class","tickFlag").attr("height","35px").attr("x",100*xPad).attr("y",0).attr("transform","translate(-17, -50)").attr("xlink:href",(t=>w.filter((e=>e.country===t))[0].flag)),s.attr("transform","translate(0,0)"),x=d3.scaleLinear().domain([f.length,0]).range([v-0,50]),l=t=>t.call(d3.axisRight(x).tickSizeOuter(0).tickSizeInner(0)).call((t=>t.selectAll(".tick").remove())).call((t=>t.selectAll(".domain").remove())),l=s.append("g").call(l),d.attr("x",((t,e)=>b(t.data.country))).attr("height",(t=>0===t.data[t.key.word]||null===t.data[t.key.word]?0:v/f.length)).attr("width",b.bandwidth()).attr("y",(t=>0!==t.data[t.key.word]||null!==t.data[t.key.word]?x(t.data[t.key.word]):x(null))),k),render:()=>(r.attr("transform","translate(0, 50)"),k),data(t){return arguments.length?(h=t,e.datum(h),k):h}};return k.init(),k}));return e.length>1?e:e.pop()}},835:function(){d3.selection.prototype.puddingTemporalLine=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,o=null,r=null,i=null,s=null,a=null,l=null,c=null,d=d3.cross(d3.range(200),d3.range(1),((t,e)=>({row:t,col:e}))),u=e.datum(),p=u[0],f=u[1],h=u[2],g=u[3],m=p.filter((t=>t.year>f[0]&&t.year<f[1]&&t.country===h));m=m.map((t=>({year:t.year,frequency:t[g],word:t.word,word_type:t.word_type})));let w,y,v,b,x,_=d3.rollup(m,(t=>t.map((({year:t,frequency:e})=>({date:new Date(t,0,1),frequency:e})))),(t=>t.word)),k=d3.zip(Array.from(_),d).map((([[t,e],{row:n,col:o}])=>({word:t,rates:e,row:n,col:o}))),D=k[0].rates[0].date,A=k[0].rates[k[0].rates.length-1].date,E=(new Date(2010,0).getTime(),new Date(2021,0).getTime(),new Date(2012,11,16),new Date(2013,1,24),new Date(2014,5,1),new Date(2015,4,24),new Date(2015,4,18),new Date(2015,1,18),new Date(2016,4,0),new Date(2016,7,26),new Date(2016,10,8),new Date(2016,3,30),new Date(2016,9,2),new Date(2017,10,15),new Date(2017,10,0),new Date(2017,11,0),new Date(2017,11,0),new Date(2017,5,15),new Date(2017,12,0),new Date(2017,4,26),new Date(2017,11,0),new Date(2018,5,19),new Date(2018,1,18),new Date(2018,12,1),new Date(2018,1,0),new Date(2018,10,25),new Date(2018,1,20),new Date(2018,1,0),new Date(2018,10,0),new Date(2018,12,0),new Date(2018,9,27),new Date(2018,10,0),new Date(2018,10,21),new Date(2018,5,19),new Date(2019,8,28),new Date(2019,1,0),new Date(2019,2,0),new Date(2020,3,0),new Date(2020,2,0),new Date(2020,4,22),new Date(2021,4,20),new Date(2021,1,20),new Date(2021,3,7),new Date(2017,8,8),new Date(2021,0,24),new Date(2019,11,17),new Date(2019,11,12),new Date(2020,0,13),new Date(2021,4,5),new Date(2018,8,28),new Date(2019,6,31),new Date(2019,6,31),new Date(2011,4,11),new Date(2019,11,5),new Date(2016,2,3),new Date(2018,8,6),new Date(2017,5,23),new Date(2012,7,16),new Date(2015,3,11),new Date(2013,1,2),new Date(2014,4,6),0),T=0,C=null,I=null;function L(t,e){c.attr("opacity",.25),l.attr("opacity",.4),d3.selectAll(".wordText").attr("opacity",.25),d3.select("#area"+e.word).attr("opacity",.85),d3.select("#line"+e.word).attr("opacity",1),d3.select("#text"+e.word).attr("opacity",1)}function M(){c.attr("opacity",.5),l.attr("opacity",1),d3.selectAll(".wordText").attr("opacity",1)}const B={init(){n=e.append("svg").attr("class","pudding-chart");let t=n.append("defs").append("linearGradient").attr("id","linear-gradient");t.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),t.append("stop").attr("offset","0%").attr("stop-color","#3569DC"),t.append("stop").attr("offset","90%").attr("stop-color","#FEFAF1"),t.append("stop").attr("offset","100%").attr("stop-color","#FEFAF1"),o=n.append("g").attr("class","g-axis"),i=d3.scaleBand().domain(d3.range(200)).paddingInner(-1),s=d3.scaleBand().domain(d3.range(1)).paddingInner(.2),r=n.append("g").attr("class","g-vis"),a=r.append("g").selectAll("g").data(k).join("g").attr("class","cell").on("mouseover",((t,e)=>L(0,e))).on("mouseleave",((t,e)=>M())),c=a.append("path").attr("fill","url(#linear-gradient)").attr("opacity",.5).attr("class","wordArea").attr("id",(t=>"area"+t.word)).on("mouseover",((t,e)=>L(0,e))).on("mouseleave",((t,e)=>M())),l=a.append("path").style("stroke","url(#linear-gradient)").attr("stroke-width",1).attr("fill","none").attr("class","wordLine").attr("id",(t=>"line"+t.word)).on("mouseover",((t,e)=>L(0,e))).on("mouseleave",((t,e)=>M())),B.resize(),B.render()},resize:()=>(E=e.node().offsetWidth-80-0,T=4*(e.node().offsetHeight-150-20),n.attr("width",E+80+0).attr("height",T+150+20),i.range([0,T]),s.range([0,E]),C=d3.scaleTime().domain([D,A]).range([0,s.bandwidth()]),xaxis=d3.axisBottom(C).ticks(10).tickSizeOuter(0).tickSizeInner(0).tickPadding(30).tickFormat(((t,e)=>0==e||3==e||6==e||9==e||11==e?d3.timeFormat("%Y")(new Date(t)):"")),w=Object.fromEntries(k.map((t=>(y=d3.max(t.rates,(t=>t.frequency)),I=d3.scaleLinear().domain([0,y]).range([i.bandwidth(),0]).nice(),v=d3.curveMonotoneX,b=d3.area().x((t=>C(t.date))).y1((t=>I(t.frequency))).y0((t=>I(0))).curve(d3.curveMonotoneX),x=d3.line().x((t=>C(t.date))).y((t=>I(t.frequency))).curve(d3.curveMonotoneX),[t.word,{y:I,area:b,line:x}])))),a.attr("transform",(t=>`translate(${s(t.col)}, ${i(t.row)})`)),c.attr("d",(t=>w[t.word].area(t.rates))),l.attr("d",(t=>w[t.word].line(t.rates))),a.each((function(t){const e=d3.select(this).attr("class","SMCell").attr("id",(t=>"cell"+t.word));d3.axisLeft(w[t.word].y).ticks(2).tickSizeOuter(0),e.append("g").attr("class","catLabel").append("text").attr("x",-10).attr("y",i.bandwidth()).attr("class","wordText").attr("id",(t=>"text"+t.word)).text(t.word).on("mouseover",((t,e)=>L(0,e))).on("mouseleave",((t,e)=>M()))})),B),render:()=>(r.attr("transform","translate(80, 150)"),B),data(t){return arguments.length?(u=t,e.datum(u),B):u}};return B.init(),B}));return e.length>1?e:e.pop()}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=n(296),e=n.n(t);const o={android:()=>navigator.userAgent.match(/Android/i),blackberry:()=>navigator.userAgent.match(/BlackBerry/i),ios:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:()=>navigator.userAgent.match(/Opera Mini/i),windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>o.android()||o.blackberry()||o.ios()||o.opera()||o.windows()};var r=o;const i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',s=d3.select("body");function a(t,e,n){const o=t.classed("is-visible");e.attr("aria-expanded",!o),t.classed("is-active",!o),t.classed("is-visible",!o),s.classed("modal-open",!o),!0===n&&(o?e.html((()=>i)):e.html((()=>'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>')))}function l(t){return new Promise(((e,n)=>{const o=t.split(".").pop();"csv"===o?d3.csv(`assets/data/${t}`).then(e).catch(n):"json"===o?d3.json(`assets/data/${t}`).then(e).catch(n):n(new Error(`unsupported file type for: ${t}`))}))}n(515),n(76),n(620),n(835),n(337);var c=n(99),d=n.n(c);let u,p,f,h,g,m,w,y,v,b,x,_,k,D,A,E,T,C=["headlines_site_rapi.csv","headlines_cl_sent_sm_rapi.csv","country_time_freqrank_rapi_clean.csv","polarity_comparison.csv","country_freqtheme_pivoted.csv","word_themes.csv","country_freq_pivoted_all_100221.csv","word_themes_all_100221.csv","word_themes_rank_100221.csv","word_themes_freq_100221.csv"],I=!1,L=null,M=null,B=null,O=null;const z=d3.select("#stickyStackedChart"),R=d3.selectAll("#stackedChartLegend .step"),j=d3.select("#lollipopChart");let S=null,F=d3.select("#smChart"),$=d3.selectAll("button.country"),q=d3.selectAll(".see-more"),N=d3.selectAll("#smChart"),P=d3.selectAll(".fade");const H=d()();function V(t){var e,n;R.classed("is-active",((e,n)=>n===t.index)),e=t.index,n=t.direction,L.updateChart(e,n)}function U(t,e){S=d3.select(`#chart${e}`),B=S.datum(t).puddingBubble(e)}function W(t){O=F.datum(t).puddingTemporalLine()}function Y(){$.classed("country-active",!1);let t=d3.select(this);t.classed("country-active",!0),A=t.property("value"),d3.select("#smChart svg").remove(),T=[f,D,A,E],W(T)}function X(){I=!I,I?(q.select("p").text("See fewer words"),N.transition().duration("1000").style("height","9500px"),P.style("opacity",0)):(q.select("p").text("See more words"),N.transition().duration("1000").style("height","2500px"),P.style("opacity",1))}function K(){const t=Math.floor(.75*window.innerHeight);R.style("height",t+"px"),H.resize();let e=0;const n=d3.select("body").node().offsetWidth;e!==n&&(e=n,L.resize(),M.resize(),B.resize(),O.resize())}var G={init:function(){(function(t){if("string"==typeof t)return l(t);const e=t.map(l);return Promise.all(e)})(C).then((t=>{u=t[0],p=t[1],f=t[2],h=t[3],g=t[4],m=t[5],w=t[6],y=t[7],v=t[8],b=t[9],D=[2009,2022],A="USA",E="freq_prop_headlines",x=[w,y,v,b],_=[u,p,"bias"],k=[u,p,"polarity"],T=[f,D,A,E],H.setup({step:"#stackedChartLegend .step",offset:.7}).onStepEnter(V),function(t){L=z.datum(t).puddingStackedBar()}(x),function(t){M=j.datum(t).puddingLollipop()}(h),U(_,"B"),U(k,"P"),W(T),K(),$.on("click",Y),q.on("click",X)})).catch(console.error)},resize:K};const J=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Women’s Pockets are Inferior"}];let Q=null;function Z(t){return`\n\t<a class='footer-recirc__article' href='https://pudding.cool/${t.url}' target='_blank' rel='noopener'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/${t.image}.jpg' alt='${t.hed}'>\n\t\t<p class='article__headline'>${t.hed}</p>\n\t</a>\n\t`}var tt=function(){!function(t){const e=new XMLHttpRequest,n=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`;e.open("GET",n,!0),e.onload=()=>{if(e.status>=200&&e.status<400){const n=JSON.parse(e.responseText);t(n)}else t(J)},e.onerror=()=>t(J),e.send()}((t=>{Q=t,function(){const t=window.location.href,e=Q.find((e=>t.includes(e.url))),n=e?e.topic:"culture",o=Q.filter((e=>!t.includes(e.url))),r=o.filter((t=>t.topic!==n)),i=o.filter((t=>t.topic===n)),s=[];s.push(...r.slice(0,2)),s.push(i[0]),s.push(i[Math.ceil(Math.random()*(i.length-1))]);const a=s.map(Z).join("");d3.select(".pudding-footer .footer-recirc__articles").html(a)}()}))};const et=d3.select("body");let nt=0;new Array("When","Women","Make","Headlines")[0].length,function(t,e=document){return[...e.querySelectorAll(t)]}("[target='_blank']").forEach((t=>t.setAttribute("rel","noopener"))),et.classed("is-mobile",r.any()),window.addEventListener("resize",e()((function(){const t=et.node().offsetWidth;nt!==t&&(nt=t,G.resize())}),150)),function(){const t=et.select("header");if(t.classed("is-sticky")){const e=et.select("#slide__menu"),n=et.select(".header__toggle");!function(t,e,n,o,r,s){const l=n.selectAll("a, button, .logo").nodes(),c=l[0],d=l[l.length-1];t.on("click",(()=>a(o,t,s))),e.on("click",(()=>a(o,e,s))),n.on("keydown",(e=>{const n=e.code,r=o.classed("is-visible");"Escape"===n&&!0===r&&(t.attr("aria-expanded",!1),t.node().focus(),o.classed("is-active",!1),o.classed("is-visible",!1),t.html((()=>i)))})),d3.select(c).on("keydown",(t=>{if(o.classed("is-visible")){const e=t.code,n=t.shiftKey;"Tab"===e&&!0===n&&(t.preventDefault(),d.focus())}})),d3.select(d).on("keydown",(t=>{if(o.classed("is-visible")){const e=t.code,n=t.shiftKey;"Tab"===e&&!1===n&&(t.preventDefault(),c.focus())}}))}(n,n,t,e,0,!0)}}(),G.init(),tt()}()}();