!function(){var t={221:function(t){var e;window,e=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=37)}([function(t,e,n){var r=n(1),o=n(6),a=n(7),i=n(16),s=n(18),l="prototype",c=function(t,e,n){var u,d,p,f,h=t&c.F,m=t&c.G,y=t&c.S,g=t&c.P,v=t&c.B,w=m?r:y?r[e]||(r[e]={}):(r[e]||{})[l],b=m?o:o[e]||(o[e]={}),x=b[l]||(b[l]={});for(u in m&&(n=e),n)p=((d=!h&&w&&void 0!==w[u])?w:n)[u],f=v&&d?s(p,r):g&&"function"==typeof p?s(Function.call,p):p,w&&i(w,u,p,t&c.U),b[u]!=p&&a(b,u,f),g&&x[u]!=p&&(x[u]=p)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";n.r(e),n.d(e,"h",(function(){return s})),n.d(e,"createElement",(function(){return s})),n.d(e,"cloneElement",(function(){return u})),n.d(e,"Component",(function(){return F})),n.d(e,"render",(function(){return N})),n.d(e,"rerender",(function(){return h})),n.d(e,"options",(function(){return o}));var r=function(){},o={},a=[],i=[];function s(t,e){var n,s,l,c,u=i;for(c=arguments.length;2<c--;)a.push(arguments[c]);for(e&&null!=e.children&&(a.length||a.push(e.children),delete e.children);a.length;)if((s=a.pop())&&void 0!==s.pop)for(c=s.length;c--;)a.push(s[c]);else"boolean"==typeof s&&(s=null),(l="function"!=typeof t)&&(null==s?s="":"number"==typeof s?s=String(s):"string"!=typeof s&&(l=!1)),l&&n?u[u.length-1]+=s:u===i?u=[s]:u.push(s),n=l;var d=new r;return d.nodeName=t,d.children=u,d.attributes=null==e?void 0:e,d.key=null==e?void 0:e.key,void 0!==o.vnode&&o.vnode(d),d}function l(t,e){for(var n in e)t[n]=e[n];return t}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function u(t,e){return s(t.nodeName,l(l({},t.attributes),e),2<arguments.length?[].slice.call(arguments,2):t.children)}var d=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function f(t){!t._dirty&&(t._dirty=!0)&&1==p.push(t)&&(o.debounceRendering||c)(h)}function h(){var t,e=p;for(p=[];t=e.pop();)t._dirty&&I(t)}function m(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function y(t){var e=l({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function g(t){var e=t.parentNode;e&&e.removeChild(t)}function v(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),r&&r(t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var a in n)a in r||(t.style[a]="");for(var a in r)t.style[a]="number"==typeof r[a]&&!1===d.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var i=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,w,i):t.removeEventListener(e,w,i),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var s=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function w(t){return this._listeners[t.type](o.event&&o.event(t)||t)}var b=[],x=0,_=!1,k=!1;function A(){for(var t;t=b.pop();)o.afterMount&&o.afterMount(t),t.componentDidMount&&t.componentDidMount()}function C(t,e,n,r,o){var a=t,i=_;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(a=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(a,t),E(t,!0))),a.__preactattr_=!0,a;var s=e.nodeName;if("function"==typeof s)return function(t,e,n,r){for(var o=t&&t._component,a=o,i=t,s=o&&t._componentConstructor===e.nodeName,l=s,c=y(e);o&&!l&&(o=o._parentComponent);)l=o.constructor===e.nodeName;return o&&l&&(!r||o._component)?(B(o,c,3,n,r),t=o.base):(a&&!s&&(D(a),t=i=null),o=M(e.nodeName,c,n),t&&!o.nextBase&&(o.nextBase=t,i=null),B(o,c,1,n,r),t=o.base,i&&t!==i&&(i._component=null,E(i,!1))),t}(t,e,n,r);if(_="svg"===s||"foreignObject"!==s&&_,s=String(s),(!t||!m(t,s))&&(a=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}(s,_),t)){for(;t.firstChild;)a.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(a,t),E(t,!0)}var l=a.firstChild,c=a.__preactattr_,u=e.children;if(null==c){c=a.__preactattr_={};for(var d=a.attributes,p=d.length;p--;)c[d[p].name]=d[p].value}return!k&&u&&1===u.length&&"string"==typeof u[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=u[0]&&(l.nodeValue=u[0]):(u&&u.length||null!=l)&&function(t,e,n,r,o){var a,i,s,l,c,u,d,p,f=t.childNodes,h=[],y={},v=0,w=0,b=f.length,x=0,_=e?e.length:0;if(0!==b)for(var k=0;k<b;k++){var A=f[k],S=A.__preactattr_;null!=(O=_&&S?A._component?A._component.__key:S.key:null)?(v++,y[O]=A):(S||(void 0!==A.splitText?!o||A.nodeValue.trim():o))&&(h[x++]=A)}if(0!==_)for(k=0;k<_;k++){var O;if(c=null,null!=(O=(l=e[k]).key))v&&void 0!==y[O]&&(c=y[O],y[O]=void 0,v--);else if(w<x)for(a=w;a<x;a++)if(void 0!==h[a]&&(u=i=h[a],p=o,"string"==typeof(d=l)||"number"==typeof d?void 0!==u.splitText:"string"==typeof d.nodeName?!u._componentConstructor&&m(u,d.nodeName):p||u._componentConstructor===d.nodeName)){c=i,h[a]=void 0,a===x-1&&x--,a===w&&w++;break}c=C(c,l,n,r),s=f[k],c&&c!==t&&c!==s&&(null==s?t.appendChild(c):c===s.nextSibling?g(s):t.insertBefore(c,s))}if(v)for(var k in y)void 0!==y[k]&&E(y[k],!1);for(;w<=x;)void 0!==(c=h[x--])&&E(c,!1)}(a,u,n,r,k||null!=c.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||v(t,r,n[r],n[r]=void 0,_);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||v(t,r,n[r],n[r]=e[r],_)}(a,e.attributes,c),_=i,a}function E(t,e){var n=t._component;n?D(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||g(t),S(t))}function S(t){for(t=t.lastChild;t;){var e=t.previousSibling;E(t,!0),t=e}}var O=[];function M(t,e,n){var r,o=O.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),F.call(r,e,n)):((r=new F(e,n)).constructor=t,r.render=T);o--;)if(O[o].constructor===t)return r.nextBase=O[o].nextBase,O.splice(o,1),r;return r}function T(t,e,n){return this.constructor(t,n)}function B(t,e,n,r,a){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||a?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===o.syncComponentUpdates&&t.base?f(t):I(t,1,a)),t.__ref&&t.__ref(t))}function I(t,e,n,r){if(!t._disable){var a,i,s,c=t.props,u=t.state,d=t.context,p=t.prevProps||c,f=t.prevState||u,h=t.prevContext||d,m=t.base,g=t.nextBase,v=m||g,w=t._component,S=!1,O=h;if(t.constructor.getDerivedStateFromProps&&(u=l(l({},u),t.constructor.getDerivedStateFromProps(c,u)),t.state=u),m&&(t.props=p,t.state=f,t.context=h,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,u,d)?S=!0:t.componentWillUpdate&&t.componentWillUpdate(c,u,d),t.props=c,t.state=u,t.context=d),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!S){a=t.render(c,u,d),t.getChildContext&&(d=l(l({},d),t.getChildContext())),m&&t.getSnapshotBeforeUpdate&&(O=t.getSnapshotBeforeUpdate(p,f));var T,F,N=a&&a.nodeName;if("function"==typeof N){var P=y(a);(i=w)&&i.constructor===N&&P.key==i.__key?B(i,P,1,d,!1):(T=i,t._component=i=M(N,P,d),i.nextBase=i.nextBase||g,i._parentComponent=t,B(i,P,0,d,!1),I(i,1,n,!0)),F=i.base}else s=v,(T=w)&&(s=t._component=null),(v||1===e)&&(s&&(s._component=null),F=function(t,e,n,r,o,a){x++||(_=null!=o&&void 0!==o.ownerSVGElement,k=null!=t&&!("__preactattr_"in t));var i=C(t,e,n,r,true);return o&&i.parentNode!==o&&o.appendChild(i),--x||(k=!1),i}(s,a,d,n||!m,v&&v.parentNode));if(v&&F!==v&&i!==w){var L=v.parentNode;L&&F!==L&&(L.replaceChild(F,v),T||(v._component=null,E(v,!1)))}if(T&&D(T),(t.base=F)&&!r){for(var R=t,j=t;j=j._parentComponent;)(R=j).base=F;F._component=R,F._componentConstructor=R.constructor}}for(!m||n?b.unshift(t):S||(t.componentDidUpdate&&t.componentDidUpdate(p,f,O),o.afterUpdate&&o.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);x||r||A()}}function D(t){o.beforeUnmount&&o.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?D(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),g(t.nextBase=e),O.push(t),S(e)),t.__ref&&t.__ref(null)}function F(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function N(t,e,n){return function(t,e,n,r,o,a){x++||(_=null!=o&&void 0!==o.ownerSVGElement,k=null!=t&&!("__preactattr_"in t));var i=C(t,e,{},!1,false);return o&&i.parentNode!==o&&o.appendChild(i),--x||(k=!1,A()),i}(n,t,0,0,e)}l(F.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=l(l({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),f(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),I(this,2)},render:function(){}});var P={h:s,createElement:s,cloneElement:u,Component:F,render:N,rerender:h,options:o};e.default=P},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(8),o=n(40);t.exports=n(3)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(9),o=n(38),a=n(39),i=Object.defineProperty;e.f=n(3)?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),o)try{return i(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(2);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(41)})},function(t,e,n){var r=n(2),o=n(1).document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var r=n(1),o=n(7),a=n(17),i=n(10)("src"),s="toString",l=Function[s],c=(""+l).split(s);n(6).inspectSource=function(t){return l.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(a(n,"name")||o(n,"name",e)),t[e]!==n&&(l&&(a(n,i)||o(n,i,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[i]||l.call(this)}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(19);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(42),o=n(28);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(11),o=n(12);t.exports=function(t){return r(o(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(21),o=n(24),a=n(43);t.exports=function(t){return function(e,n,i){var s,l=r(e),c=o(l.length),u=a(i,c);if(t&&n!=n){for(;u<c;)if((s=l[u++])!=s)return!0}else for(;u<c;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var r=n(25),o=Math.min;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r=n(27)("keys"),o=n(10);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(6),o=n(1),a="__core-js_shared__",i=o[a]||(o[a]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(44)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(12);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(8).f,o=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in o||n(3)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(0),o=n(32)(1);r(r.P+r.F*!n(13)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(18),o=n(11),a=n(29),i=n(24),s=n(47);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,d=6==t,p=5==t||d,f=e||s;return function(e,s,h){for(var m,y,g=a(e),v=o(g),w=r(s,h,3),b=i(v.length),x=0,_=n?f(e,b):l?f(e,0):void 0;x<b;x++)if((p||x in v)&&(y=w(m=v[x],x,g),t))if(n)_[x]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:_.push(m)}else if(u)return!1;return d?-1:c||u?u:_}}},function(t,e,n){var r=n(22);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(27)("wks"),o=n(10),a=n(1).Symbol,i="function"==typeof a;(t.exports=function(t){return r[t]||(r[t]=i&&a[t]||(i?a:o)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r=n(0),o=n(23)(!1),a=[].indexOf,i=!!a&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(i||!n(13)(a)),"Array",{indexOf:function(t){return i?a.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(52)})},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,n(14),n(30),n(31),n(35),n(49),n(50);var r=n(5),o=function(t){return t&&t.__esModule?t:{default:t}}(n(51));function a(t){if(!t.element)throw new Error("element is not defined");if(!t.id)throw new Error("id is not defined");if(!t.source)throw new Error("source is not defined");Array.isArray(t.source)&&(t.source=i(t.source)),(0,r.render)((0,r.createElement)(o.default,t),t.element)}var i=function(t){return function(e,n){n(t.filter((function(t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())})))}};a.enhanceSelectElement=function(t){if(!t.selectElement)throw new Error("selectElement is not defined");if(!t.source){var e=[].filter.call(t.selectElement.options,(function(e){return e.value||t.preserveNullOptions}));t.source=e.map((function(t){return t.textContent||t.innerText}))}if(t.onConfirm=t.onConfirm||function(e){var n=[].filter.call(t.selectElement.options,(function(t){return(t.textContent||t.innerText)===e}))[0];n&&(n.selected=!0)},t.selectElement.value||void 0===t.defaultValue){var n=t.selectElement.options[t.selectElement.options.selectedIndex];t.defaultValue=n.textContent||n.innerText}void 0===t.name&&(t.name=""),void 0===t.id&&(void 0===t.selectElement.id?t.id="":t.id=t.selectElement.id),void 0===t.autoselect&&(t.autoselect=!0);var r=document.createElement("div");t.selectElement.parentNode.insertBefore(r,t.selectElement),a(Object.assign({},t,{element:r})),t.selectElement.style.display="none",t.selectElement.id=t.selectElement.id+"-select"};var s=a;e.default=s},function(t,e,n){t.exports=!n(3)&&!n(4)((function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(2);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var r=n(20),o=n(45),a=n(46),i=n(29),s=n(11),l=Object.assign;t.exports=!l||n(4)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=i(t),l=arguments.length,c=1,u=o.f,d=a.f;c<l;)for(var p,f=s(arguments[c++]),h=u?r(f).concat(u(f)):r(f),m=h.length,y=0;y<m;)d.call(f,p=h[y++])&&(n[p]=f[p]);return n}:l},function(t,e,n){var r=n(17),o=n(21),a=n(23)(!1),i=n(26)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),l=0,c=[];for(n in s)n!=i&&r(s,n)&&c.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){var r=n(25),o=Math.max,a=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):a(t,e)}},function(t,e){t.exports=!1},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(48);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(2),o=n(33),a=n(34)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(0),o=n(32)(2);r(r.P+r.F*!n(13)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(33)})},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,n(14),n(36),n(30),n(31),n(35),n(55),n(58);var r=n(5),o=i(n(60)),a=i(n(61));function i(t){return t&&t.__esModule?t:{default:t}}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c={13:"enter",27:"escape",32:"space",38:"up",40:"down"};function u(){return"undefined"!=typeof navigator&&!(!navigator.userAgent.match(/(iPod|iPhone|iPad)/g)||!navigator.userAgent.match(/AppleWebKit/g))}var d=function(t){function e(e){var n;return(n=t.call(this,e)||this).elementReferences={},n.state={focused:null,hovered:null,menuOpen:!1,options:e.defaultValue?[e.defaultValue]:[],query:e.defaultValue,validChoiceMade:!1,selected:null,ariaHint:!0},n.handleComponentBlur=n.handleComponentBlur.bind(l(l(n))),n.handleKeyDown=n.handleKeyDown.bind(l(l(n))),n.handleUpArrow=n.handleUpArrow.bind(l(l(n))),n.handleDownArrow=n.handleDownArrow.bind(l(l(n))),n.handleEnter=n.handleEnter.bind(l(l(n))),n.handlePrintableKey=n.handlePrintableKey.bind(l(l(n))),n.handleListMouseLeave=n.handleListMouseLeave.bind(l(l(n))),n.handleOptionBlur=n.handleOptionBlur.bind(l(l(n))),n.handleOptionClick=n.handleOptionClick.bind(l(l(n))),n.handleOptionFocus=n.handleOptionFocus.bind(l(l(n))),n.handleOptionMouseDown=n.handleOptionMouseDown.bind(l(l(n))),n.handleOptionMouseEnter=n.handleOptionMouseEnter.bind(l(l(n))),n.handleInputBlur=n.handleInputBlur.bind(l(l(n))),n.handleInputChange=n.handleInputChange.bind(l(l(n))),n.handleInputFocus=n.handleInputFocus.bind(l(l(n))),n.pollInputElement=n.pollInputElement.bind(l(l(n))),n.getDirectInputChanges=n.getDirectInputChanges.bind(l(l(n))),n}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t);var n=e.prototype;return n.isQueryAnOption=function(t,e){var n=this;return-1!==e.map((function(t){return n.templateInputValue(t).toLowerCase()})).indexOf(t.toLowerCase())},n.componentDidMount=function(){this.pollInputElement()},n.componentWillUnmount=function(){clearTimeout(this.$pollInput)},n.pollInputElement=function(){var t=this;this.getDirectInputChanges(),this.$pollInput=setTimeout((function(){t.pollInputElement()}),100)},n.getDirectInputChanges=function(){var t=this.elementReferences[-1];t&&t.value!==this.state.query&&this.handleInputChange({target:{value:t.value}})},n.componentDidUpdate=function(t,e){var n=this.state.focused,r=null===n,o=e.focused!==n;o&&!r&&this.elementReferences[n].focus();var a=-1===n,i=o&&null===e.focused;if(a&&i){var s=this.elementReferences[n];s.setSelectionRange(0,s.value.length)}},n.hasAutoselect=function(){return!u()&&this.props.autoselect},n.templateInputValue=function(t){var e=this.props.templates&&this.props.templates.inputValue;return e?e(t):t},n.templateSuggestion=function(t){var e=this.props.templates&&this.props.templates.suggestion;return e?e(t):t},n.handleComponentBlur=function(t){var e,n=this.state,r=n.options,o=n.query,a=n.selected;this.props.confirmOnBlur?(e=t.query||o,this.props.onConfirm(r[a])):e=o,this.setState({focused:null,menuOpen:t.menuOpen||!1,query:e,selected:null,validChoiceMade:this.isQueryAnOption(e,r)})},n.handleListMouseLeave=function(t){this.setState({hovered:null})},n.handleOptionBlur=function(t,e){var n=this.state,r=n.focused,o=n.menuOpen,a=n.options,i=n.selected,s=null===t.relatedTarget,l=t.relatedTarget===this.elementReferences[-1],c=r!==e&&-1!==r;if(!c&&s||!c&&!l){var d=o&&u();this.handleComponentBlur({menuOpen:d,query:this.templateInputValue(a[i])})}},n.handleInputBlur=function(t){var e=this.state,n=e.focused,r=e.menuOpen,o=e.options,a=e.query,i=e.selected;if(-1===n){var s=r&&u(),l=u()?a:this.templateInputValue(o[i]);this.handleComponentBlur({menuOpen:s,query:l})}},n.handleInputChange=function(t){var e=this,n=this.props,r=n.minLength,o=n.source,a=n.showAllValues,i=this.hasAutoselect(),s=t.target.value,l=0===s.length,c=this.state.query.length!==s.length,u=s.length>=r;this.setState({query:s,ariaHint:l}),a||!l&&c&&u?o(s,(function(t){var n=0<t.length;e.setState({menuOpen:n,options:t,selected:i&&n?0:-1,validChoiceMade:!1})})):!l&&u||this.setState({menuOpen:!1,options:[]})},n.handleInputClick=function(t){this.handleInputChange(t)},n.handleInputFocus=function(t){var e=this.state,n=e.query,r=e.validChoiceMade,o=e.options,a=this.props.minLength,i=!r&&n.length>=a&&0<o.length;i?this.setState((function(t){var e=t.menuOpen;return{focused:-1,menuOpen:i||e,selected:-1}})):this.setState({focused:-1})},n.handleOptionFocus=function(t){this.setState({focused:t,hovered:null,selected:t})},n.handleOptionMouseEnter=function(t,e){u()||this.setState({hovered:e})},n.handleOptionClick=function(t,e){var n=this.state.options[e],r=this.templateInputValue(n);this.props.onConfirm(n),this.setState({focused:-1,hovered:null,menuOpen:!1,query:r,selected:-1,validChoiceMade:!0}),this.forceUpdate()},n.handleOptionMouseDown=function(t){t.preventDefault()},n.handleUpArrow=function(t){t.preventDefault();var e=this.state,n=e.menuOpen,r=e.selected;-1!==r&&n&&this.handleOptionFocus(r-1)},n.handleDownArrow=function(t){var e=this;if(t.preventDefault(),this.props.showAllValues&&!1===this.state.menuOpen)t.preventDefault(),this.props.source("",(function(t){e.setState({menuOpen:!0,options:t,selected:0,focused:0,hovered:null})}));else if(!0===this.state.menuOpen){var n=this.state,r=n.menuOpen,o=n.options,a=n.selected;a!==o.length-1&&r&&this.handleOptionFocus(a+1)}},n.handleSpace=function(t){var e=this;this.props.showAllValues&&!1===this.state.menuOpen&&""===this.state.query&&(t.preventDefault(),this.props.source("",(function(t){e.setState({menuOpen:!0,options:t})}))),-1!==this.state.focused&&(t.preventDefault(),this.handleOptionClick(t,this.state.focused))},n.handleEnter=function(t){this.state.menuOpen&&(t.preventDefault(),0<=this.state.selected&&this.handleOptionClick(t,this.state.selected))},n.handlePrintableKey=function(t){var e=this.elementReferences[-1];t.target===e||e.focus()},n.handleKeyDown=function(t){switch(c[t.keyCode]){case"up":this.handleUpArrow(t);break;case"down":this.handleDownArrow(t);break;case"space":this.handleSpace(t);break;case"enter":this.handleEnter(t);break;case"escape":this.handleComponentBlur({query:this.state.query});break;default:(function(t){return 47<t&&t<58||32===t||8===t||64<t&&t<91||95<t&&t<112||185<t&&t<193||218<t&&t<223})(t.keyCode)&&this.handlePrintableKey(t)}},n.render=function(){var t,e=this,n=this.props,a=n.cssNamespace,i=n.displayMenu,l=n.id,c=n.minLength,d=n.name,p=n.placeholder,f=n.required,h=n.showAllValues,m=n.tNoResults,y=n.tStatusQueryTooShort,g=n.tStatusNoResults,v=n.tStatusSelectedOption,w=n.tStatusResults,b=n.tAssistiveHint,x=n.dropdownArrow,_=this.state,k=_.focused,A=_.hovered,C=_.menuOpen,E=_.options,S=_.query,O=_.selected,M=_.ariaHint,T=_.validChoiceMade,B=this.hasAutoselect(),I=-1===k,D=0===E.length,F=0!==S.length,N=S.length>=c,P=this.props.showNoOptionsFound&&I&&D&&F&&N,L=a+"__wrapper",R=a+"__input",j=null!==k?" "+R+"--focused":"",q=this.props.showAllValues?" "+R+"--show-all-values":" "+R+"--default",U=a+"__dropdown-arrow-down",$=-1!==k&&null!==k,z=a+"__menu",V=z+"--"+i,W=z+"--"+(C||P?"visible":"hidden"),H=a+"__option",K=a+"__hint",G=this.templateInputValue(E[O]),Y=G&&0===G.toLowerCase().indexOf(S.toLowerCase())&&B?S+G.substr(S.length):"",J=l+"__assistiveHint",Q=M?{"aria-describedby":J}:null;return h&&"string"==typeof(t=x({className:U}))&&(t=(0,r.createElement)("div",{className:a+"__dropdown-arrow-down-wrapper",dangerouslySetInnerHTML:{__html:t}})),(0,r.createElement)("div",{className:L,onKeyDown:this.handleKeyDown},(0,r.createElement)(o.default,{id:l,length:E.length,queryLength:S.length,minQueryLength:c,selectedOption:this.templateInputValue(E[O]),selectedOptionIndex:O,validChoiceMade:T,isInFocus:null!==this.state.focused,tQueryTooShort:y,tNoResults:g,tSelectedOption:v,tResults:w}),Y&&(0,r.createElement)("span",null,(0,r.createElement)("input",{className:K,readonly:!0,tabIndex:"-1",value:Y})),(0,r.createElement)("input",s({"aria-expanded":C?"true":"false","aria-activedescendant":!!$&&l+"__option--"+k,"aria-owns":l+"__listbox","aria-autocomplete":this.hasAutoselect()?"both":"list"},Q,{autoComplete:"off",className:""+R+j+q,id:l,onClick:function(t){return e.handleInputClick(t)},onBlur:this.handleInputBlur},function(t){return{onInput:t}}(this.handleInputChange),{onFocus:this.handleInputFocus,name:d,placeholder:p,ref:function(t){e.elementReferences[-1]=t},type:"text",role:"combobox",required:f,value:S})),t,(0,r.createElement)("ul",{className:z+" "+V+" "+W,onMouseLeave:function(t){return e.handleListMouseLeave(t)},id:l+"__listbox",role:"listbox"},E.map((function(t,n){var o=(-1===k?O===n:k===n)&&null===A?" "+H+"--focused":"",a=n%2?" "+H+"--odd":"",i=u()?"<span id="+l+"__option-suffix--"+n+' style="border:0;clip:rect(0 0 0 0);height:1px;marginBottom:-1px;marginRight:-1px;overflow:hidden;padding:0;position:absolute;whiteSpace:nowrap;width:1px"> '+(n+1)+" of "+E.length+"</span>":"";return(0,r.createElement)("li",{"aria-selected":k===n?"true":"false",className:""+H+o+a,dangerouslySetInnerHTML:{__html:e.templateSuggestion(t)+i},id:l+"__option--"+n,key:n,onBlur:function(t){return e.handleOptionBlur(t,n)},onClick:function(t){return e.handleOptionClick(t,n)},onMouseDown:e.handleOptionMouseDown,onMouseEnter:function(t){return e.handleOptionMouseEnter(t,n)},ref:function(t){e.elementReferences[n]=t},role:"option",tabIndex:"-1","aria-posinset":n+1,"aria-setsize":E.length})})),P&&(0,r.createElement)("li",{className:H+" "+H+"--no-results"},m())),(0,r.createElement)("span",{id:J,style:{display:"none"}},b()))},e}(r.Component);(e.default=d).defaultProps={autoselect:!1,cssNamespace:"autocomplete",defaultValue:"",displayMenu:"inline",minLength:0,name:"input-autocomplete",placeholder:"",onConfirm:function(){},confirmOnBlur:!0,showNoOptionsFound:!0,showAllValues:!1,required:!1,tNoResults:function(){return"No results found"},tAssistiveHint:function(){return"When autocomplete results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures."},dropdownArrow:a.default}},function(t,e,n){var r=n(9),o=n(53),a=n(28),i=n(26)("IE_PROTO"),s=function(){},l="prototype",c=function(){var t,e=n(15)("iframe"),r=a.length;for(e.style.display="none",n(54).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c[l][a[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=r(t),n=new s,s[l]=null,n[i]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(8),o=n(9),a=n(20);t.exports=n(3)?Object.defineProperties:function(t,e){o(t);for(var n,i=a(e),s=i.length,l=0;l<s;)r.f(t,n=i[l++],e[n]);return t}},function(t,e,n){var r=n(1).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(0);r(r.P,"Function",{bind:n(56)})},function(t,e,n){"use strict";var r=n(19),o=n(2),a=n(57),i=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),l=function(){var r=n.concat(i.call(arguments));return this instanceof l?function(t,e,n){if(!(e in s)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):a(e,r,t)};return o(e.prototype)&&(l.prototype=e.prototype),l}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){n(59)("match",1,(function(t,e,n){return[function(n){"use strict";var r=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,r):new RegExp(n)[e](String(r))},n]}))},function(t,e,n){"use strict";var r=n(7),o=n(16),a=n(4),i=n(12),s=n(34);t.exports=function(t,e,n){var l=s(t),c=n(i,l,""[t]),u=c[0],d=c[1];a((function(){var e={};return e[l]=function(){return 7},7!=""[t](e)}))&&(o(String.prototype,t,u),r(RegExp.prototype,l,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)}))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,n(36);var r=n(5),o=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state={bump:!1,debounced:!1},e}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t);var n=e.prototype;return n.componentWillMount=function(){var t=this;this.debounceStatusUpdate=function(t,e,n){var r;return function(){var e=this,o=arguments,a=function(){r=null,t.apply(e,o)},i=n;clearTimeout(r),r=setTimeout(a,1400),i&&t.apply(e,o)}}((function(){if(!t.state.debounced){var e=!t.props.isInFocus||t.props.validChoiceMade;t.setState((function(t){return{bump:!t.bump,debounced:!0,silenced:e}}))}}))},n.componentWillReceiveProps=function(t){t.queryLength,this.setState({debounced:!1})},n.render=function(){var t,e=this.props,n=e.id,o=e.length,a=e.queryLength,i=e.minQueryLength,s=e.selectedOption,l=e.selectedOptionIndex,c=e.tQueryTooShort,u=e.tNoResults,d=e.tSelectedOption,p=e.tResults,f=this.state,h=f.bump,m=f.debounced,y=f.silenced,g=a<i,v=0===o,w=s?d(s,o,l):"";return t=g?c(i):v?u():p(o,w),this.debounceStatusUpdate(),(0,r.createElement)("div",{style:{border:"0",clip:"rect(0 0 0 0)",height:"1px",marginBottom:"-1px",marginRight:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},(0,r.createElement)("div",{id:n+"__status--A",role:"status","aria-atomic":"true","aria-live":"polite"},!y&&m&&h?t:""),(0,r.createElement)("div",{id:n+"__status--B",role:"status","aria-atomic":"true","aria-live":"polite"},y||!m||h?"":t))},e}(r.Component);(e.default=o).defaultProps={tQueryTooShort:function(t){return"Type in "+t+" or more characters for results"},tNoResults:function(){return"No search results"},tSelectedOption:function(t,e,n){return t+" "+(n+1)+" of "+e+" is highlighted"},tResults:function(t,e){return t+" "+(1===t?"result":"results")+" "+(1===t?"is":"are")+" available. "+e}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=n(5);e.default=function(t){var e=t.className;return(0,r.createElement)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:e,focusable:"false"},(0,r.createElement)("g",{stroke:"none",fill:"none","fill-rule":"evenodd"},(0,r.createElement)("polygon",{fill:"#000000",points:"0 0 22 0 11 17"})))}}]).default},t.exports=e()},337:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=o(e);n;)n=o(e=n.ownerDocument);return e}(),e=[],n=null,r=null;i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i._setupCrossOriginUpdater=function(){return n||(n=function(t,n){r=t&&n?d(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},i._resetCrossOriginUpdater=function(){n=null,r=null},i.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var r=this._checkForIntersections,a=null,i=null;this.POLL_INTERVAL?a=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(i=new n.MutationObserver(r)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(a&&t.clearInterval(a),l(t,"resize",r,!0)),l(e,"scroll",r,!0),i&&i.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=c){var u=o(e);u&&this._monitorIntersections(u.ownerDocument)}}},i.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||t;if(!this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=r;){var a=o(n);if((n=a&&a.ownerDocument)==e)return!0}return!1}))){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),e!=r){var i=o(e);i&&this._unmonitorIntersections(i.ownerDocument)}}}},i.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},i.prototype._checkForIntersections=function(){if(this.root||!n||r){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,i=c(o),s=this._rootContainsTarget(o),l=r.entry,u=t&&s&&this._computeTargetAndRootIntersection(o,i,e),d=null;this._rootContainsTarget(o)?n&&!this.root||(d=e):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var p=r.entry=new a({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:i,rootBounds:d,intersectionRect:u});l?t&&s?this._hasCrossedThreshold(l,p)&&this._queuedEntries.push(p):l&&l.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},i.prototype._computeTargetAndRootIntersection=function(e,o,a){if("none"!=window.getComputedStyle(e).display){for(var i,s,l,u,p,h,m,y,g=o,v=f(e),w=!1;!w&&v;){var b=null,x=1==v.nodeType?window.getComputedStyle(v):{};if("none"==x.display)return null;if(v==this.root||9==v.nodeType)if(w=!0,v==this.root||v==t)n&&!this.root?!r||0==r.width&&0==r.height?(v=null,b=null,g=null):b=r:b=a;else{var _=f(v),k=_&&c(_),A=_&&this._computeTargetAndRootIntersection(_,k,a);k&&A?(v=_,b=d(k,A)):(v=null,g=null)}else{var C=v.ownerDocument;v!=C.body&&v!=C.documentElement&&"visible"!=x.overflow&&(b=c(v))}if(b&&(i=b,s=g,void 0,void 0,void 0,void 0,void 0,void 0,l=Math.max(i.top,s.top),u=Math.min(i.bottom,s.bottom),p=Math.max(i.left,s.left),y=u-l,g=(m=(h=Math.min(i.right,s.right))-p)>=0&&y>=0&&{top:l,bottom:u,left:p,right:h,width:m,height:y}||null),!g)break;v=v&&f(v)}return g}},i.prototype._getRootRect=function(){var e;if(this.root&&!h(this.root))e=c(this.root);else{var n=h(this.root)?this.root:t,r=n.documentElement,o=n.body;e={top:0,left:0,right:r.clientWidth||o.clientWidth,width:r.clientWidth||o.clientWidth,bottom:r.clientHeight||o.clientHeight,height:r.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var a=this.thresholds[o];if(a==n||a==r||a<n!=a<r)return!0}},i.prototype._rootIsInDom=function(){return!this.root||p(t,this.root)},i.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return p(n,e)&&(!this.root||n==e.ownerDocument)},i.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},i.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=i,window.IntersectionObserverEntry=a}function o(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function a(t){this.time=t.time,this.target=t.target,this.rootBounds=u(t.rootBounds),this.boundingClientRect=u(t.boundingClientRect),this.intersectionRect=u(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function i(t,e){var n,r,o,a=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(a.root&&1!=a.root.nodeType&&9!=a.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(a.rootMargin),this.thresholds=this._initThresholds(a.threshold),this.root=a.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function l(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function c(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function d(t,e){var n=e.top-t.top,r=e.left-t.left;return{top:n,left:r,height:e.height,width:e.width,bottom:n+e.height,right:r+e.width}}function p(t,e){for(var n=e;n;){if(n==t)return!0;n=f(n)}return!1}function f(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?o(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function h(t){return t&&9===t.nodeType}}()},296:function(t,e,n){var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,p=Math.max,f=Math.min,h=function(){return u.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=a.test(t);return n||i.test(t)?s(t.slice(2),n?2:8):o.test(t)?NaN:+t}t.exports=function(t,e,n){var r,o,a,i,s,l,c=0,u=!1,d=!1,g=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=r,a=o;return r=o=void 0,c=e,i=t.apply(a,n)}function w(t){return c=t,s=setTimeout(x,e),u?v(t):i}function b(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-c>=a}function x(){var t=h();if(b(t))return _(t);s=setTimeout(x,function(t){var n=e-(t-l);return d?f(n,a-(t-c)):n}(t))}function _(t){return s=void 0,g&&r?v(t):(r=o=void 0,i)}function k(){var t=h(),n=b(t);if(r=arguments,o=this,l=t,n){if(void 0===s)return w(l);if(d)return s=setTimeout(x,e),v(l)}return void 0===s&&(s=setTimeout(x,e)),i}return e=y(e)||0,m(n)&&(u=!!n.leading,a=(d="maxWait"in n)?p(y(n.maxWait)||0,e):a,g="trailing"in n?!!n.trailing:g),k.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},k.flush=function(){return void 0===s?i:_(h())},k}},99:function(t){t.exports=function(){"use strict";function t(t){return"scrollama__debug-offset--"+t}function e(e){!function(e){var n=e.id,r=e.offsetVal,o=e.stepClass,a=document.createElement("div");a.id=t(n),a.className="scrollama__debug-offset",a.style.position="fixed",a.style.left="0",a.style.width="100%",a.style.height="0",a.style.borderTop="2px dashed black",a.style.zIndex="9999";var i=document.createElement("p");i.innerHTML='".'+o+'" trigger: <span>'+r+"</span>",i.style.fontSize="12px",i.style.fontFamily="monospace",i.style.color="black",i.style.margin="0",i.style.padding="6px",a.appendChild(i),document.body.appendChild(a)}({id:e.id,offsetVal:e.offsetVal,stepClass:e.stepEl[0].className})}function n(t){var e=t.id,n=t.index,r=t.state,o="scrollama__debug-step--"+e+"-"+n,a=document.getElementById(o+"_above"),i=document.getElementById(o+"_below"),s="enter"===r?"block":"none";a&&(a.style.display=s),i&&(i.style.display=s)}return function(){var r=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"],o={},a={},i=null,s=[],l=[],c=[],u=[],d=0,p=0,f=0,h=0,m=0,y=0,g=!1,v=!1,w=!1,b=!1,x=!1,_=!1,k="down",A="percent",C=[];function E(t){console.error("scrollama error: "+t)}function S(){o={stepEnter:function(){},stepExit:function(){},stepProgress:function(){}},a={}}function O(t){return t.getBoundingClientRect().top+window.pageYOffset-(document.body.clientTop||0)}function M(t){return+t.getAttribute("data-scrollama-index")}function T(){window.pageYOffset>m?k="down":window.pageYOffset<m&&(k="up"),m=window.pageYOffset}function B(t){a[t]&&a[t].forEach((function(t){return t.disconnect()}))}function I(){var e,n;f=window.innerHeight,e=document.body,n=document.documentElement,h=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),p=d*("pixels"===A?1:f),g&&(l=s.map((function(t){return t.getBoundingClientRect().height})),c=s.map(O),v&&V()),w&&function(e){var n=e.id,r=e.offsetMargin,o=e.offsetVal,a="pixels"===e.format?"px":"",i=t(n),s=document.getElementById(i);s.style.top=r+"px",s.querySelector("span").innerText=""+o+a}({id:i,offsetMargin:p,offsetVal:d,format:A})}function D(t){if(t&&!v){if(!g)return E("scrollama error: enable() called before scroller was ready"),void(v=!1);V()}!t&&v&&r.forEach(B),v=t}function F(t,e){var n=M(t);void 0!==e&&(u[n].progress=e);var r={element:t,index:n,progress:u[n].progress};"enter"===u[n].state&&o.stepProgress(r)}function N(t,e){if("above"===e)for(var n=0;n<t;n+=1){var r=u[n];"enter"!==r.state&&"down"!==r.direction?(P(s[n],"down",!1),L(s[n],"down")):"enter"===r.state&&L(s[n],"down")}else if("below"===e)for(var o=u.length-1;o>t;o-=1){var a=u[o];"enter"===a.state&&L(s[o],"up"),"down"===a.direction&&(P(s[o],"up",!1),L(s[o],"up"))}}function P(t,e,r){void 0===r&&(r=!0);var a=M(t),s={element:t,index:a,direction:e};u[a].direction=e,u[a].state="enter",x&&r&&"down"===e&&N(a,"above"),x&&r&&"up"===e&&N(a,"below"),o.stepEnter&&!C[a]&&(o.stepEnter(s,u),w&&n({id:i,index:a,state:"enter"}),_&&(C[a]=!0)),b&&F(t)}function L(t,e){var r=M(t),a={element:t,index:r,direction:e};b&&("down"===e&&u[r].progress<1?F(t,1):"up"===e&&u[r].progress>0&&F(t,0)),u[r].direction=e,u[r].state="exit",o.stepExit(a,u),w&&n({id:i,index:r,state:"exit"})}function R(t){var e=t[0];T();var n=e.isIntersecting,r=e.boundingClientRect,o=e.target,a=r.top,i=r.bottom,s=a-p,l=i-p,c=M(o),d=u[c];n&&s<=0&&l>=0&&"down"===k&&"enter"!==d.state&&P(o,k),!n&&s>0&&"up"===k&&"enter"===d.state&&L(o,k)}function j(t){var e=t[0];T();var n=e.isIntersecting,r=e.boundingClientRect,o=e.target,a=r.top,i=r.bottom,s=a-p,l=i-p,c=M(o),d=u[c];n&&s<=0&&l>=0&&"up"===k&&"enter"!==d.state&&P(o,k),!n&&l<0&&"down"===k&&"enter"===d.state&&L(o,k)}function q(t){var e=t[0];T();var n=e.isIntersecting,r=e.target,o=M(r),a=u[o];n&&"down"===k&&"down"!==a.direction&&"enter"!==a.state&&(P(r,"down"),L(r,"down"))}function U(t){var e=t[0];T();var n=e.isIntersecting,r=e.target,o=M(r),a=u[o];n&&"up"===k&&"down"===a.direction&&"enter"!==a.state&&(P(r,"up"),L(r,"up"))}function $(t){var e=t[0];T();var n=e.isIntersecting,r=e.intersectionRatio,o=e.boundingClientRect,a=e.target,i=o.bottom;n&&i-p>=0&&F(a,+r)}function z(){a.stepProgress=s.map((function(t,e){var n=l[e]-p+"px 0px "+(-f+p)+"px 0px",r=function(t){for(var e=Math.ceil(t/y),n=[],r=1/e,o=0;o<e;o+=1)n.push(o*r);return n}(l[e]),o=new IntersectionObserver($,{rootMargin:n,threshold:r});return o.observe(t),o}))}function V(){r.forEach(B),a.viewportAbove=s.map((function(t,e){var n=h-c[e],r=p-f-l[e],o=new IntersectionObserver(q,{rootMargin:n+"px 0px "+r+"px 0px"});return o.observe(t),o})),a.viewportBelow=s.map((function(t,e){var n=-p-l[e],r=p-f+l[e]+h,o=new IntersectionObserver(U,{rootMargin:n+"px 0px "+r+"px 0px"});return o.observe(t),o})),a.stepAbove=s.map((function(t,e){var n=-p+l[e],r=new IntersectionObserver(R,{rootMargin:n+"px 0px "+(p-f)+"px 0px"});return r.observe(t),r})),a.stepBelow=s.map((function(t,e){var n=-p,r=p-f+l[e],o=new IntersectionObserver(j,{rootMargin:n+"px 0px "+r+"px 0px"});return o.observe(t),o})),b&&z()}function W(t){return!(!t||1!==t.nodeType)&&(function(t){var e=window.getComputedStyle(t);return("scroll"===e.overflowY||"auto"===e.overflowY)&&t.scrollHeight>t.clientHeight}(t)?t:W(t.parentNode))}var H={setup:function(t){var n=t.step,r=t.parent,o=t.offset;void 0===o&&(o=.5);var a=t.progress;void 0===a&&(a=!1);var l=t.threshold;void 0===l&&(l=4);var c=t.debug;void 0===c&&(c=!1);var p=t.order;void 0===p&&(p=!0);var f,h,m,v=t.once;if(void 0===v&&(v=!1),S(),h=(f="abcdefghijklmnopqrstuv").length,m=Date.now(),i=""+[0,0,0].map((function(t){return f[Math.floor(Math.random()*h)]})).join("")+m,!(s=function(t,e){return void 0===e&&(e=document),"string"==typeof t?Array.from(e.querySelectorAll(t)):t instanceof Element?[t]:t instanceof NodeList?Array.from(t):t instanceof Array?t:[]}(n,r)).length)return E("no step elements"),H;var k=s.reduce((function(t,e){return t||W(e.parentNode)}),!1);return k&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",k),w=c,b=a,x=p,_=v,H.offsetTrigger(o),y=Math.max(1,+l),g=!0,w&&e({id:i,stepEl:s,offsetVal:d}),s.forEach((function(t,e){return t.setAttribute("data-scrollama-index",e)})),u=s.map((function(){return{direction:null,state:null,progress:0}})),I(),H.enable(),H},resize:function(){return I(),H},enable:function(){return D(!0),H},disable:function(){return D(!1),H},destroy:function(){D(!1),S()},offsetTrigger:function(t){if(null===t)return d;if("number"==typeof t)A="percent",t>1&&E("offset value is greater than 1. Fallback to 1."),t<0&&E("offset value is lower than 0. Fallback to 0."),d=Math.min(Math.max(0,t),1);else if("string"==typeof t&&t.indexOf("px")>0){var e=+t.replace("px","");isNaN(e)?(E("offset value must be in 'px' format. Fallback to 0.5."),d=.5):(A="pixels",d=e)}else E("offset value does not include 'px'. Fallback to 0.5."),d=.5;return H},onStepEnter:function(t){return"function"==typeof t?o.stepEnter=t:E("onStepEnter requires a function"),H},onStepExit:function(t){return"function"==typeof t?o.stepExit=t:E("onStepExit requires a function"),H},onStepProgress:function(t){return"function"==typeof t?o.stepProgress=t:E("onStepProgress requires a function"),H}};return H}}()},835:function(){d3.selection.prototype.puddingTemporalLine=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,r=null,o=null,a=null,i=null,s=null,l=null,c=null,u=null,d=null,p=null,f=d3.selectAll(".tooltip"),h=e.datum(),m=h[0],y=h[1],g=h[2],v=h[3],w=null,b=m.filter((t=>t.year>y[0]&&t.year<y[1]&&t.country===g&&"people and places"!==t.theme));const x=["crime and violence","female stereotypes","empowerment","important people","race, ethnicity and identity","No theme"],_=({data:t,sortBy:e,sortField:n})=>{const r=e.reduce(((t,e,n)=>({...t,[e]:n})),{});return t.sort(((t,e)=>r[t[n]]-r[e[n]]))};b=_({data:b,sortBy:x,sortField:"theme"});let k=function(t){const e=d3.rollups(t.filter((t=>t.theme===x[0])).sort(((t,e)=>d3.ascending(t.freq_prop_headlines,e.freq_prop_headlines))),(t=>t[0].year),(t=>t.word)).sort(((t,e)=>d3.ascending(t[1],e[1]))).map((t=>t[0])),n=d3.rollups(t.filter((t=>t.theme===x[1])).sort(((t,e)=>d3.ascending(t.freq_prop_headlines,e.freq_prop_headlines))),(t=>t[0].year),(t=>t.word)).sort(((t,e)=>d3.ascending(t[1],e[1]))).map((t=>t[0])),r=d3.rollups(t.filter((t=>t.theme===x[2])).sort(((t,e)=>d3.ascending(t.freq_prop_headlines,e.freq_prop_headlines))),(t=>t[0].year),(t=>t.word)).sort(((t,e)=>d3.ascending(t[1],e[1]))).map((t=>t[0])),o=d3.rollups(t.filter((t=>t.theme===x[3])).sort(((t,e)=>d3.ascending(t.freq_prop_headlines,e.freq_prop_headlines))),(t=>t[0].year),(t=>t.word)).sort(((t,e)=>d3.ascending(t[1],e[1]))).map((t=>t[0]));return e.concat(n,r,o)}(b);const A=d3.map(b,(t=>t.word)).filter((function(t,e,n){return n.indexOf(t)===e})).length/1;let C=d3.cross(d3.range(A),d3.range(1),((t,e)=>({row:t,col:e})));b=b.map((t=>({year:t.year,frequency:t[v],word:t.word,word_type:t.word_type,theme:t.theme})));let E,S,O,M,T=d3.rollup(b,(t=>t.map((({year:t,frequency:e})=>({date:new Date(t,0,1),frequency:e})))),(t=>t.word)),B=d3.zip(_({data:Array.from(T),sortBy:k,sortField:"0"}),C).map((([[t,e],{row:n,col:r}])=>({word:t,rates:e,row:n,col:r}))),I=B[0].rates[0].date,D=B[0].rates[B[0].rates.length-1].date,F=(new Date(2010,0).getTime(),new Date(2021,0).getTime(),[{uid:1,name:"Horrifying gang rape and murder in New Delhi, India",category:4,date:new Date(2012,11,16)},{uid:1,name:"The U.S. military removes a ban against women serving in combat positions",category:4,date:new Date(2013,1,24)},{uid:1,name:"A new Pentagon report found a 50% increase in sexual assault reports in 2013",category:4,date:new Date(2014,5,1)},{uid:1,name:"Caitlyn Jenner comes out in an interview",category:4,date:new Date(2015,4,24)},{uid:1,name:"A survey for the Department of Defense finds that in the past year 52% of active service members who reported sexual assault had experienced retaliation in the form of professional, social, and administrative actions or punishments.",category:4,date:new Date(2015,4,18)},{uid:2,name:"People v. Turner: Brock Turner is arrested for sexually assaulting an unconscious woman",category:4,date:new Date(2015,1,18)},{uid:1,name:"#EndRapeCulture in South Africa",category:4,date:new Date(2016,4,0)},{uid:2,name:"Hillary Clinton becomes the first woman to receive a presidential nomination from a major political party",category:4,date:new Date(2016,7,26)},{uid:3,name:"Trump: “Grab ‘em by the pussy”",category:4,date:new Date(2016,10,8)},{uid:4,name:"People v. Turner: Brock Turner is convicted for three counts of felony sexual assault",category:4,date:new Date(2016,3,30)},{uid:5,name:"People v. Turner: Brock Turner is released after spending 3 months in jail",category:4,date:new Date(2016,9,2)},{uid:1,name:"#MeToo in U.S.A.",category:4,date:new Date(2017,10,15)},{uid:2,name:"Harvey Weinstein Trial",category:4,date:new Date(2017,10,0)},{uid:3,name:"#ChurchToo in U.S.A.",category:4,date:new Date(2017,11,0)},{uid:4,name:"#MeTooSTEM and removal of Francisco J. Ayala from UC Irvine",category:4,date:new Date(2017,11,0)},{uid:5,name:"Release of Wonder Woman",category:4,date:new Date(2017,5,15)},{uid:6,name:"Larry Nassar U.S. Gymnastics doctor sexual assault scandal",category:4,date:new Date(2017,12,0)},{uid:7,name:"Jessie Reyez releases “Gatekeeper”",category:4,date:new Date(2017,4,26)},{uid:8,name:"The 2017 Westminster sexual scandals in the U.K. and resignation of Sir Michael Fallon",category:4,date:new Date(2017,11,0)},{uid:1,name:"Meghan Markle’s wedding to Prince Harry in U.K.",category:4,date:new Date(2018,5,19)},{uid:2,name:"MEE TOO bill in U.S. Congress",category:4,date:new Date(2018,1,18)},{uid:3,name:"Priyanka Chopra marries Nick Jonas in India",category:4,date:new Date(2018,12,1)},{uid:4,name:"People v. Turner: Brock Turner is convicted by jury trial of three counts of felony sexual assault",category:4,date:new Date(2018,1,0)},{uid:5,name:"Google’s Andy Rubin sexual misconduct scandal",category:4,date:new Date(2018,10,25)},{uid:6,name:"Global Women’s March",category:4,date:new Date(2018,1,20)},{uid:7,name:"#MeTooMilitary in U.S.A",category:4,date:new Date(2018,1,0)},{uid:8,name:"#MeToo in India",category:4,date:new Date(2018,10,0)},{uid:9,name:"Mass sexual assaults during the 2018 new year's celebrations in Bangalore",category:4,date:new Date(2018,12,0)},{uid:10,name:"Indian actress Tanushree Dutta accuses Nana Patekar of sexual harassment",category:4,date:new Date(2018,9,27)},{uid:11,name:"Indian minister of state for External Affairs, MJ Akbar is accused of sexual harassment by several female colleagues through the 'Me Too' Movement in India",category:4,date:new Date(2018,10,0)},{uid:12,name:"Indian music director Anu Malik is suspended from the jury panel of Indian Idol 2018, after facing multiple allegations of sexual harassment",category:4,date:new Date(2018,10,21)},{uid:13,name:"Marriage of Prince Harry and Meghan Markle",category:4,date:new Date(2018,5,19)},{uid:1,name:"Greta Thunberg: Climate Action Summit and sail to NYC",category:4,date:new Date(2019,8,28)},{uid:2,name:"Release of “Surviving R. Kelly” documentary",category:4,date:new Date(2019,1,0)},{uid:3,name:"Arrest of R. Kelly for 10 counts of sexual abuse against four women",category:4,date:new Date(2019,2,0)},{uid:1,name:"#SayHerName: Murder of Breonna Taylor",category:4,date:new Date(2020,3,0)},{uid:2,name:"International Women’s Cricket T20",category:4,date:new Date(2020,2,0)},{uid:3,name:"Rape and murder of Vanessa Guillén in U.S. military",category:4,date:new Date(2020,4,22)},{uid:1,name:"16 year old Ma'Khia Bryant is fatally shot by police officer Nicholas Reardon in Columbus, Ohio",category:4,date:new Date(2021,4,20)},{uid:2,name:"Kamala Harris is sworn in as the first woman and first woman of color vice president of the United States",category:4,date:new Date(2021,1,20)},{uid:3,name:"Oprah with Meghan and Harry and “Megxit”",category:4,date:new Date(2021,3,7)},{uid:3,name:"Indian Prime Minister, Narendra Modi, follows trolls on twitter”",category:4,date:new Date(2017,8,8)},{uid:3,name:"Study finds that Indian women politicians face more trolling than US, UK counterparts",category:4,date:new Date(2021,0,24)},{uid:3,name:"40% Indian women fear online trolls as they access Internet: Nielson report",category:4,date:new Date(2019,11,17)},{uid:3,name:"Indian central government passes the Citizenship Amendment Act, by providing a pathway to Indian citizenship for persecuted religious minorities from Afghanistan, Bangladesh and Pakistan who are Hindus, Sikhs, Buddhists, Jains, Parsis or Christians, and arrived in India before the end of December 2014",category:4,date:new Date(2019,11,12)},{uid:3,name:"India saw, for the first time, a sustained countrywide movement led by Women against the CAA-NRC bills",category:4,date:new Date(2020,0,13)},{uid:3,name:"defamation case filed by former Union minister M J Akbar's against journalist Priya Ramani who had accused him of sexual harassment",category:4,date:new Date(2021,4,5)},{uid:3,name:"A majority judgement which declared the prohibition of entry of women aged between 10 and 50 into Sabarimala temple, as unconstitutional and discriminatory",category:4,date:new Date(2018,8,28)},{uid:3,name:"A Supreme Court Bench declared muslim instantaneous divorce, triple Talaq, as unconstitutional",category:4,date:new Date(2019,6,31)},{uid:3,name:"Indian court grants bail to Nupur Talwar, a dentist accused in the twin murder of her daughter and domestic help",category:4,date:new Date(2019,6,31)},{uid:3,name:"Kanimozhi Karunanidhi, Member of Parliament, accused in 2G scam, refused bail",category:4,date:new Date(2011,4,11)},{uid:3,name:"Accused who set fire to the rape survivor from Unnao, Uttar Pradesh, India, out on bail",category:4,date:new Date(2019,11,5)},{uid:3,name:"Multiple women enter inner sanctum of temples across the country, after protest",category:4,date:new Date(2016,2,3)},{uid:3,name:"Section 377: Supreme Court legalizes consensual sexual conduct between adults of the same sex",category:4,date:new Date(2018,8,6)},{uid:3,name:"Women’s Cricket World Cup 2017",category:4,date:new Date(2017,5,23)},{uid:3,name:"The Marikana massacre was the killing of 34 miners by the South African Police Service (SAPS). It took place on 16 August 2012, and was the most lethal use of force by South African security forces against civilians since 1976.",category:4,date:new Date(2012,7,16)},{uid:3,name:"On 11 April 2015, several South Africans attacked foreigners in a xenophobic attack in Durban, South Africa, which extended to some parts of Johannesburg. Several people, both foreign and South African alike, were killed with some of the killings captured on camera.",category:4,date:new Date(2015,3,11)},{uid:3,name:"Brutal gang rape and subsequent death of South African teenager",category:4,date:new Date(2013,1,2)},{uid:3,name:"Monica Lewinsky breaks decade-long media silence",category:4,date:new Date(2014,4,6)}]),N=0,P=0;let L=null,R=null,j=null,q=null;const U={init(){n=e.append("svg").attr("class","pudding-chart");let t=n.append("defs"),f=t.append("linearGradient").attr("id","linear-gradient-F");f.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),f.append("stop").attr("offset","0%").attr("stop-color","#53B67C"),f.append("stop").attr("offset","90%").attr("stop-color","#FEFAF1"),f.append("stop").attr("offset","100%").attr("stop-color","#FEFAF1");let h=t.append("linearGradient").attr("id","linear-gradient-V");h.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),h.append("stop").attr("offset","0%").attr("stop-color","#f76e45"),h.append("stop").attr("offset","90%").attr("stop-color","#FEFAF1"),h.append("stop").attr("offset","100%").attr("stop-color","#FEFAF1");let m=t.append("linearGradient").attr("id","linear-gradient-E");m.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),m.append("stop").attr("offset","0%").attr("stop-color","#F7DC5B"),m.append("stop").attr("offset","90%").attr("stop-color","#FEFAF1"),m.append("stop").attr("offset","100%").attr("stop-color","#FEFAF1");let y=t.append("linearGradient").attr("id","linear-gradient-R");y.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),y.append("stop").attr("offset","0%").attr("stop-color","#F2C5D3"),y.append("stop").attr("offset","90%").attr("stop-color","#FEFAF1"),y.append("stop").attr("offset","100%").attr("stop-color","#FEFAF1");let g=t.append("linearGradient").attr("id","linear-gradient-P");g.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),g.append("stop").attr("offset","0%").attr("stop-color","#5787f2"),g.append("stop").attr("offset","90%").attr("stop-color","#FEFAF1"),g.append("stop").attr("offset","100%").attr("stop-color","#FEFAF1");let v=t.append("linearGradient").attr("id","linear-gradient-NT");v.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),v.append("stop").attr("offset","0%").attr("stop-color","lightgrey"),v.append("stop").attr("offset","90%").attr("stop-color","#FEFAF1"),v.append("stop").attr("offset","100%").attr("stop-color","#FEFAF1"),r=n.append("g").attr("class","g-axis"),a=d3.scaleBand().domain(d3.range(A)).paddingInner(-1),i=d3.scaleBand().domain(d3.range(1)).paddingInner(.2),o=n.append("g").attr("class","g-vis"),s=o.append("g").selectAll("g").data(x).join("g").attr("class",(t=>"female stereotypes"===t?"biasCells":"empowerment"===t?"empCells":"crime and violence"===t?"crimeCells":"race, ethnicity and identity"===t?"raceCells":"important people"===t?"peopleCells":"ntCells")),l=s.selectAll("g").data(B).join("g").attr("class",(t=>"female stereotypes"===b.filter((e=>e.word===t.word))[0].theme?"biasCells":"empowerment"===b.filter((e=>e.word===t.word))[0].theme?"empCells":"crime and violence"===b.filter((e=>e.word===t.word))[0].theme?"crimeCells":"race, ethnicity and identity"===b.filter((e=>e.word===t.word))[0].theme?"raceCells":"important people"===b.filter((e=>e.word===t.word))[0].theme?"peopleCells":"ntCells")).attr("transform",(t=>`translate(${i(t.col)}, ${a(t.row)})`)),u=l.append("path").attr("fill",(t=>"female stereotypes"===b.filter((e=>e.word===t.word))[0].theme?"url(#linear-gradient-F)":"empowerment"===b.filter((e=>e.word===t.word))[0].theme?"url(#linear-gradient-E)":"crime and violence"===b.filter((e=>e.word===t.word))[0].theme?"url(#linear-gradient-V)":"race, ethnicity and identity"===b.filter((e=>e.word===t.word))[0].theme?"url(#linear-gradient-R)":"important people"===b.filter((e=>e.word===t.word))[0].theme?"url(#linear-gradient-P)":"url(#linear-gradient-NT)")).attr("opacity",.5).attr("class","wordArea"),c=l.append("path").style("stroke",(t=>"female stereotypes"===b.filter((e=>e.word===t.word))[0].theme?"url(#linear-gradient-F)":"empowerment"===b.filter((e=>e.word===t.word))[0].theme?"url(#linear-gradient-E)":"crime and violence"===b.filter((e=>e.word===t.word))[0].theme?"url(#linear-gradient-V)":"race, ethnicity and identity"===b.filter((e=>e.word===t.word))[0].theme?"url(#linear-gradient-R)":"important people"===b.filter((e=>e.word===t.word))[0].theme?"url(#linear-gradient-P)":"url(#linear-gradient-NT)")).attr("stroke-width",1).attr("fill","none").attr("class",(t=>"wordLine"+t.theme)).attr("id",(t=>`line-${t.word}`)),p=o.append("rect").attr("class","timeRuler"),q=d3.select("div#stickyXaxis").append("svg").attr("class","stickyAxis"),j=q.append("g"),d=q.append("g"),U.resize(),U.render()},resize(){N=e.node().offsetWidth-80-0,P=21830,n.attr("width",N+80+0).attr("height",P+150+20),a.range([0,P]),i.range([0,N]),L=d3.scaleTime().domain([I,D]).range([0,i.bandwidth()]),xaxis=d3.axisBottom(L).ticks(10).tickSizeOuter(0).tickSizeInner(0).tickPadding(30).tickFormat(((t,e)=>0==e||3==e||6==e||9==e||11==e?d3.timeFormat("%Y")(new Date(t)):""));let t=Object.fromEntries(B.map((t=>(E=d3.max(t.rates,(t=>t.frequency)),R=d3.scaleLinear().domain([0,E]).range([a.bandwidth(),0]).nice(),S=d3.curveMonotoneX,O=d3.area().x((t=>L(t.date))).y1((t=>R(t.frequency))).y0((t=>R(0))).curve(d3.curveMonotoneX),M=d3.line().x((t=>L(t.date))).y((t=>R(t.frequency))).curve(d3.curveMonotoneX),[t.word,{y:R,area:O,line:M}]))));return l.attr("transform",(t=>`translate(${i(t.col)}, ${a(t.row)})`)),u.attr("d",(e=>t[e.word].area(e.rates))),c.attr("d",(function(e){return t[e.word].line(e.rates)})),l.each((function(e){const n=d3.select(this).attr("class","SMCell").attr("id",(t=>"cell"+t.word));d3.axisLeft(t[e.word].y).ticks(2).tickSizeOuter(0),n.append("g").attr("class","catLabel").append("text").attr("x",-10).attr("y",a.bandwidth()).attr("class","wordText").attr("id",(t=>"text"+t.word)).text(e.word).on("mouseover",((t,e)=>showTooltip(t,e))).on("mouseleave",((t,e)=>(u.attr("opacity",.5),c.attr("opacity",1),void d3.selectAll(".wordText").attr("opacity",1))))})),q.attr("transform","translate(80, 0)").attr("width",N+80+0).attr("height",200),j.attr("transform",`translate(${i(0)}, 75)`).call(xaxis),function(t,{radius:e=1,x:n=(t=>t)}={}){const r=e**2,o=t.map(((e,r)=>({x:+n(e,r,t),data:e}))).sort(((t,e)=>t.x-e.x));let a=null,i=null;function s(t,e){let n=a;for(;n;){if(r-.001>(n.x-t)**2+(n.y-e)**2)return!0;n=n.next}return!1}for(const t of o){for(;a&&a.x<t.x-r;)a=a.next;if(s(t.x,t.y=0)){let e=a;t.y=1/0;do{let n=e.y+Math.sqrt(r-(e.x-t.x)**2),o=e.y-Math.sqrt(r-(e.x-t.x)**2);Math.abs(n)<Math.abs(t.y)&&!s(t.x,n)&&(t.y=n),Math.abs(o)<Math.abs(t.y)&&!s(t.x,o)&&(t.y=o),e=e.next}while(e)}t.next=null,null===a?a=i=t:i=i.next=t}w=o}(F.filter((t=>t.date<=D)),{radius:11.5,x:t=>L(t.date)}),d.attr("transform",`translate(${i(0)}, 75)`).selectAll("circle").data(w).join("circle").attr("class","event-circle").attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).attr("r",5).on("mouseover",((t,e)=>function(t,e){let n=d3.select(t.currentTarget);d3.selectAll(".event-circle").style("opacity","0.5"),n.style("opacity","1"),p.attr("transform",`translate(${i(0)}, -50)`).attr("x",L(e.date)-9).attr("y",0).attr("height",P).attr("width",20).style("opacity",1);let[r,o]=d3.pointer(t),a=r>window.innerWidth/2?f.node().offsetWidth+-50:50;f.classed("is-visible",!0),N>=600?f.style("top","10px").style("left",r-a+"px").style("bottom","auto"):f.style("bottom","0px").style("left","0px").style("top","auto"),f.html(`<p class="tt-date">${d3.timeFormat("%m/%Y")(e.date)}</p><p class="tt-hed">${e.name}</p>`)}(t,e.data))).on("mouseleave",((t,e)=>(e.data,p.style("opacity",0),d3.selectAll(".event-circle").style("opacity","1"),void f.classed("is-visible",!1)))),U},render:()=>(o.attr("transform","translate(80, 150)"),U),data(t){return arguments.length?(h=t,e.datum(h),U):h}};return U.init(),U}));return e.length>1?e:e.pop()}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=n(296),e=n.n(t);const r={android:()=>navigator.userAgent.match(/Android/i),blackberry:()=>navigator.userAgent.match(/BlackBerry/i),ios:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:()=>navigator.userAgent.match(/Opera Mini/i),windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()};var o=r;const a='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',i=d3.select("body");function s(t,e,n){const r=t.classed("is-visible");e.attr("aria-expanded",!r),t.classed("is-active",!r),t.classed("is-visible",!r),i.classed("modal-open",!r),!0===n&&(r?e.html((()=>a)):e.html((()=>'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>')))}function l(t){return new Promise(((e,n)=>{const r=t.split(".").pop();"csv"===r?d3.csv(`assets/data/${t}`).then(e).catch(n):"json"===r?d3.json(`assets/data/${t}`).then(e).catch(n):n(new Error(`unsupported file type for: ${t}`))}))}function c(t,e){t.each((function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),o=[],a=0,i=n.attr("x"),s=n.attr("y"),l=n.text(null).append("tspan").attr("x",i).attr("y",s).attr("dy","0em");t=r.pop();)o.push(t),l.text(o.join(" ")),l.node().getComputedTextLength()>e&&(o.pop(),l.text(o.join(" ")),o=[t],l=n.append("tspan").attr("x",i).attr("y",s).attr("dy",1.1*++a+0+"em").text(t))}))}n(221),d3.selection.prototype.puddingStackedBar=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,r=null,o=null,a=null,i=null,s=null,l=null,u=null,d=null,p=null,f=null,h=null,m=null,y=null,g=null,v=null,w=null;const b=d3.select("#scrolly-side"),x=b.select("article").selectAll(".step");d3.select("#wordSearch");let _,k=e.datum(),A=k[0],C=k[1],E=(k[2],k[3]),S=[{country:"South Africa",flag:"assets/images/flags/south-africa.svg"},{country:"USA",flag:"assets/images/flags/united-states.svg"},{country:"India",flag:"assets/images/flags/india.svg"},{country:"UK",flag:"assets/images/flags/united-kingdom.svg"},{country:"All countries",flag:""}],O=d3.stack().keys(E.columns.slice(2)).order(d3.stackOrderAscending)(E.filter((t=>"No theme"!==t.theme))).map((t=>(t.forEach((e=>e.key=t.key)),t))),M=0,T=0;let B=null,I=null,D=null,F=null,N=null;function P(){d3.selectAll(".stackedBars").selectAll("rect").attr("fill","#ccc").attr("opacity","0.5")}function L(t,e){x.classed("is-active",((e,n)=>n===t));let n=e.split(" ");8===t||10===t?(d3.selectAll(".stackedBars rect").attr("opacity","0.5"),n.forEach((t=>{d3.selectAll(`.${t}_class`).attr("opacity","1")}))):(P(),n.forEach((t=>{d3.selectAll(`.${t}_class`).attr("fill","#282828").attr("opacity","1")})))}function R(t,e){x.classed("is-active",((e,n)=>n===t)),d3.selectAll(".stackedBars").selectAll("rect").attr("fill","#ccc").attr("opacity","0.5");let n=d3.selectAll(".stackedBars").selectAll(".crimeandviolence_class"),r=d3.selectAll(".stackedBars").selectAll(".femalestereotypes_class"),o=d3.selectAll(".stackedBars").selectAll(".empowerment_class"),a=d3.selectAll(".stackedBars").selectAll(".peopleandplaces_class"),i=d3.selectAll(".stackedBars").selectAll(".raceethnicityandidentity_class");"crimeandviolence"===e&&n.attr("fill","#E75C33").attr("opacity","1"),"femalestereotypes"===e&&r.attr("fill","#53B67C").attr("opacity","1"),"EPR"===e&&(n.attr("fill","#E75C33").attr("opacity","1"),r.attr("fill","#53B67C").attr("opacity","1"),o.attr("fill","#F7DC5B").attr("opacity","1"),a.attr("fill","#3569DC").attr("opacity","1"),i.attr("fill","#F2C5D3").attr("opacity","1"))}const j={init(){!function(t,e){_=d3.stack().keys(t.columns.slice(2))(t).map((t=>(t.forEach((n=>n.key=void 0!==e.filter((e=>e.word===t.key))[0]?{word:t.key,theme:e.filter((e=>e.word===t.key))[0].theme}:{word:t.key,theme:"No theme"})),t)))}(A,C),n=e.append("svg").attr("class","stackedChart"),r=n.append("g").attr("class","g-axis"),s=r.append("g").attr("class","x axis"),p=s.append("g"),l=r.append("g").attr("class","y axis"),y=r.append("text").attr("class","stackedChartyTicks").attr("transform","rotate(-90)").text("Frequency of use of headlines ⇢"),a=n.append("g").attr("class","g-vis"),g=a.append("g").attr("class","stackedBars").selectAll("g").data(_).join("g").attr("class",(t=>`${t.key}_group`)).selectAll("rect").data((t=>t)),v=g.join("rect").attr("class",(function(t){let e=`${function(t){let e=t.trim();return e=e.replace(/ /g,""),e=e.replace(",",""),e=e.toLowerCase(),e}(t.key.theme)}_class`;return`${t.key.word}_class ${e}`})).attr("fill","#c9c9c9").attr("opacity","0.5").attr("stroke","#FEFAF1").attr("stroke-width","0.2px"),i=n.append("g").attr("class","g-visthemes"),o=n.append("g").attr("class","g-axisthemes"),F=d3.scaleBand().domain(["crime and violence","female stereotypes","empowerment","people and places","race, ethnicity and identity"]).padding(.1),N=d3.scaleLinear().domain([d3.max(O,(t=>d3.max(t,(t=>t[1])))),0]),u=o.append("g").attr("class","x axis"),d=o.append("g").attr("class","y axis"),h=u.append("g"),w=a.selectAll("rect").filter((t=>"No theme"!==t.key.theme&&"All countries"===t.data.country)),j.render(),j.resize()},updateChart(t,e){const n=b.select(`[data-index='${t}']`),r=n.attr("word");return n.attr("theme"),console.log(t),0===t&&P(),1===t&&L(t,r),2===t&&L(t,r),3===t&&L(t,r),4===t&&L(t,r),5===t&&L(t,r),6===t&&L(t,r),7===t&&R(t,"crimeandviolence"),8===t&&(R(t,"crimeandviolence"),L(t,r)),9===t&&R(t,"femalestereotypes"),10===t&&(R(t,"femalestereotypes"),L(t,r)),11===t&&R(t,"EPR"),12===t&&w.transition().duration("500").ease(d3.easeLinear).delay(((t,e)=>10*e)).attr("x",(t=>F(O.filter((e=>e.key===t.key.word))[0].filter((e=>e.data.theme===t.key.theme))[0].data.theme))).attr("y",(t=>N(O.filter((e=>e.key===t.key.word))[0].filter((e=>e.data.theme===t.key.theme))[0][1]))).attr("height",(t=>N(O.filter((e=>e.key===t.key.word))[0].filter((e=>e.data.theme===t.key.theme))[0][0])-N(O.filter((e=>e.key===t.key.word))[0].filter((e=>e.data.theme===t.key.theme))[0][1]))).attr("width",F.bandwidth()-20/3).attr("transform",`translate(0,${T-50})`),j},resize:()=>(M=e.node().offsetWidth-0-0,T=e.node().offsetHeight-50-0,n.attr("width",M+0+0).attr("height",T+50+0),s.attr("transform","translate(0,80)"),I=d3.scaleBand().domain(A.map((t=>t.country))).range([0,M+0]).padding(.1),B=I.padding(),p.call(d3.axisBottom(I)).call((t=>t.selectAll(".tick line").remove())).call((t=>t.selectAll(".tick text").remove())).call((t=>t.selectAll(".domain").remove())),p.selectAll(".tick text").remove(),p.selectAll(".tick tickFlag").remove(),p.selectAll(".tick").append("text").text((t=>t)).attr("x",100*B).attr("y",0).attr("class","stackedChartTicks").call(c,I.bandwidth()),p.selectAll(".tick").append("svg:image").attr("class","tickFlag").attr("height","35px").attr("x",100*B).attr("y",0).attr("transform","translate(-17, -50)").attr("xlink:href",(t=>S.filter((e=>e.country===t))[0].flag)),y.attr("x",-275).attr("y",10),l.attr("transform","translate(0,0)"),D=d3.scaleLinear().domain([_.length,0]).range([T-0,50]),f=t=>t.call(d3.axisRight(D).tickSizeOuter(0).tickSizeInner(0)).call((t=>t.selectAll(".tick").remove())).call((t=>t.selectAll(".domain").remove())),f=l.append("g").call(f),v.attr("x",((t,e)=>I(t.data.country))).attr("height",(t=>0===t.data[t.key.word]||null===t.data[t.key.word]?0:T/_.length)).attr("width",I.bandwidth()).attr("y",(t=>0!==t.data[t.key.word]||null!==t.data[t.key.word]?D(t.data[t.key.word]):D(null))),F.range([0,M+0]),N.rangeRound([50,T-0]),h=t=>t.call(d3.axisBottom(F).tickSizeOuter(0).tickSizeInner(0)).call((t=>t.selectAll(".domain").remove())),m=t=>t.call(d3.axisRight(N).tickSizeOuter(0).tickSizeInner(0)).call((t=>t.selectAll(".domain").remove())),j),render:()=>(a.attr("transform","translate(0, 50)"),j),data(t){return arguments.length?(k=t,e.datum(k),j):k}};return j.init(),j}));return e.length>1?e:e.pop()},d3.selection.prototype.puddingTimeSeriesLine=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,r=null,o=null,a=null,i=null,s=null,l=null,u=null,d=null,p=null,f=null,h=null,m=e.datum(),y=0,g=0,v=null,w=null,b=null,x=null;const _={init(){var t,c;m=(t=d3.rollup(m,(t=>[d3.median(t,(t=>t.women_polarity_median)),d3.median(t,(t=>t.all_polarity_median))]),(t=>t.year)),c=[],t.forEach((function(t,e){c.push({year:e,womenPolarityMed:t[0],allPolarityMed:t[1]})})),c).filter((t=>2021!==t.year&&2016!==t.year)),n=e.append("svg").attr("class","pudding-chart"),r=n.append("g").attr("class","g-axis"),v=d3.scaleTime().domain(d3.extent(m,(t=>t.year))),w=d3.scaleLinear().domain([0,d3.max(m,(t=>t.womenPolarityMed))]).nice(),b=r.append("g").attr("class","stackedChartyTicks"),x=r.append("g").attr("class","lineChartyAxis"),h=r.append("text").attr("class","stackedChartyTicks").attr("transform","rotate(-90)").text("Average polarity of news headlines ⇢"),o=n.append("g").attr("class","g-vis"),a=d3.line().defined((t=>!isNaN(t.womenPolarityMed))).curve(d3.curveBasis),i=d3.line().defined((t=>!isNaN(t.allPolarityMed))).curve(d3.curveBasis),s=o.append("path").datum(m).attr("class","women-comp-line"),l=o.append("path").datum(m).attr("class","all-comp-line"),u=o.append("circle").attr("r","11").attr("class","polarityCompBubbleRight"),d=o.append("circle").attr("r","4").attr("class","polarityCompBubbleLeft"),p=o.append("text").attr("class","polarityCompFemText"),f=o.append("text").attr("class","polarityCompAllText")},resize:()=>(y=e.node().offsetWidth-50-20,g=e.node().offsetHeight-10-10,n.attr("width",y+50+20).attr("height",g+10+10),v.range([50,y-20]),w.range([g-10,10]),b.attr("transform",`translate(0,${g-10})`).call(d3.axisBottom(v).ticks(6).tickSizeOuter(0).tickSizeInner(0).tickFormat(d3.format("d"))),x.attr("transform","translate(50,0)").call(d3.axisLeft(w).tickSize(0).tickValues([.1,.2,.3,.4,.45])).call((t=>t.select(".domain").remove())),h.attr("x",-g/1.2).attr("y",10),a.x((t=>v(t.year))).y((t=>w(t.womenPolarityMed))),i.x((t=>v(t.year))).y((t=>w(t.allPolarityMed))),s.attr("d",a),l.attr("d",i),u.attr("cx",v(d3.max(m,(t=>t.year)))).attr("cy",(function(t){let e=m.length-1,n=m[e].womenPolarityMed;return w(n)})).attr("r",(t=>y>=600?11:8)),d.attr("cx",v(d3.max(m,(t=>t.year)))).attr("cy",(function(t){let e=m.length-1,n=m[e].allPolarityMed;return w(n)})).attr("r",(t=>y>=600?4:3)),p.text("Headlines about women").attr("x",v(d3.max(m,(t=>t.year)))).attr("y",(function(t){let e=m.length-1,n=m[e].womenPolarityMed;return w(n)+70})).call(c,100),f.text("All headlines").attr("x",v(d3.max(m,(t=>t.year)))).attr("y",(function(t){let e=m.length-1,n=m[e].allPolarityMed;return w(n)+40})).call(c,100),_),render:()=>(o.attr("transform","translate(50, 10)"),_),data(t){return arguments.length?(m=t,e.datum(m),_):m}};return _.init(),_}));return e.length>1?e:e.pop()},d3.selection.prototype.puddingLollipop=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,r=null,o=null,a=null,i=null,s=null,l=null,c=null,u=null,d=d3.select("#sortLollipopDiff"),p=d3.select("#sortLollipopPol"),f=e.datum();f=f.filter((t=>1==t.popularity&&Math.abs(t.difference)>.05&&"dailysun.co.za"!==t.site_clean&&"msnbc"!==t.site_clean)),f=f.sort(((t,e)=>d3.descending(+t.polarity_women,+e.polarity_women)));let h=d3.max(f,(t=>t.polarity_women)),m=d3.min(f,(t=>t.polarity_women)),y=0,g=0,v=null,w=null,b=null,x=null,_=null;function k(){const t="sortLollipopDiff"===this.id?"difference":"polarity_women",e=f.sort(((e,n)=>d3.descending(+e[t],+n[t])));d3.selectAll(".lollipopTextbutton-active").classed("lollipopTextbutton-active",!1).classed("lollipopTextbutton",!0),d3.select(this).classed("lollipopTextbutton-active",!0),b.domain(e.map((t=>t.site_clean))),r.select(".polarityCompyAxis").transition().duration("1000").call(d3.axisLeft(b).tickSize(0)),o.selectAll(".polarityCompBubble").sort(((e,n)=>void 0!==e?d3.ascending(+e[t],+n[t]):"")).transition().duration("1000").attr("cy",((t,e)=>void 0!==t?b(t.site_clean):"-60")),o.selectAll(".polarityDiffAnnotation").sort(((e,n)=>d3.ascending(+e[t],+n[t]))).transition().duration("1000").attr("y",((t,e)=>b(t.site_clean))),o.selectAll(".polarityCompBubbleLine").sort(((e,n)=>d3.ascending(+e[t],+n[t]))).transition().duration("1000").attr("x1",((t,e)=>w(t.polarity_base))).attr("x2",((t,e)=>w(t.polarity_women))).attr("y1",((t,e)=>b(t.site_clean))).attr("y2",((t,e)=>b(t.site_clean)))}const A={init(){n=e.append("svg").attr("class","pudding-chart"),r=n.append("g").attr("class","g-axis"),x=r.append("g").attr("class","polarityCompxAxis"),_=r.append("g").attr("class","polarityCompyAxis"),w=d3.scaleLinear().domain([m,h]),o=n.append("g").attr("class","g-vis"),a=o.selectAll("gridline").data(f).join("line").attr("class","grid"),i=o.selectAll("myline").data(f).join("line").attr("class","polarityCompBubbleLine").attr("stroke","black").attr("stroke-width","2.5px"),s=o.selectAll("mycircle").data(f).join("circle").attr("class","polarityCompBubble polarityCompBubbleLeft"),l=o.selectAll("mycircle").data(f).join("circle").attr("class","polarityCompBubble polarityCompBubbleRight").attr("r","11"),c=o.selectAll("mycircle").data(f).join("text").attr("class","polarityDiffAnnotation").text((t=>(t.polarity_women-t.polarity_base)/t.polarity_base*100>0?"+"+Math.round((t.polarity_women-t.polarity_base)/t.polarity_base*100)+"%":Math.round((t.polarity_women-t.polarity_base)/t.polarity_base*100)+"%")),u=o.append("line").attr("stroke","black").attr("stroke-width","2.5px"),p.attr("class","lollipopTextbutton-active"),A.resize(),A.render()},resize:()=>(y=e.node().offsetWidth,y>=600?(v=160,o.attr("transform",`translate(${v}, 0)`),d3.selectAll(".polarityCompyAxis .tick text").attr("transform","translate(0,0)").style("text-anchor","end"),a.attr("x1",10),s.attr("r","4"),l.attr("r","11")):(v=40,o.attr("transform",`translate(${v}, 0)`),d3.selectAll(".polarityCompyAxis .tick text").attr("transform","translate(3,-25)").style("text-anchor","start"),a.attr("x1",0),s.attr("r","3"),l.attr("r","8")),y=e.node().offsetWidth-v-50,g=1700,n.attr("width",y+v+50).attr("height",g+0+0),x.attr("transform","translate(0,"+g+")").call(d3.axisBottom(w)),b=d3.scaleBand().range([0,g]).domain(f.map((t=>t.site_clean))).padding(1),_.attr("transform",`translate(${v},0)`).call(d3.axisLeft(b).tickSize(0)),w.range([v+50,y]),a.attr("x2",y).attr("y1",(function(t){return b(t.site_clean)})).attr("y2",(function(t){return b(t.site_clean)})),i.attr("x1",(function(t){return w(t.polarity_base)})).attr("x2",(function(t){return w(t.polarity_women)})).attr("y1",(function(t){return b(t.site_clean)})).attr("y2",(function(t){return b(t.site_clean)})),s.attr("cx",(function(t){return w(t.polarity_base)})).attr("cy",(function(t){return b(t.site_clean)})),l.attr("cx",(function(t){return w(t.polarity_women)})).attr("cy",(function(t){return b(t.site_clean)})),c.attr("x",(t=>w(t.polarity_women)-8)).attr("y",(t=>b(t.site_clean)+6)),A),render:()=>(d.on("click",k),p.on("click",k),A),data(t){return arguments.length?(f=t,e.datum(f),A):f}};return A.init(),A}));return e.length>1?e:e.pop()},d3.selection.prototype.puddingBubble=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,r=null,o=null,a=null,i=null,s=null,l=null,u=null,d=null,p=null,f=d3.select("#countrydropdown"),h=d3.select("#pubdropdown"),m=d3.selectAll(".tooltip"),y=e.datum(),g=y[0],v=y[1],w=y[2],b=null,x=null;g=g.filter((t=>0!=+t.monthly_visits&0!=+t[w]&"msn.com"!==t.site&"sports.yahoo.com"!==t.site&"finance.yahoo.com"!==t.site&"news.google.com"!==t.site&"news.yahoo.com"!==t.site&"bbc.com"!==t.site&"makeuseof.com"!==t.site&"which.co.uk"!==t.site&"espncricinfo.com"!==t.site&"seekingalpha.com"!==t.site&"prokerala.com"!==t.site)),b=g.map((t=>"polarity"===w?{site:t.site,polarity:t[w],monthly_visits:t.monthly_visits,country_of_pub:t.country_of_pub}:{site:t.site,bias:t[w],monthly_visits:t.monthly_visits,country_of_pub:t.country_of_pub}));const _=[{site:"nytimes.com",link:"nytimes.png"},{site:"dailymail.co.uk",link:"dailyMail.png"},{site:"cnn.com",link:"cnn.png"},{site:"bbc.co.uk",link:"bbc.png"},{site:"telegraph.co.uk",link:"telegraph.png"},{site:"washingtonpost.com",link:"washingtonPost.png"},{site:"forbes.com",link:"forbes.png"},{site:"abcnews.go.com",link:"abc.png"},{site:"foxnews.com",link:"foxNews.png"},{site:"ksl.com",link:"ksl.png"},{site:"bloomberg.com",link:"bloomberg.png"},{site:"breitbart.com",link:"breitbart.png"},{site:"popsugar.com",link:"popSugar.png"},{site:"nbcnews.com",link:"nbc.png"},{site:"buzzfeed.com",link:"buzzfeed.png"},{site:"cnet.com",link:"cnet.png"},{site:"politico.com",link:"politico.png"},{site:"usatoday.com",link:"usaToday.png"},{site:"nydailynews.com",link:"nyDailyNews.png"},{site:"businessinsider.com",link:"businessInsider.png"},{site:"aajtak.in",link:"aajtak.png"},{site:"espn.go.com",link:"espn.png"},{site:"huffingtonpost.com",link:"huffingtonPost.png"}];let k=0,A=0;let C=null,E=d3.extent(b,(t=>+t.monthly_visits)),S=d3.scaleSqrt().domain(E),O=d3.scaleLinear().domain(E),M=null,T=null;function B(t,e,n){const r=d3.select(e),o=d3.map(t,(t=>t[n])).filter(D);"country_of_pub"===n?o.unshift("Country"):o.unshift("Newsroom"),r.selectAll("option").data(o).join("option").attr("value",(t=>"Country"===t||"Newsroom"===t?"":t)).text((t=>t))}function I(){const t=d3.select(this).property("value"),e=d3.select(this).property("id");let n=d3.selectAll(".forceCircles"),r=d3.selectAll(".forceLogos");"countrydropdown"===e&&(h.node().options[0].selected=!0,n.style("fill",(e=>e.country_of_pub.toLowerCase()===t.toLowerCase()?"#F7DC5B":"#FEFAF1")),n.style("opacity",(e=>e.country_of_pub.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2")),r.style("opacity",(e=>e.country_of_pub.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2"))),"pubdropdown"===e&&(f.node().options[0].selected=!0,n.style("fill",(e=>e.site.toLowerCase()===t.toLowerCase()?"#F7DC5B":"#FEFAF1")),n.style("opacity",(e=>e.site.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2")),r.style("opacity",(e=>e.site.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2")))}function D(t,e,n){return n.indexOf(t)===e}function F(){let[t,e]=d3.pointer(event),n=t>window.innerWidth/2?m.node().offsetWidth+-50:50,r=d3.select(this).attr("id");r=r.split("-"),r=r[0],d3.select(this).style("stroke-width",3).style("stroke","#E75C33");let o=v.filter((t=>t.site===r)),a=Math.floor(Math.random()*o.length);m.classed("is-visible",!0),k>=600?m.style("top",e+"px").style("left",t-n+"px").style("bottom","auto"):m.style("bottom","0px").style("left","0px").style("top","auto"),m.html(`<p class="tt-date">${d3.timeFormat("%b %Y")(new Date(o[a].time))} | ${o[a].site}</p>\n                      <p class="tt-hed">${o[a].headline_no_site}</p>`)}function N(){m.classed("is-visible",!1);let t=d3.selectAll(".forceCircles");t.style("stroke-width","1"),t.style("stroke","#282828")}const P={init(){n=e.append("svg").attr("class","pudding-chart"),r=n.append("g").attr("class","g-axis"),u=n.append("g").attr("class","g-legend"),d=u.append("g"),o=n.append("g").attr("class","g-vis"),P.resize(),P.render()},resize:()=>(k=e.node().offsetWidth-50-30,A=e.node().offsetHeight-110-20,S.range([3,k/15]),O.range([18,k/15]),T=d3.max(b,(t=>+t.monthly_visits)),T=S(T),n.attr("width",k+50+30).attr("height",A+110+20),o.attr("width",k+50+30).attr("height",A+110+20),C=d3.scaleSymlog().range([130,k-T]).domain("polarity"===w?[0,d3.max(b,(t=>+t[w]))]:d3.extent(b,(t=>+t[w]))),x=[{level:"",radius:S(1e7),y:A+75,x:k/2.2,anchor:"end",xtext:k/2.235,ytext:A+53,id:""},{level:"",radius:S(1e8),y:A+75,x:k/2.05,id:""},{level:"1B Monthly Viewers",radius:S(1e9),y:A+75,x:k/1.85,anchor:"middle",xtext:k/1.85,ytext:A+k/6.5,id:""}],u.attr("transform",`translate(-${k/2-25-T/2}, -${A})`),d.selectAll("circle").data(x).join("circle").attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).attr("r",(t=>t.radius)).attr("class","legendBubble"),p=u.selectAll("text").data(x).join("text").text((t=>t.level)).attr("x",(t=>t.xtext)).attr("y",(t=>t.ytext)).attr("class","themesText").style("text-anchor",(t=>t.anchor)).call(c,10),M=d3.forceSimulation().nodes(b).force("charge",d3.forceManyBody().strength(1)).force("x",d3.forceX().x((function(t){return C(+t[w])}))).force("y",d3.forceY(A/2)).force("collide",d3.forceCollide((t=>S(+t.monthly_visits)))).alphaDecay(.1).on("tick",(function(){a=o.selectAll("circle").data(b),i=o.selectAll("image").data(b),s=a.join("circle").attr("class","forceCircles").attr("id",(t=>`${t.site}-circle`)).style("opacity","1").attr("r",(t=>S(+t.monthly_visits))).attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).on("mouseenter",F).on("mouseleave",N),l=i.join("svg:image").attr("class","forceLogo").attr("transform",(function(t){let e=S(+t.monthly_visits);return`translate(-${e/2}, -${e/2})`})).attr("width",(t=>O(+t.monthly_visits))).attr("height",(t=>O(+t.monthly_visits))).attr("xlink:href",(function(t){return+t.monthly_visits>15e7?`assets/images/logos/${_.filter((e=>e.site==t.site))[0].link}`:""})).attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y}))})),P),render:()=>(o.attr("transform","translate(50, 110)"),B(g,"#countrydropdown","country_of_pub"),B(g,"#pubdropdown","site"),f.on("change",I),h.on("change",I),P),data(t){return arguments.length?(y=t,e.datum(y),P):y}};return P.init(),P}));return e.length>1?e:e.pop()},n(835),n(337);var u=n(99),d=n.n(u);let p,f,h,m,y,g,v,w,b,x,_,k,A,C,E,S,O=["headlines_site_rapi.csv","headlines_cl_sent_rapi_reduced_102621.csv","country_time_freqrank_rapi_clean_101421.csv","polarity_comparison.csv","country_freq_pivoted_all_101221.csv","word_themes_all_101221.csv","word_themes_rank_101221.csv","word_themes_freq_101221.csv","sentiment_comparison.csv"],M=null,T=null,B=null,I=null,D=null,F=null;const N=d3.select("#stickyStackedChart"),P=d3.selectAll("#stackedChartLegend .step"),L=d3.selectAll("#timeSeriesChart"),R=d3.select("#lollipopChart");let j=null,q=d3.select("#smChart"),U=(d3.selectAll("button.country"),d3.selectAll(".see-more"),d3.selectAll("#smChart"),d3.selectAll(".fade"),d3.select("#countrydropdownTemporal")),$=d3.selectAll(".stackedBarTextAnnotation");const z=d()();function V(t){var e,n;P.classed("is-active",((e,n)=>n===t.index)),e=t.index,n=t.direction,M.updateChart(e,n)}function W(t){F=q.datum(t).puddingTemporalLine()}function H(t,e,n){return n.indexOf(t)===e}function K(){const t=this.value;d3.select("#smChart svg").remove(),d3.select("#stickyXaxis svg").remove(),S=[h,A,t,E],W(S)}function G(){let t=d3.select(this).attr("value");d3.selectAll(".stackedBars rect").attr("opacity","0.5"),d3.selectAll(`.stackedBars .${t}_class`).attr("opacity","1")}function Y(){let t=d3.select(this).attr("value");"wear"===t&&(d3.selectAll(".stackedBars rect").attr("opacity","0.5"),d3.selectAll(`.stackedBars .${t}_class`).attr("opacity","1"),d3.selectAll(".stackedBars .change_class").attr("opacity","1"),d3.selectAll(".stackedBars .force_class").attr("opacity","1")),"force"===t&&(d3.selectAll(".stackedBars rect").attr("opacity","0.5"),d3.selectAll(`.stackedBars .${t}_class`).attr("opacity","1"),d3.selectAll(".stackedBars .change_class").attr("opacity","1"),d3.selectAll(".stackedBars .wear_class").attr("opacity","1")),"change"===t&&(d3.selectAll(".stackedBars rect").attr("opacity","0.5"),d3.selectAll(`.stackedBars .${t}_class`).attr("opacity","1"),d3.selectAll(".stackedBars .wear_class").attr("opacity","1"),d3.selectAll(".stackedBars .force_class").attr("opacity","1")),"rape"===t&&(d3.selectAll(".stackedBars rect").attr("opacity","0.5"),d3.selectAll(`.stackedBars .${t}_class`).attr("opacity","1"),d3.selectAll(".stackedBars .death_class").attr("opacity","1")),"death"===t&&(d3.selectAll(".stackedBars rect").attr("opacity","0.5"),d3.selectAll(`.stackedBars .${t}_class`).attr("opacity","1"),d3.selectAll(".stackedBars .rape_class").attr("opacity","1")),"body"===t&&(d3.selectAll(".stackedBars rect").attr("opacity","0.5"),d3.selectAll(`.stackedBars .${t}_class`).attr("opacity","1"),d3.selectAll(".stackedBars .child_class").attr("opacity","1"),d3.selectAll(".stackedBars .marry_class").attr("opacity","1")),"child"===t&&(d3.selectAll(".stackedBars rect").attr("opacity","0.5"),d3.selectAll(`.stackedBars .${t}_class`).attr("opacity","1"),d3.selectAll(".stackedBars .body_class").attr("opacity","1"),d3.selectAll(".stackedBars .marry_class").attr("opacity","1")),"marry"===t&&(d3.selectAll(".stackedBars rect").attr("opacity","0.5"),d3.selectAll(`.stackedBars .${t}_class`).attr("opacity","1"),d3.selectAll(".stackedBars .child_class").attr("opacity","1"),d3.selectAll(".stackedBars .body_class").attr("opacity","1")),"crimeandviolence"!==t&&"femalestereotypes"!==t&&"empowerment"!==t&&"peopleandplaces"!==t&&"raceethnicictyandidentity"!==t||(d3.selectAll(".stackedBars rect").attr("opacity","0.5"),d3.selectAll(".stackedBars .crimeandviolence_class").attr("opacity","1"),d3.selectAll(".stackedBars .femalestereotypes_class").attr("opacity","1"),d3.selectAll(".stackedBars .empowerment_class").attr("opacity","1"),d3.selectAll(".stackedBars .peopleandplaces_class").attr("opacity","1"),d3.selectAll(".stackedBars .raceethnicictyandidentity_class").attr("opacity","1"))}function J(){const t=Math.floor(.75*window.innerHeight)/2;P.style("height",t+"px");const e=d3.select(".scrolly figure");d3.select("body").node().offsetWidth,e.style("height",window.innerHeight+"px"),z.resize();let n=0;const r=d3.select("body").node().offsetWidth;n!==r&&(n=r,M.resize(),T.resize(),B.resize(),I.resize(),D.resize(),F.resize())}var Q={init:function(){(function(t){if("string"==typeof t)return l(t);const e=t.map(l);return Promise.all(e)})(O).then((t=>{p=t[0],f=t[1],h=t[2],m=t[3],y=t[4],g=t[5],v=t[6],w=t[7],b=t[8],A=[2009,2022],C="USA",E="freq_prop_headlines",k=[y,g,v,w],x=[p,f,"bias"],_=[p,f,"polarity"],S=[h,A,"USA",E],z.setup({container:".scrolly",graphic:".scrolly figure",text:".scrolly article",step:"#stackedChartLegend .step",offset:.7}).onStepEnter(V),function(t){M=N.datum(t).puddingStackedBar()}(k),function(t){T=L.datum(t).puddingTimeSeriesLine()}(b),function(t){B=R.datum(t).puddingLollipop()}(m),function(t){j=d3.select("#chartB"),I=j.datum(t).puddingBubble()}(x),function(t){j=d3.select("#chartP"),D=j.datum(t).puddingBubble()}(_),W(S),J(),function(t,e,n){const r=d3.select("#countrydropdownTemporal");let o=d3.map(t,(t=>t.country)).filter(H);r.selectAll("option").data(o).join("option").attr("value",(t=>t)).text((t=>t)),U.node().options[3].selected=!0}(h),U.on("change",K),$.on("mouseenter",G),$.on("mouseleave",Y)})).catch(console.error)},resize:J};const X=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Women’s Pockets are Inferior"}];let Z=null;function tt(t){return`\n\t<a class='footer-recirc__article' href='https://pudding.cool/${t.url}' target='_blank' rel='noopener'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/${t.image}.jpg' alt='${t.hed}'>\n\t\t<p class='article__headline'>${t.hed}</p>\n\t</a>\n\t`}var et=function(){!function(t){const e=new XMLHttpRequest,n=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`;e.open("GET",n,!0),e.onload=()=>{if(e.status>=200&&e.status<400){const n=JSON.parse(e.responseText);t(n)}else t(X)},e.onerror=()=>t(X),e.send()}((t=>{Z=t,function(){const t=window.location.href,e=Z.find((e=>t.includes(e.url))),n=e?e.topic:"culture",r=Z.filter((e=>!t.includes(e.url))),o=r.filter((t=>t.topic!==n)),a=r.filter((t=>t.topic===n)),i=[];i.push(...o.slice(0,2)),i.push(a[0]),i.push(a[Math.ceil(Math.random()*(a.length-1))]);const s=i.map(tt).join("");d3.select(".pudding-footer .footer-recirc__articles").html(s)}()}))};const nt=d3.select("body");let rt=0;new Array("When","Women","Make","Headlines")[0].length,function(t,e=document){return[...e.querySelectorAll(t)]}("[target='_blank']").forEach((t=>t.setAttribute("rel","noopener"))),nt.classed("is-mobile",o.any()),window.addEventListener("resize",e()((function(){const t=nt.node().offsetWidth;rt!==t&&(rt=t,Q.resize())}),150)),function(){const t=nt.select("header");if(t.classed("is-sticky")){const e=nt.select("#slide__menu"),n=nt.select(".header__toggle");!function(t,e,n,r,o,i){const l=n.selectAll("a, button, .logo").nodes(),c=l[0],u=l[l.length-1];t.on("click",(()=>s(r,t,i))),e.on("click",(()=>s(r,e,i))),n.on("keydown",(e=>{const n=e.code,o=r.classed("is-visible");"Escape"===n&&!0===o&&(t.attr("aria-expanded",!1),t.node().focus(),r.classed("is-active",!1),r.classed("is-visible",!1),t.html((()=>a)))})),d3.select(c).on("keydown",(t=>{if(r.classed("is-visible")){const e=t.code,n=t.shiftKey;"Tab"===e&&!0===n&&(t.preventDefault(),u.focus())}})),d3.select(u).on("keydown",(t=>{if(r.classed("is-visible")){const e=t.code,n=t.shiftKey;"Tab"===e&&!1===n&&(t.preventDefault(),c.focus())}}))}(n,n,t,e,0,!0)}}(),Q.init(),et()}()}();