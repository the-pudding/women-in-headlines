!function(){var t={337:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=o(e);n;)n=o(e=n.ownerDocument);return e}(),e=[],n=null,r=null;i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i._setupCrossOriginUpdater=function(){return n||(n=function(t,n){r=t&&n?u(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},i._resetCrossOriginUpdater=function(){n=null,r=null},i.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},i.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},i.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},i.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},i.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var r=this._checkForIntersections,a=null,i=null;this.POLL_INTERVAL?a=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(i=new n.MutationObserver(r)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(a&&t.clearInterval(a),l(t,"resize",r,!0)),l(e,"scroll",r,!0),i&&i.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=c){var d=o(e);d&&this._monitorIntersections(d.ownerDocument)}}},i.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||t;if(!this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=r;){var a=o(n);if((n=a&&a.ownerDocument)==e)return!0}return!1}))){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),e!=r){var i=o(e);i&&this._unmonitorIntersections(i.ownerDocument)}}}},i.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},i.prototype._checkForIntersections=function(){if(this.root||!n||r){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,i=c(o),s=this._rootContainsTarget(o),l=r.entry,d=t&&s&&this._computeTargetAndRootIntersection(o,i,e),u=null;this._rootContainsTarget(o)?n&&!this.root||(u=e):u={top:0,bottom:0,left:0,right:0,width:0,height:0};var p=r.entry=new a({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:i,rootBounds:u,intersectionRect:d});l?t&&s?this._hasCrossedThreshold(l,p)&&this._queuedEntries.push(p):l&&l.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},i.prototype._computeTargetAndRootIntersection=function(e,o,a){if("none"!=window.getComputedStyle(e).display){for(var i,s,l,d,p,h,m,g,y=o,w=f(e),v=!1;!v&&w;){var b=null,x=1==w.nodeType?window.getComputedStyle(w):{};if("none"==x.display)return null;if(w==this.root||9==w.nodeType)if(v=!0,w==this.root||w==t)n&&!this.root?!r||0==r.width&&0==r.height?(w=null,b=null,y=null):b=r:b=a;else{var _=f(w),k=_&&c(_),T=_&&this._computeTargetAndRootIntersection(_,k,a);k&&T?(w=_,b=u(k,T)):(w=null,y=null)}else{var A=w.ownerDocument;w!=A.body&&w!=A.documentElement&&"visible"!=x.overflow&&(b=c(w))}if(b&&(i=b,s=y,void 0,void 0,void 0,void 0,void 0,void 0,l=Math.max(i.top,s.top),d=Math.min(i.bottom,s.bottom),p=Math.max(i.left,s.left),g=d-l,y=(m=(h=Math.min(i.right,s.right))-p)>=0&&g>=0&&{top:l,bottom:d,left:p,right:h,width:m,height:g}||null),!y)break;w=w&&f(w)}return y}},i.prototype._getRootRect=function(){var e;if(this.root&&!h(this.root))e=c(this.root);else{var n=h(this.root)?this.root:t,r=n.documentElement,o=n.body;e={top:0,left:0,right:r.clientWidth||o.clientWidth,width:r.clientWidth||o.clientWidth,bottom:r.clientHeight||o.clientHeight,height:r.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},i.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},i.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var a=this.thresholds[o];if(a==n||a==r||a<n!=a<r)return!0}},i.prototype._rootIsInDom=function(){return!this.root||p(t,this.root)},i.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return p(n,e)&&(!this.root||n==e.ownerDocument)},i.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},i.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=i,window.IntersectionObserverEntry=a}function o(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function a(t){this.time=t.time,this.target=t.target,this.rootBounds=d(t.rootBounds),this.boundingClientRect=d(t.boundingClientRect),this.intersectionRect=d(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function i(t,e){var n,r,o,a=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(a.root&&1!=a.root.nodeType&&9!=a.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(a.rootMargin),this.thresholds=this._initThresholds(a.threshold),this.root=a.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function l(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function c(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function u(t,e){var n=e.top-t.top,r=e.left-t.left;return{top:n,left:r,height:e.height,width:e.width,bottom:n+e.height,right:r+e.width}}function p(t,e){for(var n=e;n;){if(n==t)return!0;n=f(n)}return!1}function f(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?o(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function h(t){return t&&9===t.nodeType}}()},296:function(t,e,n){var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,d=l||c||Function("return this")(),u=Object.prototype.toString,p=Math.max,f=Math.min,h=function(){return d.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==u.call(t)}(t))return NaN;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var n=a.test(t);return n||i.test(t)?s(t.slice(2),n?2:8):o.test(t)?NaN:+t}t.exports=function(t,e,n){var r,o,a,i,s,l,c=0,d=!1,u=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function w(e){var n=r,a=o;return r=o=void 0,c=e,i=t.apply(a,n)}function v(t){return c=t,s=setTimeout(x,e),d?w(t):i}function b(t){var n=t-l;return void 0===l||n>=e||n<0||u&&t-c>=a}function x(){var t=h();if(b(t))return _(t);s=setTimeout(x,function(t){var n=e-(t-l);return u?f(n,a-(t-c)):n}(t))}function _(t){return s=void 0,y&&r?w(t):(r=o=void 0,i)}function k(){var t=h(),n=b(t);if(r=arguments,o=this,l=t,n){if(void 0===s)return v(l);if(u)return s=setTimeout(x,e),w(l)}return void 0===s&&(s=setTimeout(x,e)),i}return e=g(e)||0,m(n)&&(d=!!n.leading,a=(u="maxWait"in n)?p(g(n.maxWait)||0,e):a,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},k.flush=function(){return void 0===s?i:_(h())},k}},99:function(t){t.exports=function(){"use strict";function t(t){return"scrollama__debug-offset--"+t}function e(e){!function(e){var n=e.id,r=e.offsetVal,o=e.stepClass,a=document.createElement("div");a.id=t(n),a.className="scrollama__debug-offset",a.style.position="fixed",a.style.left="0",a.style.width="100%",a.style.height="0",a.style.borderTop="2px dashed black",a.style.zIndex="9999";var i=document.createElement("p");i.innerHTML='".'+o+'" trigger: <span>'+r+"</span>",i.style.fontSize="12px",i.style.fontFamily="monospace",i.style.color="black",i.style.margin="0",i.style.padding="6px",a.appendChild(i),document.body.appendChild(a)}({id:e.id,offsetVal:e.offsetVal,stepClass:e.stepEl[0].className})}function n(t){var e=t.id,n=t.index,r=t.state,o="scrollama__debug-step--"+e+"-"+n,a=document.getElementById(o+"_above"),i=document.getElementById(o+"_below"),s="enter"===r?"block":"none";a&&(a.style.display=s),i&&(i.style.display=s)}return function(){var r=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"],o={},a={},i=null,s=[],l=[],c=[],d=[],u=0,p=0,f=0,h=0,m=0,g=0,y=!1,w=!1,v=!1,b=!1,x=!1,_=!1,k="down",T="percent",A=[];function D(t){console.error("scrollama error: "+t)}function I(){o={stepEnter:function(){},stepExit:function(){},stepProgress:function(){}},a={}}function E(t){return t.getBoundingClientRect().top+window.pageYOffset-(document.body.clientTop||0)}function M(t){return+t.getAttribute("data-scrollama-index")}function C(){window.pageYOffset>m?k="down":window.pageYOffset<m&&(k="up"),m=window.pageYOffset}function S(t){a[t]&&a[t].forEach((function(t){return t.disconnect()}))}function R(){var e,n;f=window.innerHeight,e=document.body,n=document.documentElement,h=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),p=u*("pixels"===T?1:f),y&&(l=s.map((function(t){return t.getBoundingClientRect().height})),c=s.map(E),w&&$()),v&&function(e){var n=e.id,r=e.offsetMargin,o=e.offsetVal,a="pixels"===e.format?"px":"",i=t(n),s=document.getElementById(i);s.style.top=r+"px",s.querySelector("span").innerText=""+o+a}({id:i,offsetMargin:p,offsetVal:u,format:T})}function O(t){if(t&&!w){if(!y)return D("scrollama error: enable() called before scroller was ready"),void(w=!1);$()}!t&&w&&r.forEach(S),w=t}function B(t,e){var n=M(t);void 0!==e&&(d[n].progress=e);var r={element:t,index:n,progress:d[n].progress};"enter"===d[n].state&&o.stepProgress(r)}function j(t,e){if("above"===e)for(var n=0;n<t;n+=1){var r=d[n];"enter"!==r.state&&"down"!==r.direction?(L(s[n],"down",!1),P(s[n],"down")):"enter"===r.state&&P(s[n],"down")}else if("below"===e)for(var o=d.length-1;o>t;o-=1){var a=d[o];"enter"===a.state&&P(s[o],"up"),"down"===a.direction&&(L(s[o],"up",!1),P(s[o],"up"))}}function L(t,e,r){void 0===r&&(r=!0);var a=M(t),s={element:t,index:a,direction:e};d[a].direction=e,d[a].state="enter",x&&r&&"down"===e&&j(a,"above"),x&&r&&"up"===e&&j(a,"below"),o.stepEnter&&!A[a]&&(o.stepEnter(s,d),v&&n({id:i,index:a,state:"enter"}),_&&(A[a]=!0)),b&&B(t)}function P(t,e){var r=M(t),a={element:t,index:r,direction:e};b&&("down"===e&&d[r].progress<1?B(t,1):"up"===e&&d[r].progress>0&&B(t,0)),d[r].direction=e,d[r].state="exit",o.stepExit(a,d),v&&n({id:i,index:r,state:"exit"})}function N(t){var e=t[0];C();var n=e.isIntersecting,r=e.boundingClientRect,o=e.target,a=r.top,i=r.bottom,s=a-p,l=i-p,c=M(o),u=d[c];n&&s<=0&&l>=0&&"down"===k&&"enter"!==u.state&&L(o,k),!n&&s>0&&"up"===k&&"enter"===u.state&&P(o,k)}function U(t){var e=t[0];C();var n=e.isIntersecting,r=e.boundingClientRect,o=e.target,a=r.top,i=r.bottom,s=a-p,l=i-p,c=M(o),u=d[c];n&&s<=0&&l>=0&&"up"===k&&"enter"!==u.state&&L(o,k),!n&&l<0&&"down"===k&&"enter"===u.state&&P(o,k)}function z(t){var e=t[0];C();var n=e.isIntersecting,r=e.target,o=M(r),a=d[o];n&&"down"===k&&"down"!==a.direction&&"enter"!==a.state&&(L(r,"down"),P(r,"down"))}function q(t){var e=t[0];C();var n=e.isIntersecting,r=e.target,o=M(r),a=d[o];n&&"up"===k&&"down"===a.direction&&"enter"!==a.state&&(L(r,"up"),P(r,"up"))}function H(t){var e=t[0];C();var n=e.isIntersecting,r=e.intersectionRatio,o=e.boundingClientRect,a=e.target,i=o.bottom;n&&i-p>=0&&B(a,+r)}function F(){a.stepProgress=s.map((function(t,e){var n=l[e]-p+"px 0px "+(-f+p)+"px 0px",r=function(t){for(var e=Math.ceil(t/g),n=[],r=1/e,o=0;o<e;o+=1)n.push(o*r);return n}(l[e]),o=new IntersectionObserver(H,{rootMargin:n,threshold:r});return o.observe(t),o}))}function $(){r.forEach(S),a.viewportAbove=s.map((function(t,e){var n=h-c[e],r=p-f-l[e],o=new IntersectionObserver(z,{rootMargin:n+"px 0px "+r+"px 0px"});return o.observe(t),o})),a.viewportBelow=s.map((function(t,e){var n=-p-l[e],r=p-f+l[e]+h,o=new IntersectionObserver(q,{rootMargin:n+"px 0px "+r+"px 0px"});return o.observe(t),o})),a.stepAbove=s.map((function(t,e){var n=-p+l[e],r=new IntersectionObserver(N,{rootMargin:n+"px 0px "+(p-f)+"px 0px"});return r.observe(t),r})),a.stepBelow=s.map((function(t,e){var n=-p,r=p-f+l[e],o=new IntersectionObserver(U,{rootMargin:n+"px 0px "+r+"px 0px"});return o.observe(t),o})),b&&F()}function W(t){return!(!t||1!==t.nodeType)&&(function(t){var e=window.getComputedStyle(t);return("scroll"===e.overflowY||"auto"===e.overflowY)&&t.scrollHeight>t.clientHeight}(t)?t:W(t.parentNode))}var V={setup:function(t){var n=t.step,r=t.parent,o=t.offset;void 0===o&&(o=.5);var a=t.progress;void 0===a&&(a=!1);var l=t.threshold;void 0===l&&(l=4);var c=t.debug;void 0===c&&(c=!1);var p=t.order;void 0===p&&(p=!0);var f,h,m,w=t.once;if(void 0===w&&(w=!1),I(),h=(f="abcdefghijklmnopqrstuv").length,m=Date.now(),i=""+[0,0,0].map((function(t){return f[Math.floor(Math.random()*h)]})).join("")+m,!(s=function(t,e){return void 0===e&&(e=document),"string"==typeof t?Array.from(e.querySelectorAll(t)):t instanceof Element?[t]:t instanceof NodeList?Array.from(t):t instanceof Array?t:[]}(n,r)).length)return D("no step elements"),V;var k=s.reduce((function(t,e){return t||W(e.parentNode)}),!1);return k&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",k),v=c,b=a,x=p,_=w,V.offsetTrigger(o),g=Math.max(1,+l),y=!0,v&&e({id:i,stepEl:s,offsetVal:u}),s.forEach((function(t,e){return t.setAttribute("data-scrollama-index",e)})),d=s.map((function(){return{direction:null,state:null,progress:0}})),R(),V.enable(),V},resize:function(){return R(),V},enable:function(){return O(!0),V},disable:function(){return O(!1),V},destroy:function(){O(!1),I()},offsetTrigger:function(t){if(null===t)return u;if("number"==typeof t)T="percent",t>1&&D("offset value is greater than 1. Fallback to 1."),t<0&&D("offset value is lower than 0. Fallback to 0."),u=Math.min(Math.max(0,t),1);else if("string"==typeof t&&t.indexOf("px")>0){var e=+t.replace("px","");isNaN(e)?(D("offset value must be in 'px' format. Fallback to 0.5."),u=.5):(T="pixels",u=e)}else D("offset value does not include 'px'. Fallback to 0.5."),u=.5;return V},onStepEnter:function(t){return"function"==typeof t?o.stepEnter=t:D("onStepEnter requires a function"),V},onStepExit:function(t){return"function"==typeof t?o.stepExit=t:D("onStepExit requires a function"),V},onStepProgress:function(t){return"function"==typeof t?o.stepProgress=t:D("onStepProgress requires a function"),V}};return V}}()},620:function(){d3.selection.prototype.puddingBubble=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,r=null,o=null,a=null,i=null,s=null,l=e.datum(),c=l[0],d=(l[1],l[2]);c=c.filter((t=>0!=+t.monthly_visits&0!=+t[d]&"msn.com"!==t.site&"sports.yahoo.com"!==t.site&"finance.yahoo.com"!==t.site&"news.google.com"!==t.site&"news.yahoo.com"!==t.site&"bbc.com"!==t.site&"makeuseof.com"!==t.site&"which.co.uk"!==t.site&"espncricinfo.com"!==t.site&"seekingalpha.com"!==t.site&"prokerala.com"!==t.site));const u=c.map((t=>"polarity"===d?{site:t.site,polarity:t[d],monthly_visits:t.monthly_visits,country_of_pub:t.country_of_pub}:{site:t.site,bias:t[d],monthly_visits:t.monthly_visits,country_of_pub:t.country_of_pub}));let p=0,f=0,h=null,m=d3.extent(u,(t=>+t.monthly_visits)),g=d3.scaleSqrt().domain(m).range([3,70]),y=(d3.scaleLinear().domain(m).range([18,100]),null);const w={init(){n=e.append("svg").attr("class","pudding-chart"),r=n.append("g").attr("class","g-axis"),o=n.append("g").attr("class","g-vis"),a=o.selectAll("circle").data(u),i=o.selectAll("image").data(u),w.resize(),w.render()},resize:()=>(p=e.node().offsetWidth-50-30,f=e.node().offsetHeight-110-20,n.attr("width",p+50+30).attr("height",f+110+20),h=d3.scaleSymlog().range([130,p]).domain("polarity"===d?[0,d3.max(u,(t=>+t[d]))]:d3.extent(u,(t=>+t[d]))),y=d3.forceSimulation().nodes(u).force("charge",d3.forceManyBody().strength(1)).force("x",d3.forceX().x((function(t){return h(+t[d])}))).force("y",d3.forceY(f/1.5).strength(.05)).force("collide",d3.forceCollide((t=>g(+t.monthly_visits)))).on("tick",(s=a.join("circle").attr("class","forceCircles").style("opacity","1").attr("r",(t=>g(+t.monthly_visits))),void a.merge(s).attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})))),w),render:()=>(o.attr("transform","translate(50, 110)"),w),data(t){return arguments.length?(l=t,e.datum(l),w):l}};return w.init(),w}));return e.length>1?e:e.pop()}},76:function(){d3.selection.prototype.puddingLollipop=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,r=null,o=null,a=null,i=null,s=null,l=null,c=null,d=null,u=null,p=null,f=null,h=null,m=e.datum();m=m.filter((t=>1==t.popularity&&Math.abs(t.difference)>.05&&"dailysun.co.za"!==t.site_clean&&"msnbc"!==t.site_clean)),m=m.sort(((t,e)=>d3.descending(+t.polarity_women,+e.polarity_women)));let g=0,y=0;let w=null,v=null;function b(t,e){t.each((function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),o=[],a=0,i=n.attr("x"),s=n.attr("y"),l=n.text(null).append("tspan").attr("x",i).attr("y",s).attr("dy","0em");t=r.pop();)o.push(t),l.text(o.join(" ")),l.node().getComputedTextLength()>e&&(o.pop(),l.text(o.join(" ")),o=[t],l=n.append("tspan").attr("x",i).attr("y",s).attr("dy",1.1*++a+0+"em").text(t))}))}const x={init(){n=e.append("svg").attr("class","pudding-chart"),r=n.append("g").attr("class","g-axis"),o=n.append("g").attr("class","g-vis"),a=o.selectAll("gridline").data(m).join("line").attr("class","grid"),i=o.selectAll("myline").data(m).join("line").attr("class","polarityCompBubbleLine").attr("stroke","black").attr("stroke-width","2.5px"),s=o.selectAll("mycircle").data(m).join("circle").attr("r","4").attr("class","polarityCompBubbleLeft"),l=o.selectAll("mycircle").data(m).join("circle").attr("class","polarityCompBubbleRight").attr("r","11"),c=o.selectAll("mycircle").data(m).join("text").attr("class","polarityDiffAnnotation").text((t=>(t.polarity_women-t.polarity_base)/t.polarity_base*100>0?"+"+Math.round((t.polarity_women-t.polarity_base)/t.polarity_base*100)+"%":Math.round((t.polarity_women-t.polarity_base)/t.polarity_base*100)+"%")),d=o.append("line").attr("stroke","black").attr("stroke-width","2.5px"),u=o.append("circle").attr("cx",0).attr("cy",-60).attr("r","4").attr("class","polarityCompBubbleLeft"),p=o.append("circle").attr("cx",200).attr("cy",-60).attr("class","polarityCompBubbleRight").attr("r","11"),o.append("text").attr("class","xAxisLabel").attr("x",0).attr("y",-60).text("All headlines").attr("class","polarityCompAllText"),o.append("text").attr("class","xAxisLabel").attr("x",200).attr("y",-60).text("Headlines about women").attr("class","polarityCompFemText").call(b,100),f=o.append("text").attr("class","polarityCompxAxisLabel").attr("y",-15).attr("dy","1em").style("text-anchor","start").text("← Less polarizing language"),h=o.append("text").attr("class","polarityCompxAxisLabel").attr("y",-15).attr("dy","1em").style("text-anchor","end").text("More polarizing language →"),x.resize(),x.render()},resize:()=>(g=e.node().offsetWidth-160-50,y=e.node().offsetHeight-130-30,n.attr("width",g+160+50).attr("height",y+130+30),w=d3.scaleLinear().domain(d3.extent(m,(t=>t.polarity_women))).range([210,g]),r.append("g").attr("transform","translate(0,"+y+")").call(d3.axisBottom(w)).attr("class","polarityCompxAxis"),v=d3.scaleBand().range([0,y]).domain(m.map((t=>t.site_clean))).padding(1),r.append("g").attr("transform","translate(160,130)").call(d3.axisLeft(v).tickSize(0)).attr("class","polarityCompyAxis"),a.attr("x1",10).attr("x2",g).attr("y1",(function(t){return v(t.site_clean)})).attr("y2",(function(t){return v(t.site_clean)})),i.attr("x1",(function(t){return w(t.polarity_base)})).attr("x2",(function(t){return w(t.polarity_women)})).attr("y1",(function(t){return v(t.site_clean)})).attr("y2",(function(t){return v(t.site_clean)})),s.attr("cx",(function(t){return w(t.polarity_base)})).attr("cy",(function(t){return v(t.site_clean)})),l.attr("cx",(function(t){return w(t.polarity_women)})).attr("cy",(function(t){return v(t.site_clean)})),c.attr("x",(t=>w(t.polarity_women)-8)).attr("y",(t=>v(t.site_clean)+4)),d.attr("x1",0).attr("x2",200).attr("y1",-60).attr("y2",-60),f.attr("x",0),h.attr("x",g),x),render:()=>(o.attr("transform","translate(160, 130)"),x),data(t){return arguments.length?(m=t,e.datum(m),x):m}};return x.init(),x}));return e.length>1?e:e.pop()}},515:function(){d3.selection.prototype.puddingStackedBar=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,r=null,o=null,a=null,i=null,s=null,l=null,c=null,d=null;const u=d3.select("#scrolly-side"),p=u.select("article").selectAll(".step");let f,h=e.datum(),m=h[0],g=h[1],y=(h[2],h[3],[{country:"South Africa",flag:"assets/images/flags/south-africa.svg"},{country:"USA",flag:"assets/images/flags/united-states.svg"},{country:"India",flag:"assets/images/flags/india.svg"},{country:"UK",flag:"assets/images/flags/united-kingdom.svg"},{country:"All countries",flag:""}]),w=0,v=0,b=null,x=null;function _(t,e){t.each((function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),o=[],a=0,i=n.attr("x"),s=n.attr("y"),l=n.text(null).append("tspan").attr("x",i).attr("y",s).attr("dy","0em");t=r.pop();)o.push(t),l.text(o.join(" ")),l.node().getComputedTextLength()>e&&(o.pop(),l.text(o.join(" ")),o=[t],l=n.append("tspan").attr("x",i).attr("y",s).attr("dy",1.1*++a+0+"em").text(t))}))}const k={init(){!function(t,e){f=d3.stack().keys(t.columns.slice(2))(t).map((t=>(t.forEach((n=>n.key=void 0!==e.filter((e=>e.word===t.key))[0]?{word:t.key,theme:e.filter((e=>e.word===t.key))[0].theme}:{word:t.key,theme:"No theme"})),t)))}(m,g),n=e.append("svg").attr("class","stackedChart"),r=n.append("g").attr("class","g-axis"),a=r.append("g").attr("class","x axis"),i=r.append("g").attr("class","y axis"),o=n.append("g").attr("class","g-vis"),c=o.append("g").attr("class","stackedBars").selectAll("g").data(f).join("g").selectAll("rect").data((t=>t)),d=c.join("rect").attr("class",(t=>t.key.word)).attr("fill","lightgrey").attr("stroke","#FEFAF1").attr("stroke-width","0.2px"),k.resize(),k.render()},updateChart(t,e){console.log(t,e);const n=u.select(`[data-index='${t}']`),r=n.attr("task");if(n.attr("hovertype"),"highlightwords"===r){const o=n.attr("word");"down"===e?function(t,e,n,r){p.classed("is-active",((e,n)=>n===t)),console.log(n,e),d3.selectAll(`.${r}`).attr("fill","#E75C33"),d3.selectAll(".stackedBars").selectAll(`rect:not(.${r})`).attr("opacity","0.5"),d3.selectAll(".stackedChartyTicks").style("opacity","0")}(t,e,r,o):console.log(r,e)}else("drawbars"===r||"highlightthemes"===r||"tooltip"===r||"exploreChart"===r||"themeBarsTransition"===r)&&console.log(r,e);return k},resize:()=>(w=e.node().offsetWidth-0-0,v=2*(e.node().offsetHeight-50-0),n.attr("width",w+0+0).attr("height",v+50+0),a.attr("transform","translate(0,80)"),b=d3.scaleBand().domain(m.map((t=>t.country))).range([0,w+0]).padding(.1),xPad=b.padding(),s=t=>t.call(d3.axisTop(b).tickSizeOuter(0).tickSizeInner(0)).call((t=>t.selectAll(".domain").remove())),s=a.append("g").call(s),s.selectAll(".tick text").remove(),s.selectAll(".tick").append("text").text((t=>t)).attr("x",100*xPad).attr("y",0).attr("class","stackedChartTicks").call(_,b.bandwidth()),s.selectAll(".tick").append("svg:image").attr("height","35px").attr("x",100*xPad).attr("y",0).attr("transform","translate(-17, -50)").attr("xlink:href",(t=>y.filter((e=>e.country===t))[0].flag)),i.attr("transform","translate(0,0)"),x=d3.scaleLinear().domain([f.length,0]).range([v-0,50]),l=t=>t.call(d3.axisRight(x).tickSizeOuter(0).tickSizeInner(0)).call((t=>t.selectAll(".tick").remove())).call((t=>t.selectAll(".domain").remove())),l=i.append("g").call(l),d.attr("x",((t,e)=>b(t.data.country))).attr("height",(t=>0===t.data[t.key.word]||null===t.data[t.key.word]?0:v/f.length)).attr("width",b.bandwidth()).attr("y",(t=>0!==t.data[t.key.word]||null!==t.data[t.key.word]?x(t.data[t.key.word]):x(null))),k),render:()=>(o.attr("transform","translate(0, 50)"),k),data(t){return arguments.length?(h=t,e.datum(h),k):h}};return k.init(),k}));return e.length>1?e:e.pop()}},835:function(){d3.selection.prototype.puddingTemporalLine=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,r=null,o=null,a=null,i=null,s=null,l=e.datum(),c=l[0],d=l[1],u=l[2],p=l[3],f=c.filter((t=>t.year>d[0]&&t.year<d[1]&&t.country===u));f=f.map((t=>({year:t.year,frequency:t[p],word:t.word,word_type:t.word_type})));let h,m,g,y,w,v,b,x,_=d3.rollup(f,(t=>t.map((({year:t,frequency:e})=>({date:new Date(t,0,1),frequency:e})))),(t=>t.word)),k=(new Date(2010,0).getTime(),new Date(2021,0).getTime(),[{uid:1,name:"Horrifying gang rape and murder in New Delhi, India",category:4,date:new Date(2012,11,16)},{uid:1,name:"The U.S. military removes a ban against women serving in combat positions",category:4,date:new Date(2013,1,24)},{uid:1,name:"A new Pentagon report found a 50% increase in sexual assault reports in 2013",category:4,date:new Date(2014,5,1)},{uid:1,name:"Caitlyn Jenner comes out in an interview",category:4,date:new Date(2015,4,24)},{uid:1,name:"A survey for the Department of Defense finds that in the past year 52% of active service members who reported sexual assault had experienced retaliation in the form of professional, social, and administrative actions or punishments.",category:4,date:new Date(2015,4,18)},{uid:2,name:"People v. Turner: Brock Turner is arrested for sexually assaulting an unconscious woman",category:4,date:new Date(2015,1,18)},{uid:1,name:"#EndRapeCulture in South Africa",category:4,date:new Date(2016,4,0)},{uid:2,name:"Hillary Clinton becomes the first woman to receive a presidential nomination from a major political party",category:4,date:new Date(2016,7,26)},{uid:3,name:"Trump: “Grab ‘em by the pussy”",category:4,date:new Date(2016,10,8)},{uid:4,name:"People v. Turner: Brock Turner is convicted for three counts of felony sexual assault",category:4,date:new Date(2016,3,30)},{uid:5,name:"People v. Turner: Brock Turner is released after spending 3 months in jail",category:4,date:new Date(2016,9,2)},{uid:1,name:"#MeToo in U.S.A.",category:4,date:new Date(2017,10,15)},{uid:2,name:"Harvey Weinstein Trial",category:4,date:new Date(2017,10,0)},{uid:3,name:"#ChurchToo in U.S.A.",category:4,date:new Date(2017,11,0)},{uid:4,name:"#MeTooSTEM and removal of Francisco J. Ayala from UC Irvine",category:4,date:new Date(2017,11,0)},{uid:5,name:"Release of Wonder Woman",category:4,date:new Date(2017,5,15)},{uid:6,name:"Larry Nassar U.S. Gymnastics doctor sexual assault scandal",category:4,date:new Date(2017,12,0)},{uid:7,name:"Jessie Reyez releases “Gatekeeper”",category:4,date:new Date(2017,4,26)},{uid:8,name:"The 2017 Westminster sexual scandals in the U.K. and resignation of Sir Michael Fallon",category:4,date:new Date(2017,11,0)},{uid:1,name:"Meghan Markle’s wedding to Prince Harry in U.K.",category:4,date:new Date(2018,5,19)},{uid:2,name:"MEE TOO bill in U.S. Congress",category:4,date:new Date(2018,1,18)},{uid:3,name:"Priyanka Chopra marries Nick Jonas in India",category:4,date:new Date(2018,12,1)},{uid:4,name:"People v. Turner: Brock Turner is convicted by jury trial of three counts of felony sexual assault",category:4,date:new Date(2018,1,0)},{uid:5,name:"Google’s Andy Rubin sexual misconduct scandal",category:4,date:new Date(2018,10,25)},{uid:6,name:"Global Women’s March",category:4,date:new Date(2018,1,20)},{uid:7,name:"#MeTooMilitary in U.S.A",category:4,date:new Date(2018,1,0)},{uid:8,name:"#MeToo in India",category:4,date:new Date(2018,10,0)},{uid:9,name:"Mass sexual assaults during the 2018 new year's celebrations in Bangalore",category:4,date:new Date(2018,12,0)},{uid:10,name:"Indian actress Tanushree Dutta accuses Nana Patekar of sexual harassment",category:4,date:new Date(2018,9,27)},{uid:11,name:"Indian minister of state for External Affairs, MJ Akbar is accused of sexual harassment by several female colleagues through the 'Me Too' Movement in India",category:4,date:new Date(2018,10,0)},{uid:12,name:"Indian music director Anu Malik is suspended from the jury panel of Indian Idol 2018, after facing multiple allegations of sexual harassment",category:4,date:new Date(2018,10,21)},{uid:13,name:"Marriage of Prince Harry and Meghan Markle",category:4,date:new Date(2018,5,19)},{uid:1,name:"Greta Thunberg: Climate Action Summit and sail to NYC",category:4,date:new Date(2019,8,28)},{uid:2,name:"Release of “Surviving R. Kelly” documentary",category:4,date:new Date(2019,1,0)},{uid:3,name:"Arrest of R. Kelly for 10 counts of sexual abuse against four women",category:4,date:new Date(2019,2,0)},{uid:1,name:"#SayHerName: Murder of Breonna Taylor",category:4,date:new Date(2020,3,0)},{uid:2,name:"International Women’s Cricket T20",category:4,date:new Date(2020,2,0)},{uid:3,name:"Rape and murder of Vanessa Guillén in U.S. military",category:4,date:new Date(2020,4,22)},{uid:1,name:"16 year old Ma'Khia Bryant is fatally shot by police officer Nicholas Reardon in Columbus, Ohio",category:4,date:new Date(2021,4,20)},{uid:2,name:"Kamala Harris is sworn in as the first woman and first woman of color vice president of the United States",category:4,date:new Date(2021,1,20)},{uid:3,name:"Oprah with Meghan and Harry and “Megxit”",category:4,date:new Date(2021,3,7)},{uid:3,name:"Indian Prime Minister, Narendra Modi, follows trolls on twitter”",category:4,date:new Date(2017,8,8)},{uid:3,name:"Study finds that Indian women politicians face more trolling than US, UK counterparts",category:4,date:new Date(2021,0,24)},{uid:3,name:"40% Indian women fear online trolls as they access Internet: Nielson report",category:4,date:new Date(2019,11,17)},{uid:3,name:"Indian central government passes the Citizenship Amendment Act, by providing a pathway to Indian citizenship for persecuted religious minorities from Afghanistan, Bangladesh and Pakistan who are Hindus, Sikhs, Buddhists, Jains, Parsis or Christians, and arrived in India before the end of December 2014",category:4,date:new Date(2019,11,12)},{uid:3,name:"India saw, for the first time, a sustained countrywide movement led by Women against the CAA-NRC bills",category:4,date:new Date(2020,0,13)},{uid:3,name:"defamation case filed by former Union minister M J Akbar's against journalist Priya Ramani who had accused him of sexual harassment",category:4,date:new Date(2021,4,5)},{uid:3,name:"A majority judgement which declared the prohibition of entry of women aged between 10 and 50 into Sabarimala temple, as unconstitutional and discriminatory",category:4,date:new Date(2018,8,28)},{uid:3,name:"A Supreme Court Bench declared muslim instantaneous divorce, triple Talaq, as unconstitutional",category:4,date:new Date(2019,6,31)},{uid:3,name:"Indian court grants bail to Nupur Talwar, a dentist accused in the twin murder of her daughter and domestic help",category:4,date:new Date(2019,6,31)},{uid:3,name:"Kanimozhi Karunanidhi, Member of Parliament, accused in 2G scam, refused bail",category:4,date:new Date(2011,4,11)},{uid:3,name:"Accused who set fire to the rape survivor from Unnao, Uttar Pradesh, India, out on bail",category:4,date:new Date(2019,11,5)},{uid:3,name:"Multiple women enter inner sanctum of temples across the country, after protest",category:4,date:new Date(2016,2,3)},{uid:3,name:"Section 377: Supreme Court legalizes consensual sexual conduct between adults of the same sex",category:4,date:new Date(2018,8,6)},{uid:3,name:"Women’s Cricket World Cup 2017",category:4,date:new Date(2017,5,23)},{uid:3,name:"The Marikana massacre was the killing of 34 miners by the South African Police Service (SAPS). It took place on 16 August 2012, and was the most lethal use of force by South African security forces against civilians since 1976.",category:4,date:new Date(2012,7,16)},{uid:3,name:"On 11 April 2015, several South Africans attacked foreigners in a xenophobic attack in Durban, South Africa, which extended to some parts of Johannesburg. Several people, both foreign and South African alike, were killed with some of the killings captured on camera.",category:4,date:new Date(2015,3,11)},{uid:3,name:"Brutal gang rape and subsequent death of South African teenager",category:4,date:new Date(2013,1,2)},{uid:3,name:"Monica Lewinsky breaks decade-long media silence",category:4,date:new Date(2014,4,6)}]),T=0,A=0;let D=null,I=null,E=null,M=null,C=null,S=d3.cross(d3.range(200),d3.range(1),((t,e)=>({row:t,col:e})));const R={init(){n=e.append("svg").attr("class","pudding-chart");let t=n.append("defs").append("linearGradient").attr("id","linear-gradient");t.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),t.append("stop").attr("offset","0%").attr("stop-color","#3569DC"),t.append("stop").attr("offset","90%").attr("stop-color","#FEFAF1"),t.append("stop").attr("offset","100%").attr("stop-color","#FEFAF1"),r=n.append("g").attr("class","g-axis"),a=d3.scaleBand().domain(d3.range(200)).paddingInner(-1),i=d3.scaleBand().domain(d3.range(1)).paddingInner(.2),D=d3.scaleTime().domain([m,g]).range([0,i.bandwidth()]),xaxis=d3.axisBottom(D).ticks(10).tickSizeOuter(0).tickSizeInner(0).tickPadding(30).tickFormat(((t,e)=>0==e||3==e||6==e||9==e||11==e?d3.timeFormat("%Y")(new Date(t)):"")),E=d3.select("#stickyXaxis").append("svg").attr("class","stickyAxis"),M=E.append("g"),$cirlceEvents=E.append("g").selectAll("circle").data(function(t,{radius:e=1,x:n=(t=>t)}={}){const r=e**2,o=t.map(((e,r)=>({x:+n(e,r,t),data:e}))).sort(((t,e)=>t.x-e.x));let a=null,i=null;function s(t,e){let n=a;for(;n;){if(r-.001>(n.x-t)**2+(n.y-e)**2)return!0;n=n.next}return!1}for(const t of o){for(;a&&a.x<t.x-r;)a=a.next;if(s(t.x,t.y=0)){let e=a;t.y=1/0;do{let n=e.y+Math.sqrt(r-(e.x-t.x)**2),o=e.y-Math.sqrt(r-(e.x-t.x)**2);Math.abs(n)<Math.abs(t.y)&&!s(t.x,n)&&(t.y=n),Math.abs(o)<Math.abs(t.y)&&!s(t.x,o)&&(t.y=o),e=e.next}while(e)}t.next=null,null===a?a=i=t:i=i.next=t}return o}(k.filter((t=>t.date<=g)),{radius:13.5,x:t=>D(t.date)})),h=d3.zip(Array.from(_),S).map((([[t,e],{row:n,col:r}])=>({word:t,rates:e,row:n,col:r}))),console.log(h),m=h[0].rates[0].date,g=h[0].rates[h[0].rates.length-1].date,y=Object.fromEntries(h.map((t=>(w=d3.max(t.rates,(t=>t.frequency)),I=d3.scaleLinear().domain([0,w]).range([a.bandwidth(),0]).nice(),v=d3.curveMonotoneX,b=d3.area().x((t=>D(t.date))).y1((t=>I(t.frequency))).y0((t=>I(0))).curve(d3.curveMonotoneX),x=d3.line().x((t=>D(t.date))).y((t=>I(t.frequency))).curve(d3.curveMonotoneX),[t.word,{y:I,area:b,line:x}])))),console.log(y),o=n.append("g").attr("class","g-vis"),s=o.append("g").selectAll("g").data(h).join("g").attr("class","cell").attr("transform",(t=>`translate(${i(t.col)}, ${a(t.row)})`)),R.resize(),R.render()},resize:()=>(T=e.node().offsetWidth-40-40,A=e.node().offsetHeight-150-20,n.attr("width",T+40+40).attr("height",A+150+20),a.range([0,A]),i.range([0,T]),E.attr("transform","translate(40, 0)").attr("width",T+40+40).attr("height",200),M.attr("transform",`translate(${i(0)}, 150)`).call(xaxis),C=E.append("g").attr("transform",`translate(${i(0)}, 150)`).append("text").text("News Events").attr("class","annotation").attr("font-weight","400").attr("x",-20).attr("y",-4),$cirlceEvents.attr("transform",`translate(${i(0)}, 150)`),null.attr("cx",(t=>t.x)).attr("cy",(t=>t.y)),R),render:()=>(o.attr("transform","translate(40, 150)"),R),data(t){return arguments.length?(l=t,e.datum(l),R):l}};return R.init(),R}));return e.length>1?e:e.pop()}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=n(296),e=n.n(t);const r={android:()=>navigator.userAgent.match(/Android/i),blackberry:()=>navigator.userAgent.match(/BlackBerry/i),ios:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:()=>navigator.userAgent.match(/Opera Mini/i),windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>r.android()||r.blackberry()||r.ios()||r.opera()||r.windows()};var o=r;const a='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',i=d3.select("body");function s(t,e,n){const r=t.classed("is-visible");e.attr("aria-expanded",!r),t.classed("is-active",!r),t.classed("is-visible",!r),i.classed("modal-open",!r),!0===n&&(r?e.html((()=>a)):e.html((()=>'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>')))}function l(t){return new Promise(((e,n)=>{const r=t.split(".").pop();"csv"===r?d3.csv(`assets/data/${t}`).then(e).catch(n):"json"===r?d3.json(`assets/data/${t}`).then(e).catch(n):n(new Error(`unsupported file type for: ${t}`))}))}n(515),n(76),n(620),n(835),n(337);var c=n(99),d=n.n(c);let u,p,f,h,m,g,y,w,v,b,x,_,k,T,A,D,I,E=["headlines_site_rapi.csv","headlines_cl_sent_sm_rapi.csv","country_time_freqrank_rapi_clean.csv","polarity_comparison.csv","country_freqtheme_pivoted.csv","word_themes.csv","country_freq_pivoted_all_100221.csv","word_themes_all_100221.csv","word_themes_rank_100221.csv","word_themes_freq_100221.csv"],M=null,C=null,S=null,R=null;const O=d3.select("#stickyStackedChart"),B=d3.selectAll("#stackedChartLegend .step"),j=d3.select("#lollipopChart");let L=null,P=d3.select("#smChart");const N=d()();function U(t){var e,n;B.classed("is-active",((e,n)=>n===t.index)),e=t.index,n=t.direction,M.updateChart(e,n)}function z(t,e){L=d3.select(`#chart${e}`),S=L.datum(t).puddingBubble(e)}function q(){const t=Math.floor(.75*window.innerHeight);B.style("height",t+"px"),N.resize()}var H={init:function(){(function(t){if("string"==typeof t)return l(t);const e=t.map(l);return Promise.all(e)})(E).then((t=>{u=t[0],p=t[1],f=t[2],h=t[3],m=t[4],g=t[5],y=t[6],w=t[7],v=t[8],b=t[9],T=[2009,2022],A="USA",D="freq_prop_headlines",x=[y,w,v,b],_=[u,p,"bias"],k=[u,p,"polarity"],I=[f,T,"USA","freq_prop_headlines"],q(),function(t){M=O.datum(t).puddingStackedBar()}(x),N.setup({step:"#stackedChartLegend .step",offset:.7}).onStepEnter(U),function(t){C=j.datum(t).puddingLollipop()}(h),z(_,"B"),z(k,"P"),function(t){R=P.datum(t).puddingTemporalLine()}(I)})).catch(console.error)},resize:q};const F=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Women’s Pockets are Inferior"}];let $=null;function W(t){return`\n\t<a class='footer-recirc__article' href='https://pudding.cool/${t.url}' target='_blank' rel='noopener'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/${t.image}.jpg' alt='${t.hed}'>\n\t\t<p class='article__headline'>${t.hed}</p>\n\t</a>\n\t`}var V=function(){!function(t){const e=new XMLHttpRequest,n=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`;e.open("GET",n,!0),e.onload=()=>{if(e.status>=200&&e.status<400){const n=JSON.parse(e.responseText);t(n)}else t(F)},e.onerror=()=>t(F),e.send()}((t=>{$=t,function(){const t=window.location.href,e=$.find((e=>t.includes(e.url))),n=e?e.topic:"culture",r=$.filter((e=>!t.includes(e.url))),o=r.filter((t=>t.topic!==n)),a=r.filter((t=>t.topic===n)),i=[];i.push(...o.slice(0,2)),i.push(a[0]),i.push(a[Math.ceil(Math.random()*(a.length-1))]);const s=i.map(W).join("");d3.select(".pudding-footer .footer-recirc__articles").html(s)}()}))};const K=d3.select("body");let G=0;new Array("When","Women","Make","Headlines")[0].length,function(t,e=document){return[...e.querySelectorAll(t)]}("[target='_blank']").forEach((t=>t.setAttribute("rel","noopener"))),K.classed("is-mobile",o.any()),window.addEventListener("resize",e()((function(){const t=K.node().offsetWidth;G!==t&&(G=t,H.resize())}),150)),function(){const t=K.select("header");if(t.classed("is-sticky")){const e=K.select("#slide__menu"),n=K.select(".header__toggle");!function(t,e,n,r,o,i){const l=n.selectAll("a, button, .logo").nodes(),c=l[0],d=l[l.length-1];t.on("click",(()=>s(r,t,i))),e.on("click",(()=>s(r,e,i))),n.on("keydown",(e=>{const n=e.code,o=r.classed("is-visible");"Escape"===n&&!0===o&&(t.attr("aria-expanded",!1),t.node().focus(),r.classed("is-active",!1),r.classed("is-visible",!1),t.html((()=>a)))})),d3.select(c).on("keydown",(t=>{if(r.classed("is-visible")){const e=t.code,n=t.shiftKey;"Tab"===e&&!0===n&&(t.preventDefault(),d.focus())}})),d3.select(d).on("keydown",(t=>{if(r.classed("is-visible")){const e=t.code,n=t.shiftKey;"Tab"===e&&!1===n&&(t.preventDefault(),c.focus())}}))}(n,n,t,e,0,!0)}}(),H.init(),V()}()}();