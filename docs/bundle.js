!function(){var t={221:function(t){var e;window,e=function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=37)}([function(t,e,n){var o=n(1),r=n(6),i=n(7),a=n(16),s=n(18),l="prototype",c=function(t,e,n){var u,d,p,f,h=t&c.F,m=t&c.G,g=t&c.S,y=t&c.P,v=t&c.B,w=m?o:g?o[e]||(o[e]={}):(o[e]||{})[l],b=m?r:r[e]||(r[e]={}),x=b[l]||(b[l]={});for(u in m&&(n=e),n)p=((d=!h&&w&&void 0!==w[u])?w:n)[u],f=v&&d?s(p,o):y&&"function"==typeof p?s(Function.call,p):p,w&&a(w,u,p,t&c.U),b[u]!=p&&i(b,u,f),y&&x[u]!=p&&(x[u]=p)};o.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";n.r(e),n.d(e,"h",(function(){return s})),n.d(e,"createElement",(function(){return s})),n.d(e,"cloneElement",(function(){return u})),n.d(e,"Component",(function(){return L})),n.d(e,"render",(function(){return N})),n.d(e,"rerender",(function(){return h})),n.d(e,"options",(function(){return r}));var o=function(){},r={},i=[],a=[];function s(t,e){var n,s,l,c,u=a;for(c=arguments.length;2<c--;)i.push(arguments[c]);for(e&&null!=e.children&&(i.length||i.push(e.children),delete e.children);i.length;)if((s=i.pop())&&void 0!==s.pop)for(c=s.length;c--;)i.push(s[c]);else"boolean"==typeof s&&(s=null),(l="function"!=typeof t)&&(null==s?s="":"number"==typeof s?s=String(s):"string"!=typeof s&&(l=!1)),l&&n?u[u.length-1]+=s:u===a?u=[s]:u.push(s),n=l;var d=new o;return d.nodeName=t,d.children=u,d.attributes=null==e?void 0:e,d.key=null==e?void 0:e.key,void 0!==r.vnode&&r.vnode(d),d}function l(t,e){for(var n in e)t[n]=e[n];return t}var c="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function u(t,e){return s(t.nodeName,l(l({},t.attributes),e),2<arguments.length?[].slice.call(arguments,2):t.children)}var d=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function f(t){!t._dirty&&(t._dirty=!0)&&1==p.push(t)&&(r.debounceRendering||c)(h)}function h(){var t,e=p;for(p=[];t=e.pop();)t._dirty&&D(t)}function m(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function g(t){var e=l({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===e[o]&&(e[o]=n[o]);return e}function y(t){var e=t.parentNode;e&&e.removeChild(t)}function v(t,e,n,o,r){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),o&&o(t);else if("class"!==e||r)if("style"===e){if(o&&"string"!=typeof o&&"string"!=typeof n||(t.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(t.style[i]="");for(var i in o)t.style[i]="number"==typeof o[i]&&!1===d.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===e)o&&(t.innerHTML=o.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),o?n||t.addEventListener(e,w,a):t.removeEventListener(e,w,a),(t._listeners||(t._listeners={}))[e]=o}else if("list"!==e&&"type"!==e&&!r&&e in t){try{t[e]=null==o?"":o}catch(t){}null!=o&&!1!==o||"spellcheck"==e||t.removeAttribute(e)}else{var s=r&&e!==(e=e.replace(/^xlink:?/,""));null==o||!1===o?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof o&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),o):t.setAttribute(e,o))}else t.className=o||""}function w(t){return this._listeners[t.type](r.event&&r.event(t)||t)}var b=[],x=0,_=!1,k=!1;function C(){for(var t;t=b.pop();)r.afterMount&&r.afterMount(t),t.componentDidMount&&t.componentDidMount()}function A(t,e,n,o,r){var i=t,a=_;if(null!=e&&"boolean"!=typeof e||(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||r)?t.nodeValue!=e&&(t.nodeValue=e):(i=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(i,t),E(t,!0))),i.__preactattr_=!0,i;var s=e.nodeName;if("function"==typeof s)return function(t,e,n,o){for(var r=t&&t._component,i=r,a=t,s=r&&t._componentConstructor===e.nodeName,l=s,c=g(e);r&&!l&&(r=r._parentComponent);)l=r.constructor===e.nodeName;return r&&l&&(!o||r._component)?(I(r,c,3,n,o),t=r.base):(i&&!s&&(B(i),t=a=null),r=M(e.nodeName,c,n),t&&!r.nextBase&&(r.nextBase=t,a=null),I(r,c,1,n,o),t=r.base,a&&t!==a&&(a._component=null,E(a,!1))),t}(t,e,n,o);if(_="svg"===s||"foreignObject"!==s&&_,s=String(s),(!t||!m(t,s))&&(i=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}(s,_),t)){for(;t.firstChild;)i.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(i,t),E(t,!0)}var l=i.firstChild,c=i.__preactattr_,u=e.children;if(null==c){c=i.__preactattr_={};for(var d=i.attributes,p=d.length;p--;)c[d[p].name]=d[p].value}return!k&&u&&1===u.length&&"string"==typeof u[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=u[0]&&(l.nodeValue=u[0]):(u&&u.length||null!=l)&&function(t,e,n,o,r){var i,a,s,l,c,u,d,p,f=t.childNodes,h=[],g={},v=0,w=0,b=f.length,x=0,_=e?e.length:0;if(0!==b)for(var k=0;k<b;k++){var C=f[k],O=C.__preactattr_;null!=(S=_&&O?C._component?C._component.__key:O.key:null)?(v++,g[S]=C):(O||(void 0!==C.splitText?!r||C.nodeValue.trim():r))&&(h[x++]=C)}if(0!==_)for(k=0;k<_;k++){var S;if(c=null,null!=(S=(l=e[k]).key))v&&void 0!==g[S]&&(c=g[S],g[S]=void 0,v--);else if(w<x)for(i=w;i<x;i++)if(void 0!==h[i]&&(u=a=h[i],p=r,"string"==typeof(d=l)||"number"==typeof d?void 0!==u.splitText:"string"==typeof d.nodeName?!u._componentConstructor&&m(u,d.nodeName):p||u._componentConstructor===d.nodeName)){c=a,h[i]=void 0,i===x-1&&x--,i===w&&w++;break}c=A(c,l,n,o),s=f[k],c&&c!==t&&c!==s&&(null==s?t.appendChild(c):c===s.nextSibling?y(s):t.insertBefore(c,s))}if(v)for(var k in g)void 0!==g[k]&&E(g[k],!1);for(;w<=x;)void 0!==(c=h[x--])&&E(c,!1)}(i,u,n,o,k||null!=c.dangerouslySetInnerHTML),function(t,e,n){var o;for(o in n)e&&null!=e[o]||null==n[o]||v(t,o,n[o],n[o]=void 0,_);for(o in e)"children"===o||"innerHTML"===o||o in n&&e[o]===("value"===o||"checked"===o?t[o]:n[o])||v(t,o,n[o],n[o]=e[o],_)}(i,e.attributes,c),_=a,i}function E(t,e){var n=t._component;n?B(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),!1!==e&&null!=t.__preactattr_||y(t),O(t))}function O(t){for(t=t.lastChild;t;){var e=t.previousSibling;E(t,!0),t=e}}var S=[];function M(t,e,n){var o,r=S.length;for(t.prototype&&t.prototype.render?(o=new t(e,n),L.call(o,e,n)):((o=new L(e,n)).constructor=t,o.render=T);r--;)if(S[r].constructor===t)return o.nextBase=S[r].nextBase,S.splice(r,1),o;return o}function T(t,e,n){return this.constructor(t,n)}function I(t,e,n,o,i){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||i?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,o)),o&&o!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=o),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===r.syncComponentUpdates&&t.base?f(t):D(t,1,i)),t.__ref&&t.__ref(t))}function D(t,e,n,o){if(!t._disable){var i,a,s,c=t.props,u=t.state,d=t.context,p=t.prevProps||c,f=t.prevState||u,h=t.prevContext||d,m=t.base,y=t.nextBase,v=m||y,w=t._component,O=!1,S=h;if(t.constructor.getDerivedStateFromProps&&(u=l(l({},u),t.constructor.getDerivedStateFromProps(c,u)),t.state=u),m&&(t.props=p,t.state=f,t.context=h,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,u,d)?O=!0:t.componentWillUpdate&&t.componentWillUpdate(c,u,d),t.props=c,t.state=u,t.context=d),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!O){i=t.render(c,u,d),t.getChildContext&&(d=l(l({},d),t.getChildContext())),m&&t.getSnapshotBeforeUpdate&&(S=t.getSnapshotBeforeUpdate(p,f));var T,L,N=i&&i.nodeName;if("function"==typeof N){var j=g(i);(a=w)&&a.constructor===N&&j.key==a.__key?I(a,j,1,d,!1):(T=a,t._component=a=M(N,j,d),a.nextBase=a.nextBase||y,a._parentComponent=t,I(a,j,0,d,!1),D(a,1,n,!0)),L=a.base}else s=v,(T=w)&&(s=t._component=null),(v||1===e)&&(s&&(s._component=null),L=function(t,e,n,o,r,i){x++||(_=null!=r&&void 0!==r.ownerSVGElement,k=null!=t&&!("__preactattr_"in t));var a=A(t,e,n,o,true);return r&&a.parentNode!==r&&r.appendChild(a),--x||(k=!1),a}(s,i,d,n||!m,v&&v.parentNode));if(v&&L!==v&&a!==w){var R=v.parentNode;R&&L!==R&&(R.replaceChild(L,v),T||(v._component=null,E(v,!1)))}if(T&&B(T),(t.base=L)&&!o){for(var P=t,F=t;F=F._parentComponent;)(P=F).base=L;L._component=P,L._componentConstructor=P.constructor}}for(!m||n?b.unshift(t):O||(t.componentDidUpdate&&t.componentDidUpdate(p,f,S),r.afterUpdate&&r.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);x||o||C()}}function B(t){r.beforeUnmount&&r.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?B(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),y(t.nextBase=e),S.push(t),O(e)),t.__ref&&t.__ref(null)}function L(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function N(t,e,n){return function(t,e,n,o,r,i){x++||(_=null!=r&&void 0!==r.ownerSVGElement,k=null!=t&&!("__preactattr_"in t));var a=A(t,e,{},!1,false);return r&&a.parentNode!==r&&r.appendChild(a),--x||(k=!1,C()),a}(n,t,0,0,e)}l(L.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=l(l({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),f(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),D(this,2)},render:function(){}});var j={h:s,createElement:s,cloneElement:u,Component:L,render:N,rerender:h,options:r};e.default=j},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var o=n(8),r=n(40);t.exports=n(3)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(9),r=n(38),i=n(39),a=Object.defineProperty;e.f=n(3)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var o=n(2);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e,n){var o=n(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var o=n(4);t.exports=function(t,e){return!!t&&o((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var o=n(0);o(o.S+o.F,"Object",{assign:n(41)})},function(t,e,n){var o=n(2),r=n(1).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,n){var o=n(1),r=n(7),i=n(17),a=n(10)("src"),s="toString",l=Function[s],c=(""+l).split(s);n(6).inspectSource=function(t){return l.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(i(n,"name")||r(n,"name",e)),t[e]!==n&&(l&&(i(n,a)||r(n,a,t[e]?""+t[e]:c.join(String(e)))),t===o?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,s,(function(){return"function"==typeof this&&this[a]||l.call(this)}))},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(19);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var o=n(42),r=n(28);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e,n){var o=n(11),r=n(12);t.exports=function(t){return o(r(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(21),r=n(24),i=n(43);t.exports=function(t){return function(e,n,a){var s,l=o(e),c=r(l.length),u=i(a,c);if(t&&n!=n){for(;u<c;)if((s=l[u++])!=s)return!0}else for(;u<c;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var o=n(25),r=Math.min;t.exports=function(t){return 0<t?r(o(t),9007199254740991):0}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?o:n)(t)}},function(t,e,n){var o=n(27)("keys"),r=n(10);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var o=n(6),r=n(1),i="__core-js_shared__",a=r[i]||(r[i]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n(44)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var o=n(12);t.exports=function(t){return Object(o(t))}},function(t,e,n){var o=n(8).f,r=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in r||n(3)&&o(r,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var o=n(0),r=n(32)(1);o(o.P+o.F*!n(13)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var o=n(18),r=n(11),i=n(29),a=n(24),s=n(47);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,d=6==t,p=5==t||d,f=e||s;return function(e,s,h){for(var m,g,y=i(e),v=r(y),w=o(s,h,3),b=a(v.length),x=0,_=n?f(e,b):l?f(e,0):void 0;x<b;x++)if((p||x in v)&&(g=w(m=v[x],x,y),t))if(n)_[x]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:_.push(m)}else if(u)return!1;return d?-1:c||u?u:_}}},function(t,e,n){var o=n(22);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,n){var o=n(27)("wks"),r=n(10),i=n(1).Symbol,a="function"==typeof i;(t.exports=function(t){return o[t]||(o[t]=a&&i[t]||(a?i:r)("Symbol."+t))}).store=o},function(t,e,n){"use strict";var o=n(0),r=n(23)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;o(o.P+o.F*(a||!n(13)(i)),"Array",{indexOf:function(t){return a?i.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){var o=n(0);o(o.S,"Object",{create:n(52)})},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,n(14),n(30),n(31),n(35),n(49),n(50);var o=n(5),r=function(t){return t&&t.__esModule?t:{default:t}}(n(51));function i(t){if(!t.element)throw new Error("element is not defined");if(!t.id)throw new Error("id is not defined");if(!t.source)throw new Error("source is not defined");Array.isArray(t.source)&&(t.source=a(t.source)),(0,o.render)((0,o.createElement)(r.default,t),t.element)}var a=function(t){return function(e,n){n(t.filter((function(t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())})))}};i.enhanceSelectElement=function(t){if(!t.selectElement)throw new Error("selectElement is not defined");if(!t.source){var e=[].filter.call(t.selectElement.options,(function(e){return e.value||t.preserveNullOptions}));t.source=e.map((function(t){return t.textContent||t.innerText}))}if(t.onConfirm=t.onConfirm||function(e){var n=[].filter.call(t.selectElement.options,(function(t){return(t.textContent||t.innerText)===e}))[0];n&&(n.selected=!0)},t.selectElement.value||void 0===t.defaultValue){var n=t.selectElement.options[t.selectElement.options.selectedIndex];t.defaultValue=n.textContent||n.innerText}void 0===t.name&&(t.name=""),void 0===t.id&&(void 0===t.selectElement.id?t.id="":t.id=t.selectElement.id),void 0===t.autoselect&&(t.autoselect=!0);var o=document.createElement("div");t.selectElement.parentNode.insertBefore(o,t.selectElement),i(Object.assign({},t,{element:o})),t.selectElement.style.display="none",t.selectElement.id=t.selectElement.id+"-select"};var s=i;e.default=s},function(t,e,n){t.exports=!n(3)&&!n(4)((function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var o=n(2);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var o=n(20),r=n(45),i=n(46),a=n(29),s=n(11),l=Object.assign;t.exports=!l||n(4)((function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=o}))?function(t,e){for(var n=a(t),l=arguments.length,c=1,u=r.f,d=i.f;c<l;)for(var p,f=s(arguments[c++]),h=u?o(f).concat(u(f)):o(f),m=h.length,g=0;g<m;)d.call(f,p=h[g++])&&(n[p]=f[p]);return n}:l},function(t,e,n){var o=n(17),r=n(21),i=n(23)(!1),a=n(26)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)n!=a&&o(s,n)&&c.push(n);for(;e.length>l;)o(s,n=e[l++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var o=n(25),r=Math.max,i=Math.min;t.exports=function(t,e){return(t=o(t))<0?r(t+e,0):i(t,e)}},function(t,e){t.exports=!1},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(48);t.exports=function(t,e){return new(o(t))(e)}},function(t,e,n){var o=n(2),r=n(33),i=n(34)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),o(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var o=n(0),r=n(32)(2);o(o.P+o.F*!n(13)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var o=n(0);o(o.S,"Array",{isArray:n(33)})},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,n(14),n(36),n(30),n(31),n(35),n(55),n(58);var o=n(5),r=a(n(60)),i=a(n(61));function a(t){return t&&t.__esModule?t:{default:t}}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c={13:"enter",27:"escape",32:"space",38:"up",40:"down"};function u(){return"undefined"!=typeof navigator&&!(!navigator.userAgent.match(/(iPod|iPhone|iPad)/g)||!navigator.userAgent.match(/AppleWebKit/g))}var d=function(t){function e(e){var n;return(n=t.call(this,e)||this).elementReferences={},n.state={focused:null,hovered:null,menuOpen:!1,options:e.defaultValue?[e.defaultValue]:[],query:e.defaultValue,validChoiceMade:!1,selected:null,ariaHint:!0},n.handleComponentBlur=n.handleComponentBlur.bind(l(l(n))),n.handleKeyDown=n.handleKeyDown.bind(l(l(n))),n.handleUpArrow=n.handleUpArrow.bind(l(l(n))),n.handleDownArrow=n.handleDownArrow.bind(l(l(n))),n.handleEnter=n.handleEnter.bind(l(l(n))),n.handlePrintableKey=n.handlePrintableKey.bind(l(l(n))),n.handleListMouseLeave=n.handleListMouseLeave.bind(l(l(n))),n.handleOptionBlur=n.handleOptionBlur.bind(l(l(n))),n.handleOptionClick=n.handleOptionClick.bind(l(l(n))),n.handleOptionFocus=n.handleOptionFocus.bind(l(l(n))),n.handleOptionMouseDown=n.handleOptionMouseDown.bind(l(l(n))),n.handleOptionMouseEnter=n.handleOptionMouseEnter.bind(l(l(n))),n.handleInputBlur=n.handleInputBlur.bind(l(l(n))),n.handleInputChange=n.handleInputChange.bind(l(l(n))),n.handleInputFocus=n.handleInputFocus.bind(l(l(n))),n.pollInputElement=n.pollInputElement.bind(l(l(n))),n.getDirectInputChanges=n.getDirectInputChanges.bind(l(l(n))),n}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t);var n=e.prototype;return n.isQueryAnOption=function(t,e){var n=this;return-1!==e.map((function(t){return n.templateInputValue(t).toLowerCase()})).indexOf(t.toLowerCase())},n.componentDidMount=function(){this.pollInputElement()},n.componentWillUnmount=function(){clearTimeout(this.$pollInput)},n.pollInputElement=function(){var t=this;this.getDirectInputChanges(),this.$pollInput=setTimeout((function(){t.pollInputElement()}),100)},n.getDirectInputChanges=function(){var t=this.elementReferences[-1];t&&t.value!==this.state.query&&this.handleInputChange({target:{value:t.value}})},n.componentDidUpdate=function(t,e){var n=this.state.focused,o=null===n,r=e.focused!==n;r&&!o&&this.elementReferences[n].focus();var i=-1===n,a=r&&null===e.focused;if(i&&a){var s=this.elementReferences[n];s.setSelectionRange(0,s.value.length)}},n.hasAutoselect=function(){return!u()&&this.props.autoselect},n.templateInputValue=function(t){var e=this.props.templates&&this.props.templates.inputValue;return e?e(t):t},n.templateSuggestion=function(t){var e=this.props.templates&&this.props.templates.suggestion;return e?e(t):t},n.handleComponentBlur=function(t){var e,n=this.state,o=n.options,r=n.query,i=n.selected;this.props.confirmOnBlur?(e=t.query||r,this.props.onConfirm(o[i])):e=r,this.setState({focused:null,menuOpen:t.menuOpen||!1,query:e,selected:null,validChoiceMade:this.isQueryAnOption(e,o)})},n.handleListMouseLeave=function(t){this.setState({hovered:null})},n.handleOptionBlur=function(t,e){var n=this.state,o=n.focused,r=n.menuOpen,i=n.options,a=n.selected,s=null===t.relatedTarget,l=t.relatedTarget===this.elementReferences[-1],c=o!==e&&-1!==o;if(!c&&s||!c&&!l){var d=r&&u();this.handleComponentBlur({menuOpen:d,query:this.templateInputValue(i[a])})}},n.handleInputBlur=function(t){var e=this.state,n=e.focused,o=e.menuOpen,r=e.options,i=e.query,a=e.selected;if(-1===n){var s=o&&u(),l=u()?i:this.templateInputValue(r[a]);this.handleComponentBlur({menuOpen:s,query:l})}},n.handleInputChange=function(t){var e=this,n=this.props,o=n.minLength,r=n.source,i=n.showAllValues,a=this.hasAutoselect(),s=t.target.value,l=0===s.length,c=this.state.query.length!==s.length,u=s.length>=o;this.setState({query:s,ariaHint:l}),i||!l&&c&&u?r(s,(function(t){var n=0<t.length;e.setState({menuOpen:n,options:t,selected:a&&n?0:-1,validChoiceMade:!1})})):!l&&u||this.setState({menuOpen:!1,options:[]})},n.handleInputClick=function(t){this.handleInputChange(t)},n.handleInputFocus=function(t){var e=this.state,n=e.query,o=e.validChoiceMade,r=e.options,i=this.props.minLength,a=!o&&n.length>=i&&0<r.length;a?this.setState((function(t){var e=t.menuOpen;return{focused:-1,menuOpen:a||e,selected:-1}})):this.setState({focused:-1})},n.handleOptionFocus=function(t){this.setState({focused:t,hovered:null,selected:t})},n.handleOptionMouseEnter=function(t,e){u()||this.setState({hovered:e})},n.handleOptionClick=function(t,e){var n=this.state.options[e],o=this.templateInputValue(n);this.props.onConfirm(n),this.setState({focused:-1,hovered:null,menuOpen:!1,query:o,selected:-1,validChoiceMade:!0}),this.forceUpdate()},n.handleOptionMouseDown=function(t){t.preventDefault()},n.handleUpArrow=function(t){t.preventDefault();var e=this.state,n=e.menuOpen,o=e.selected;-1!==o&&n&&this.handleOptionFocus(o-1)},n.handleDownArrow=function(t){var e=this;if(t.preventDefault(),this.props.showAllValues&&!1===this.state.menuOpen)t.preventDefault(),this.props.source("",(function(t){e.setState({menuOpen:!0,options:t,selected:0,focused:0,hovered:null})}));else if(!0===this.state.menuOpen){var n=this.state,o=n.menuOpen,r=n.options,i=n.selected;i!==r.length-1&&o&&this.handleOptionFocus(i+1)}},n.handleSpace=function(t){var e=this;this.props.showAllValues&&!1===this.state.menuOpen&&""===this.state.query&&(t.preventDefault(),this.props.source("",(function(t){e.setState({menuOpen:!0,options:t})}))),-1!==this.state.focused&&(t.preventDefault(),this.handleOptionClick(t,this.state.focused))},n.handleEnter=function(t){this.state.menuOpen&&(t.preventDefault(),0<=this.state.selected&&this.handleOptionClick(t,this.state.selected))},n.handlePrintableKey=function(t){var e=this.elementReferences[-1];t.target===e||e.focus()},n.handleKeyDown=function(t){switch(c[t.keyCode]){case"up":this.handleUpArrow(t);break;case"down":this.handleDownArrow(t);break;case"space":this.handleSpace(t);break;case"enter":this.handleEnter(t);break;case"escape":this.handleComponentBlur({query:this.state.query});break;default:(function(t){return 47<t&&t<58||32===t||8===t||64<t&&t<91||95<t&&t<112||185<t&&t<193||218<t&&t<223})(t.keyCode)&&this.handlePrintableKey(t)}},n.render=function(){var t,e=this,n=this.props,i=n.cssNamespace,a=n.displayMenu,l=n.id,c=n.minLength,d=n.name,p=n.placeholder,f=n.required,h=n.showAllValues,m=n.tNoResults,g=n.tStatusQueryTooShort,y=n.tStatusNoResults,v=n.tStatusSelectedOption,w=n.tStatusResults,b=n.tAssistiveHint,x=n.dropdownArrow,_=this.state,k=_.focused,C=_.hovered,A=_.menuOpen,E=_.options,O=_.query,S=_.selected,M=_.ariaHint,T=_.validChoiceMade,I=this.hasAutoselect(),D=-1===k,B=0===E.length,L=0!==O.length,N=O.length>=c,j=this.props.showNoOptionsFound&&D&&B&&L&&N,R=i+"__wrapper",P=i+"__input",F=null!==k?" "+P+"--focused":"",z=this.props.showAllValues?" "+P+"--show-all-values":" "+P+"--default",U=i+"__dropdown-arrow-down",q=-1!==k&&null!==k,V=i+"__menu",W=V+"--"+a,H=V+"--"+(A||j?"visible":"hidden"),$=i+"__option",K=i+"__hint",G=this.templateInputValue(E[S]),Y=G&&0===G.toLowerCase().indexOf(O.toLowerCase())&&I?O+G.substr(O.length):"",J=l+"__assistiveHint",Q=M?{"aria-describedby":J}:null;return h&&"string"==typeof(t=x({className:U}))&&(t=(0,o.createElement)("div",{className:i+"__dropdown-arrow-down-wrapper",dangerouslySetInnerHTML:{__html:t}})),(0,o.createElement)("div",{className:R,onKeyDown:this.handleKeyDown},(0,o.createElement)(r.default,{id:l,length:E.length,queryLength:O.length,minQueryLength:c,selectedOption:this.templateInputValue(E[S]),selectedOptionIndex:S,validChoiceMade:T,isInFocus:null!==this.state.focused,tQueryTooShort:g,tNoResults:y,tSelectedOption:v,tResults:w}),Y&&(0,o.createElement)("span",null,(0,o.createElement)("input",{className:K,readonly:!0,tabIndex:"-1",value:Y})),(0,o.createElement)("input",s({"aria-expanded":A?"true":"false","aria-activedescendant":!!q&&l+"__option--"+k,"aria-owns":l+"__listbox","aria-autocomplete":this.hasAutoselect()?"both":"list"},Q,{autoComplete:"off",className:""+P+F+z,id:l,onClick:function(t){return e.handleInputClick(t)},onBlur:this.handleInputBlur},function(t){return{onInput:t}}(this.handleInputChange),{onFocus:this.handleInputFocus,name:d,placeholder:p,ref:function(t){e.elementReferences[-1]=t},type:"text",role:"combobox",required:f,value:O})),t,(0,o.createElement)("ul",{className:V+" "+W+" "+H,onMouseLeave:function(t){return e.handleListMouseLeave(t)},id:l+"__listbox",role:"listbox"},E.map((function(t,n){var r=(-1===k?S===n:k===n)&&null===C?" "+$+"--focused":"",i=n%2?" "+$+"--odd":"",a=u()?"<span id="+l+"__option-suffix--"+n+' style="border:0;clip:rect(0 0 0 0);height:1px;marginBottom:-1px;marginRight:-1px;overflow:hidden;padding:0;position:absolute;whiteSpace:nowrap;width:1px"> '+(n+1)+" of "+E.length+"</span>":"";return(0,o.createElement)("li",{"aria-selected":k===n?"true":"false",className:""+$+r+i,dangerouslySetInnerHTML:{__html:e.templateSuggestion(t)+a},id:l+"__option--"+n,key:n,onBlur:function(t){return e.handleOptionBlur(t,n)},onClick:function(t){return e.handleOptionClick(t,n)},onMouseDown:e.handleOptionMouseDown,onMouseEnter:function(t){return e.handleOptionMouseEnter(t,n)},ref:function(t){e.elementReferences[n]=t},role:"option",tabIndex:"-1","aria-posinset":n+1,"aria-setsize":E.length})})),j&&(0,o.createElement)("li",{className:$+" "+$+"--no-results"},m())),(0,o.createElement)("span",{id:J,style:{display:"none"}},b()))},e}(o.Component);(e.default=d).defaultProps={autoselect:!1,cssNamespace:"autocomplete",defaultValue:"",displayMenu:"inline",minLength:0,name:"input-autocomplete",placeholder:"",onConfirm:function(){},confirmOnBlur:!0,showNoOptionsFound:!0,showAllValues:!1,required:!1,tNoResults:function(){return"No results found"},tAssistiveHint:function(){return"When autocomplete results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures."},dropdownArrow:i.default}},function(t,e,n){var o=n(9),r=n(53),i=n(28),a=n(26)("IE_PROTO"),s=function(){},l="prototype",c=function(){var t,e=n(15)("iframe"),o=i.length;for(e.style.display="none",n(54).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;o--;)delete c[l][i[o]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=o(t),n=new s,s[l]=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e,n){var o=n(8),r=n(9),i=n(20);t.exports=n(3)?Object.defineProperties:function(t,e){r(t);for(var n,a=i(e),s=a.length,l=0;l<s;)o.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var o=n(1).document;t.exports=o&&o.documentElement},function(t,e,n){var o=n(0);o(o.P,"Function",{bind:n(56)})},function(t,e,n){"use strict";var o=n(19),r=n(2),i=n(57),a=[].slice,s={};t.exports=Function.bind||function(t){var e=o(this),n=a.call(arguments,1),l=function(){var o=n.concat(a.call(arguments));return this instanceof l?function(t,e,n){if(!(e in s)){for(var o=[],r=0;r<e;r++)o[r]="a["+r+"]";s[e]=Function("F,a","return new F("+o.join(",")+")")}return s[e](t,n)}(e,o.length,o):i(e,o,t)};return r(e.prototype)&&(l.prototype=e.prototype),l}},function(t,e){t.exports=function(t,e,n){var o=void 0===n;switch(e.length){case 0:return o?t():t.call(n);case 1:return o?t(e[0]):t.call(n,e[0]);case 2:return o?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){n(59)("match",1,(function(t,e,n){return[function(n){"use strict";var o=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,o):new RegExp(n)[e](String(o))},n]}))},function(t,e,n){"use strict";var o=n(7),r=n(16),i=n(4),a=n(12),s=n(34);t.exports=function(t,e,n){var l=s(t),c=n(a,l,""[t]),u=c[0],d=c[1];i((function(){var e={};return e[l]=function(){return 7},7!=""[t](e)}))&&(r(String.prototype,t,u),o(RegExp.prototype,l,2==e?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)}))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0,n(36);var o=n(5),r=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).state={bump:!1,debounced:!1},e}!function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}(e,t);var n=e.prototype;return n.componentWillMount=function(){var t=this;this.debounceStatusUpdate=function(t,e,n){var o;return function(){var e=this,r=arguments,i=function(){o=null,t.apply(e,r)},a=n;clearTimeout(o),o=setTimeout(i,1400),a&&t.apply(e,r)}}((function(){if(!t.state.debounced){var e=!t.props.isInFocus||t.props.validChoiceMade;t.setState((function(t){return{bump:!t.bump,debounced:!0,silenced:e}}))}}))},n.componentWillReceiveProps=function(t){t.queryLength,this.setState({debounced:!1})},n.render=function(){var t,e=this.props,n=e.id,r=e.length,i=e.queryLength,a=e.minQueryLength,s=e.selectedOption,l=e.selectedOptionIndex,c=e.tQueryTooShort,u=e.tNoResults,d=e.tSelectedOption,p=e.tResults,f=this.state,h=f.bump,m=f.debounced,g=f.silenced,y=i<a,v=0===r,w=s?d(s,r,l):"";return t=y?c(a):v?u():p(r,w),this.debounceStatusUpdate(),(0,o.createElement)("div",{style:{border:"0",clip:"rect(0 0 0 0)",height:"1px",marginBottom:"-1px",marginRight:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},(0,o.createElement)("div",{id:n+"__status--A",role:"status","aria-atomic":"true","aria-live":"polite"},!g&&m&&h?t:""),(0,o.createElement)("div",{id:n+"__status--B",role:"status","aria-atomic":"true","aria-live":"polite"},g||!m||h?"":t))},e}(o.Component);(e.default=r).defaultProps={tQueryTooShort:function(t){return"Type in "+t+" or more characters for results"},tNoResults:function(){return"No search results"},tSelectedOption:function(t,e,n){return t+" "+(n+1)+" of "+e+" is highlighted"},tResults:function(t,e){return t+" "+(1===t?"result":"results")+" "+(1===t?"is":"are")+" available. "+e}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var o=n(5);e.default=function(t){var e=t.className;return(0,o.createElement)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:e,focusable:"false"},(0,o.createElement)("g",{stroke:"none",fill:"none","fill-rule":"evenodd"},(0,o.createElement)("polygon",{fill:"#000000",points:"0 0 22 0 11 17"})))}}]).default},t.exports=e()},337:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=r(e);n;)n=r(e=n.ownerDocument);return e}(),e=[],n=null,o=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(t,n){o=t&&n?d(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,o=null},a.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},a.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},a.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},a.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var o=this._checkForIntersections,i=null,a=null;this.POLL_INTERVAL?i=n.setInterval(o,this.POLL_INTERVAL):(s(n,"resize",o,!0),s(e,"scroll",o,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(o)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(i&&t.clearInterval(i),l(t,"resize",o,!0)),l(e,"scroll",o,!0),a&&a.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=c){var u=r(e);u&&this._monitorIntersections(u.ownerDocument)}}},a.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var o=this.root&&(this.root.ownerDocument||this.root)||t;if(!this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=o;){var i=r(n);if((n=i&&i.ownerDocument)==e)return!0}return!1}))){var i=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),i(),e!=o){var a=r(e);a&&this._unmonitorIntersections(a.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},a.prototype._checkForIntersections=function(){if(this.root||!n||o){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(o){var r=o.element,a=c(r),s=this._rootContainsTarget(r),l=o.entry,u=t&&s&&this._computeTargetAndRootIntersection(r,a,e),d=null;this._rootContainsTarget(r)?n&&!this.root||(d=e):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var p=o.entry=new i({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:a,rootBounds:d,intersectionRect:u});l?t&&s?this._hasCrossedThreshold(l,p)&&this._queuedEntries.push(p):l&&l.isIntersecting&&this._queuedEntries.push(p):this._queuedEntries.push(p)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(e,r,i){if("none"!=window.getComputedStyle(e).display){for(var a,s,l,u,p,h,m,g,y=r,v=f(e),w=!1;!w&&v;){var b=null,x=1==v.nodeType?window.getComputedStyle(v):{};if("none"==x.display)return null;if(v==this.root||9==v.nodeType)if(w=!0,v==this.root||v==t)n&&!this.root?!o||0==o.width&&0==o.height?(v=null,b=null,y=null):b=o:b=i;else{var _=f(v),k=_&&c(_),C=_&&this._computeTargetAndRootIntersection(_,k,i);k&&C?(v=_,b=d(k,C)):(v=null,y=null)}else{var A=v.ownerDocument;v!=A.body&&v!=A.documentElement&&"visible"!=x.overflow&&(b=c(v))}if(b&&(a=b,s=y,void 0,void 0,void 0,void 0,void 0,void 0,l=Math.max(a.top,s.top),u=Math.min(a.bottom,s.bottom),p=Math.max(a.left,s.left),g=u-l,y=(m=(h=Math.min(a.right,s.right))-p)>=0&&g>=0&&{top:l,bottom:u,left:p,right:h,width:m,height:g}||null),!y)break;v=v&&f(v)}return y}},a.prototype._getRootRect=function(){var e;if(this.root&&!h(this.root))e=c(this.root);else{var n=h(this.root)?this.root:t,o=n.documentElement,r=n.body;e={top:0,left:0,right:o.clientWidth||r.clientWidth,width:o.clientWidth||r.clientWidth,bottom:o.clientHeight||r.clientHeight,height:o.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var r=0;r<this.thresholds.length;r++){var i=this.thresholds[r];if(i==n||i==o||i<n!=i<o)return!0}},a.prototype._rootIsInDom=function(){return!this.root||p(t,this.root)},a.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return p(n,e)&&(!this.root||n==e.ownerDocument)},a.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},a.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=i}function r(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=u(t.rootBounds),this.boundingClientRect=u(t.boundingClientRect),this.intersectionRect=u(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,r=o.width*o.height;this.intersectionRatio=n?Number((r/n).toFixed(4)):this.isIntersecting?1:0}function a(t,e){var n,o,r,i=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType&&9!=i.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),o))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function l(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function c(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function d(t,e){var n=e.top-t.top,o=e.left-t.left;return{top:n,left:o,height:e.height,width:e.width,bottom:n+e.height,right:o+e.width}}function p(t,e){for(var n=e;n;){if(n==t)return!0;n=f(n)}return!1}function f(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?r(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function h(t){return t&&9===t.nodeType}}()},296:function(t,e,n){var o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,p=Math.max,f=Math.min,h=function(){return u.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==d.call(t)}(t))return NaN;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=i.test(t);return n||a.test(t)?s(t.slice(2),n?2:8):r.test(t)?NaN:+t}t.exports=function(t,e,n){var o,r,i,a,s,l,c=0,u=!1,d=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=o,i=r;return o=r=void 0,c=e,a=t.apply(i,n)}function w(t){return c=t,s=setTimeout(x,e),u?v(t):a}function b(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-c>=i}function x(){var t=h();if(b(t))return _(t);s=setTimeout(x,function(t){var n=e-(t-l);return d?f(n,i-(t-c)):n}(t))}function _(t){return s=void 0,y&&o?v(t):(o=r=void 0,a)}function k(){var t=h(),n=b(t);if(o=arguments,r=this,l=t,n){if(void 0===s)return w(l);if(d)return s=setTimeout(x,e),v(l)}return void 0===s&&(s=setTimeout(x,e)),a}return e=g(e)||0,m(n)&&(u=!!n.leading,i=(d="maxWait"in n)?p(g(n.maxWait)||0,e):i,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==s&&clearTimeout(s),c=0,o=l=r=s=void 0},k.flush=function(){return void 0===s?a:_(h())},k}},99:function(t){t.exports=function(){"use strict";function t(t){return"scrollama__debug-offset--"+t}function e(e){!function(e){var n=e.id,o=e.offsetVal,r=e.stepClass,i=document.createElement("div");i.id=t(n),i.className="scrollama__debug-offset",i.style.position="fixed",i.style.left="0",i.style.width="100%",i.style.height="0",i.style.borderTop="2px dashed black",i.style.zIndex="9999";var a=document.createElement("p");a.innerHTML='".'+r+'" trigger: <span>'+o+"</span>",a.style.fontSize="12px",a.style.fontFamily="monospace",a.style.color="black",a.style.margin="0",a.style.padding="6px",i.appendChild(a),document.body.appendChild(i)}({id:e.id,offsetVal:e.offsetVal,stepClass:e.stepEl[0].className})}function n(t){var e=t.id,n=t.index,o=t.state,r="scrollama__debug-step--"+e+"-"+n,i=document.getElementById(r+"_above"),a=document.getElementById(r+"_below"),s="enter"===o?"block":"none";i&&(i.style.display=s),a&&(a.style.display=s)}return function(){var o=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"],r={},i={},a=null,s=[],l=[],c=[],u=[],d=0,p=0,f=0,h=0,m=0,g=0,y=!1,v=!1,w=!1,b=!1,x=!1,_=!1,k="down",C="percent",A=[];function E(t){console.error("scrollama error: "+t)}function O(){r={stepEnter:function(){},stepExit:function(){},stepProgress:function(){}},i={}}function S(t){return t.getBoundingClientRect().top+window.pageYOffset-(document.body.clientTop||0)}function M(t){return+t.getAttribute("data-scrollama-index")}function T(){window.pageYOffset>m?k="down":window.pageYOffset<m&&(k="up"),m=window.pageYOffset}function I(t){i[t]&&i[t].forEach((function(t){return t.disconnect()}))}function D(){var e,n;f=window.innerHeight,e=document.body,n=document.documentElement,h=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),p=d*("pixels"===C?1:f),y&&(l=s.map((function(t){return t.getBoundingClientRect().height})),c=s.map(S),v&&W()),w&&function(e){var n=e.id,o=e.offsetMargin,r=e.offsetVal,i="pixels"===e.format?"px":"",a=t(n),s=document.getElementById(a);s.style.top=o+"px",s.querySelector("span").innerText=""+r+i}({id:a,offsetMargin:p,offsetVal:d,format:C})}function B(t){if(t&&!v){if(!y)return E("scrollama error: enable() called before scroller was ready"),void(v=!1);W()}!t&&v&&o.forEach(I),v=t}function L(t,e){var n=M(t);void 0!==e&&(u[n].progress=e);var o={element:t,index:n,progress:u[n].progress};"enter"===u[n].state&&r.stepProgress(o)}function N(t,e){if("above"===e)for(var n=0;n<t;n+=1){var o=u[n];"enter"!==o.state&&"down"!==o.direction?(j(s[n],"down",!1),R(s[n],"down")):"enter"===o.state&&R(s[n],"down")}else if("below"===e)for(var r=u.length-1;r>t;r-=1){var i=u[r];"enter"===i.state&&R(s[r],"up"),"down"===i.direction&&(j(s[r],"up",!1),R(s[r],"up"))}}function j(t,e,o){void 0===o&&(o=!0);var i=M(t),s={element:t,index:i,direction:e};u[i].direction=e,u[i].state="enter",x&&o&&"down"===e&&N(i,"above"),x&&o&&"up"===e&&N(i,"below"),r.stepEnter&&!A[i]&&(r.stepEnter(s,u),w&&n({id:a,index:i,state:"enter"}),_&&(A[i]=!0)),b&&L(t)}function R(t,e){var o=M(t),i={element:t,index:o,direction:e};b&&("down"===e&&u[o].progress<1?L(t,1):"up"===e&&u[o].progress>0&&L(t,0)),u[o].direction=e,u[o].state="exit",r.stepExit(i,u),w&&n({id:a,index:o,state:"exit"})}function P(t){var e=t[0];T();var n=e.isIntersecting,o=e.boundingClientRect,r=e.target,i=o.top,a=o.bottom,s=i-p,l=a-p,c=M(r),d=u[c];n&&s<=0&&l>=0&&"down"===k&&"enter"!==d.state&&j(r,k),!n&&s>0&&"up"===k&&"enter"===d.state&&R(r,k)}function F(t){var e=t[0];T();var n=e.isIntersecting,o=e.boundingClientRect,r=e.target,i=o.top,a=o.bottom,s=i-p,l=a-p,c=M(r),d=u[c];n&&s<=0&&l>=0&&"up"===k&&"enter"!==d.state&&j(r,k),!n&&l<0&&"down"===k&&"enter"===d.state&&R(r,k)}function z(t){var e=t[0];T();var n=e.isIntersecting,o=e.target,r=M(o),i=u[r];n&&"down"===k&&"down"!==i.direction&&"enter"!==i.state&&(j(o,"down"),R(o,"down"))}function U(t){var e=t[0];T();var n=e.isIntersecting,o=e.target,r=M(o),i=u[r];n&&"up"===k&&"down"===i.direction&&"enter"!==i.state&&(j(o,"up"),R(o,"up"))}function q(t){var e=t[0];T();var n=e.isIntersecting,o=e.intersectionRatio,r=e.boundingClientRect,i=e.target,a=r.bottom;n&&a-p>=0&&L(i,+o)}function V(){i.stepProgress=s.map((function(t,e){var n=l[e]-p+"px 0px "+(-f+p)+"px 0px",o=function(t){for(var e=Math.ceil(t/g),n=[],o=1/e,r=0;r<e;r+=1)n.push(r*o);return n}(l[e]),r=new IntersectionObserver(q,{rootMargin:n,threshold:o});return r.observe(t),r}))}function W(){o.forEach(I),i.viewportAbove=s.map((function(t,e){var n=h-c[e],o=p-f-l[e],r=new IntersectionObserver(z,{rootMargin:n+"px 0px "+o+"px 0px"});return r.observe(t),r})),i.viewportBelow=s.map((function(t,e){var n=-p-l[e],o=p-f+l[e]+h,r=new IntersectionObserver(U,{rootMargin:n+"px 0px "+o+"px 0px"});return r.observe(t),r})),i.stepAbove=s.map((function(t,e){var n=-p+l[e],o=new IntersectionObserver(P,{rootMargin:n+"px 0px "+(p-f)+"px 0px"});return o.observe(t),o})),i.stepBelow=s.map((function(t,e){var n=-p,o=p-f+l[e],r=new IntersectionObserver(F,{rootMargin:n+"px 0px "+o+"px 0px"});return r.observe(t),r})),b&&V()}function H(t){return!(!t||1!==t.nodeType)&&(function(t){var e=window.getComputedStyle(t);return("scroll"===e.overflowY||"auto"===e.overflowY)&&t.scrollHeight>t.clientHeight}(t)?t:H(t.parentNode))}var $={setup:function(t){var n=t.step,o=t.parent,r=t.offset;void 0===r&&(r=.5);var i=t.progress;void 0===i&&(i=!1);var l=t.threshold;void 0===l&&(l=4);var c=t.debug;void 0===c&&(c=!1);var p=t.order;void 0===p&&(p=!0);var f,h,m,v=t.once;if(void 0===v&&(v=!1),O(),h=(f="abcdefghijklmnopqrstuv").length,m=Date.now(),a=""+[0,0,0].map((function(t){return f[Math.floor(Math.random()*h)]})).join("")+m,!(s=function(t,e){return void 0===e&&(e=document),"string"==typeof t?Array.from(e.querySelectorAll(t)):t instanceof Element?[t]:t instanceof NodeList?Array.from(t):t instanceof Array?t:[]}(n,o)).length)return E("no step elements"),$;var k=s.reduce((function(t,e){return t||H(e.parentNode)}),!1);return k&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",k),w=c,b=i,x=p,_=v,$.offsetTrigger(r),g=Math.max(1,+l),y=!0,w&&e({id:a,stepEl:s,offsetVal:d}),s.forEach((function(t,e){return t.setAttribute("data-scrollama-index",e)})),u=s.map((function(){return{direction:null,state:null,progress:0}})),D(),$.enable(),$},resize:function(){return D(),$},enable:function(){return B(!0),$},disable:function(){return B(!1),$},destroy:function(){B(!1),O()},offsetTrigger:function(t){if(null===t)return d;if("number"==typeof t)C="percent",t>1&&E("offset value is greater than 1. Fallback to 1."),t<0&&E("offset value is lower than 0. Fallback to 0."),d=Math.min(Math.max(0,t),1);else if("string"==typeof t&&t.indexOf("px")>0){var e=+t.replace("px","");isNaN(e)?(E("offset value must be in 'px' format. Fallback to 0.5."),d=.5):(C="pixels",d=e)}else E("offset value does not include 'px'. Fallback to 0.5."),d=.5;return $},onStepEnter:function(t){return"function"==typeof t?r.stepEnter=t:E("onStepEnter requires a function"),$},onStepExit:function(t){return"function"==typeof t?r.stepExit=t:E("onStepExit requires a function"),$},onStepProgress:function(t){return"function"==typeof t?r.stepProgress=t:E("onStepProgress requires a function"),$}};return $}}()},620:function(){d3.selection.prototype.puddingBubble=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,o=null,r=null,i=null,a=null,s=null,l=null,c=null,u=null,d=null,p=d3.select("#countrydropdown"),f=d3.select("#pubdropdown"),h=d3.selectAll(".tooltip"),m=e.datum(),g=m[0],y=m[1],v=m[2],w=null,b=null;g=g.filter((t=>0!=+t.monthly_visits&0!=+t[v]&"msn.com"!==t.site&"sports.yahoo.com"!==t.site&"finance.yahoo.com"!==t.site&"news.google.com"!==t.site&"news.yahoo.com"!==t.site&"bbc.com"!==t.site&"makeuseof.com"!==t.site&"which.co.uk"!==t.site&"espncricinfo.com"!==t.site&"seekingalpha.com"!==t.site&"prokerala.com"!==t.site)),w=g.map((t=>"polarity"===v?{site:t.site,polarity:t[v],monthly_visits:t.monthly_visits,country_of_pub:t.country_of_pub}:{site:t.site,bias:t[v],monthly_visits:t.monthly_visits,country_of_pub:t.country_of_pub})),console.log(w);const x=[{site:"nytimes.com",link:"https://www.vectorlogo.zone/logos/nytimes/nytimes-icon.svg"},{site:"dailymail.co.uk",link:"https://seeklogo.com/images/D/Daily_Mail-logo-EBD7A83A1F-seeklogo.com.png"},{site:"cnn.com",link:"https://www.vectorlogo.zone/logos/cnn/cnn-icon.svg"},{site:"bbc.co.uk",link:"https://www.vectorlogo.zone/logos/bbc/bbc-icon.svg"},{site:"telegraph.co.uk",link:"https://upload.wikimedia.org/wikipedia/commons/4/48/The_Telegraph_logo.svg"},{site:"washingtonpost.com",link:"https://www.vectorlogo.zone/logos/washingtonpost/washingtonpost-icon.svg"},{site:"forbes.com",link:"https://www.vectorlogo.zone/logos/forbes/forbes-icon.svg"},{site:"abcnews.go.com",link:"https://www.vectorlogo.zone/logos/abcgo/abcgo-icon.svg"},{site:"foxnews.com",link:"https://www.vectorlogo.zone/logos/fox/fox-icon.svg"},{site:"ksl.com",link:"https://logodix.com/logo/2090138.png"},{site:"bloomberg.com",link:"https://www.vectorlogo.zone/logos/bloomberg/bloomberg-icon.svg"},{site:"breitbart.com",link:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Breitbart_News.svg/1280px-Breitbart_News.svg.png"},{site:"popsugar.com",link:"https://all-4-one.com/wp-content/uploads/2015/07/PopSugar-Logo-logo.png"},{site:"nbcnews.com",link:"https://www.vectorlogo.zone/logos/nbc/nbc-icon.svg"},{site:"buzzfeed.com",link:"https://www.vectorlogo.zone/logos/buzzfeed/buzzfeed-icon.svg"},{site:"cnet.com",link:"https://www.vectorlogo.zone/logos/cnet/cnet-icon.svg"},{site:"politico.com",link:"https://www.vectorlogo.zone/logos/politico/politico-icon.svg"},{site:"usatoday.com",link:"https://www.vectorlogo.zone/logos/usatoday/usatoday-icon.svg"},{site:"nydailynews.com",link:"https://cdn6.myket.ir/icons/large/b0f31373-17ec-46d5-b6ef-66135cc1b242_.png"},{site:"businessinsider.com",link:"https://i.insider.com/596e4e7a552be51d008b50fd?width=600&format=jpeg"},{site:"aajtak.in",link:"https://static.wikia.nocookie.net/logopedia/images/d/db/Aaj_tak.png"},{site:"espn.go.com",link:"https://cdn.worldvectorlogo.com/logos/espn.svg"},{site:"huffingtonpost.com",link:"https://www.vectorlogo.zone/logos/huffingtonpost/huffingtonpost-icon.svg"}];let _=0,k=0;let C=null,A=d3.extent(w,(t=>+t.monthly_visits)),E=d3.scaleSqrt().domain(A),O=d3.scaleLinear().domain(A),S=null,M=null;function T(t,e,n){const o=d3.select(e),r=d3.map(t,(t=>t[n])).filter(D);"country_of_pub"===n?r.unshift("Country"):r.unshift("Newsroom"),o.selectAll("option").data(r).join("option").attr("value",(t=>"Country"===t||"Newsroom"===t?"":t)).text((t=>t))}function I(){const t=d3.select(this).property("value"),e=d3.select(this).property("id");let n=d3.selectAll(".forceCircles"),o=d3.selectAll(".forceLogos");"countrydropdown"===e&&(f.node().options[0].selected=!0,n.style("fill",(e=>e.country_of_pub.toLowerCase()===t.toLowerCase()?"#F7DC5B":"#FEFAF1")),n.style("opacity",(e=>e.country_of_pub.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2")),o.style("opacity",(e=>e.country_of_pub.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2"))),"pubdropdown"===e&&(p.node().options[0].selected=!0,n.style("fill",(e=>e.site.toLowerCase()===t.toLowerCase()?"#F7DC5B":"#FEFAF1")),n.style("opacity",(e=>e.site.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2")),o.style("opacity",(e=>e.site.toLowerCase()===t.toLowerCase()||""===t?"1":"0.2")))}function D(t,e,n){return n.indexOf(t)===e}function B(){let[t,e]=d3.pointer(event),n=t>window.innerWidth/2?h.node().offsetWidth+-50:50,o=d3.select(this).attr("id");o=o.split("-"),o=o[0],d3.select(this).style("stroke-width",3).style("stroke","#E75C33");let r=y.filter((t=>t.site===o)),i=Math.floor(Math.random()*r.length);h.classed("is-visible",!0),_>=600?h.style("top",e+"px").style("left",t-n+"px").style("bottom","auto"):h.style("bottom","0px").style("left","0px").style("top","auto"),h.html(`<p class="tt-date">${d3.timeFormat("%b %Y")(new Date(r[i].time))} | ${r[i].site}</p>\n                      <p class="tt-hed">${r[i].headline_no_site}</p>`)}function L(){h.classed("is-visible",!1);let t=d3.selectAll(".forceCircles");t.style("stroke-width","1"),t.style("stroke","#282828")}function N(t,e){t.each((function(){for(var t,n=d3.select(this),o=n.text().split(/\s+/).reverse(),r=[],i=0,a=n.attr("x"),s=n.attr("y"),l=n.text(null).append("tspan").attr("x",a).attr("y",s).attr("dy","0em");t=o.pop();)r.push(t),l.text(r.join(" ")),l.node().getComputedTextLength()>e&&(r.pop(),l.text(r.join(" ")),r=[t],l=n.append("tspan").attr("x",a).attr("y",s).attr("dy",1.1*++i+0+"em").text(t))}))}const j={init(){n=e.append("svg").attr("class","pudding-chart"),o=n.append("g").attr("class","g-axis"),c=n.append("g").attr("class","g-legend"),u=c.append("g"),r=n.append("g").attr("class","g-vis"),j.resize(),j.render()},resize:()=>(_=e.node().offsetWidth-50-30,k=e.node().offsetHeight-110-20,E.range([3,_/15]),O.range([18,_/15]),M=d3.max(w,(t=>+t.monthly_visits)),M=E(M),n.attr("width",_+50+30).attr("height",k+110+20),r.attr("width",_+50+30).attr("height",k+110+20),C=d3.scaleSymlog().range([130,_-M]).domain("polarity"===v?[0,d3.max(w,(t=>+t[v]))]:d3.extent(w,(t=>+t[v]))),b=[{level:"",radius:E(1e7),y:k+75,x:_/2.2,anchor:"end",xtext:_/2.235,ytext:k+53,id:""},{level:"",radius:E(1e8),y:k+75,x:_/2.05,id:""},{level:"1B Monthly Viewers",radius:E(1e9),y:k+75,x:_/1.85,anchor:"middle",xtext:_/1.85,ytext:k+_/6.5,id:""}],c.attr("transform",`translate(-${_/2-25-M/2}, -${k})`),u.selectAll("circle").data(b).join("circle").attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).attr("r",(t=>t.radius)).attr("class","legendBubble"),d=c.selectAll("text").data(b).join("text").text((t=>t.level)).attr("x",(t=>t.xtext)).attr("y",(t=>t.ytext)).attr("class","themesText").style("text-anchor",(t=>t.anchor)).call(N,10),S=d3.forceSimulation().nodes(w).force("charge",d3.forceManyBody().strength(1)).force("x",d3.forceX().x((function(t){return C(+t[v])}))).force("y",d3.forceY(k/2)).force("collide",d3.forceCollide((t=>E(+t.monthly_visits)))).alphaDecay(.05).on("tick",(function(){i=r.selectAll("circle").data(w),a=r.selectAll("image").data(w),s=i.join("circle").attr("class","forceCircles").attr("id",(t=>`${t.site}-circle`)).style("opacity","1").attr("r",(t=>E(+t.monthly_visits))).attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).on("mouseenter",B).on("mouseleave",L),l=a.join("svg:image").attr("class","forceLogo").attr("transform",(t=>"bbc.co.uk"==t.site?"translate(-50,-50)":"cnn.com"==t.site|"foxnews.com"==t.site?"translate(-30,-30)":"espn.go.com"==t.site?"translate(-34,-10)":"nytimes.com"==t.site|"buzzfeed.com"==t.site?"translate(-25,-25)":"washingtonpost.com"==t.site|"huffingtonpost.com"==t.site|"usatoday.com"==t.site?"translate(-20,-20)":"dailymail.co.uk"==t.site?"translate(-22,-18)":"politico.com"==t.site|"ksl.com"==t.site|"abcnews.go.com"==t.site|"nydailynews.com"==t.site?"translate(-12.5,-12.5)":"telegraph.co.uk"==t.site?"translate(-15,-3)":"breitbart.com"==t.site?"translate(-14,-10)":"aajtak.in"==t.site?"translate(-25,-20)":"businessinsider.com"==t.site?"translate(-14,-13)":"translate(-15,-15)")).attr("width",(t=>O(+t.monthly_visits))).attr("xlink:href",(t=>+t.monthly_visits>15e7?x.filter((e=>e.site==t.site))[0].link:"")).attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y}))})),j),render:()=>(r.attr("transform","translate(50, 110)"),T(g,"#countrydropdown","country_of_pub"),T(g,"#pubdropdown","site"),p.on("change",I),f.on("change",I),j),data(t){return arguments.length?(m=t,e.datum(m),j):m}};return j.init(),j}));return e.length>1?e:e.pop()}},76:function(){d3.selection.prototype.puddingLollipop=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,o=null,r=null,i=null,a=null,s=null,l=null,c=null,u=null,d=d3.select("#sortLollipopDiff"),p=d3.select("#sortLollipopPol"),f=e.datum();f=f.filter((t=>1==t.popularity&&Math.abs(t.difference)>.05&&"dailysun.co.za"!==t.site_clean&&"msnbc"!==t.site_clean)),f=f.sort(((t,e)=>d3.descending(+t.polarity_women,+e.polarity_women)));let h=d3.max(f,(t=>t.polarity_women)),m=d3.min(f,(t=>t.polarity_women)),g=0,y=0,v=null,w=null,b=null,x=null,_=null;function k(){const t="sortLollipopDiff"===this.id?"difference":"polarity_women",e=f.sort(((e,n)=>d3.descending(+e[t],+n[t])));d3.selectAll(".lollipopTextbutton-active").classed("lollipopTextbutton-active",!1).classed("lollipopTextbutton",!0),d3.select(this).classed("lollipopTextbutton-active",!0),b.domain(e.map((t=>t.site_clean))),o.select(".polarityCompyAxis").transition().duration("1000").call(d3.axisLeft(b).tickSize(0)),r.selectAll(".polarityCompBubble").sort(((e,n)=>void 0!==e?d3.ascending(+e[t],+n[t]):"")).transition().duration("1000").attr("cy",((t,e)=>void 0!==t?b(t.site_clean):"-60")),r.selectAll(".polarityDiffAnnotation").sort(((e,n)=>d3.ascending(+e[t],+n[t]))).transition().duration("1000").attr("y",((t,e)=>b(t.site_clean))),r.selectAll(".polarityCompBubbleLine").sort(((e,n)=>d3.ascending(+e[t],+n[t]))).transition().duration("1000").attr("x1",((t,e)=>w(t.polarity_base))).attr("x2",((t,e)=>w(t.polarity_women))).attr("y1",((t,e)=>b(t.site_clean))).attr("y2",((t,e)=>b(t.site_clean)))}const C={init(){n=e.append("svg").attr("class","pudding-chart"),o=n.append("g").attr("class","g-axis"),x=o.append("g").attr("class","polarityCompxAxis"),_=o.append("g").attr("class","polarityCompyAxis"),w=d3.scaleLinear().domain([m,h]),r=n.append("g").attr("class","g-vis"),i=r.selectAll("gridline").data(f).join("line").attr("class","grid"),a=r.selectAll("myline").data(f).join("line").attr("class","polarityCompBubbleLine").attr("stroke","black").attr("stroke-width","2.5px"),s=r.selectAll("mycircle").data(f).join("circle").attr("r","4").attr("class","polarityCompBubble polarityCompBubbleLeft"),l=r.selectAll("mycircle").data(f).join("circle").attr("class","polarityCompBubble polarityCompBubbleRight").attr("r","11"),c=r.selectAll("mycircle").data(f).join("text").attr("class","polarityDiffAnnotation").text((t=>(t.polarity_women-t.polarity_base)/t.polarity_base*100>0?"+"+Math.round((t.polarity_women-t.polarity_base)/t.polarity_base*100)+"%":Math.round((t.polarity_women-t.polarity_base)/t.polarity_base*100)+"%")),u=r.append("line").attr("stroke","black").attr("stroke-width","2.5px"),p.attr("class","lollipopTextbutton-active"),C.resize(),C.render()},resize:()=>(g=e.node().offsetWidth,g>=600?(v=160,r.attr("transform",`translate(${v}, 0)`),d3.selectAll(".polarityCompyAxis .tick text").attr("transform","translate(0,0)").style("text-anchor","end"),i.attr("x1",10)):(v=40,r.attr("transform",`translate(${v}, 0)`),d3.selectAll(".polarityCompyAxis .tick text").attr("transform","translate(3,-25)").style("text-anchor","start"),i.attr("x1",0)),g=e.node().offsetWidth-v-50,y=1700,n.attr("width",g+v+50).attr("height",y+0+0),x.attr("transform","translate(0,"+y+")").call(d3.axisBottom(w)),b=d3.scaleBand().range([0,y]).domain(f.map((t=>t.site_clean))).padding(1),_.attr("transform",`translate(${v},0)`).call(d3.axisLeft(b).tickSize(0)),w.range([v+50,g]),i.attr("x2",g).attr("y1",(function(t){return b(t.site_clean)})).attr("y2",(function(t){return b(t.site_clean)})),a.attr("x1",(function(t){return w(t.polarity_base)})).attr("x2",(function(t){return w(t.polarity_women)})).attr("y1",(function(t){return b(t.site_clean)})).attr("y2",(function(t){return b(t.site_clean)})),s.attr("cx",(function(t){return w(t.polarity_base)})).attr("cy",(function(t){return b(t.site_clean)})),l.attr("cx",(function(t){return w(t.polarity_women)})).attr("cy",(function(t){return b(t.site_clean)})),c.attr("x",(t=>w(t.polarity_women)-8)).attr("y",(t=>b(t.site_clean)+6)),C),render:()=>(d.on("click",k),p.on("click",k),C),data(t){return arguments.length?(f=t,e.datum(f),C):f}};return C.init(),C}));return e.length>1?e:e.pop()}},835:function(){d3.selection.prototype.puddingTemporalLine=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,o=null,r=null,i=null,a=null,s=null,l=null,c=null,u=null,d=null,p=d3.selectAll(".tooltip"),f=d3.cross(d3.range(200),d3.range(1),((t,e)=>({row:t,col:e}))),h=e.datum(),m=h[0],g=h[1],y=h[2],v=h[3],w=null,b=m.filter((t=>t.year>g[0]&&t.year<g[1]&&t.country===y));b=b.map((t=>({year:t.year,frequency:t[v],word:t.word,word_type:t.word_type})));let x,_,k,C,A,E=d3.rollup(b,(t=>t.map((({year:t,frequency:e})=>({date:new Date(t,0,1),frequency:e})))),(t=>t.word)),O=d3.zip(Array.from(E),f).map((([[t,e],{row:n,col:o}])=>({word:t,rates:e,row:n,col:o}))),S=O[0].rates[0].date,M=O[0].rates[O[0].rates.length-1].date,T=(new Date(2010,0).getTime(),new Date(2021,0).getTime(),[{uid:1,name:"Horrifying gang rape and murder in New Delhi, India",category:4,date:new Date(2012,11,16)},{uid:1,name:"The U.S. military removes a ban against women serving in combat positions",category:4,date:new Date(2013,1,24)},{uid:1,name:"A new Pentagon report found a 50% increase in sexual assault reports in 2013",category:4,date:new Date(2014,5,1)},{uid:1,name:"Caitlyn Jenner comes out in an interview",category:4,date:new Date(2015,4,24)},{uid:1,name:"A survey for the Department of Defense finds that in the past year 52% of active service members who reported sexual assault had experienced retaliation in the form of professional, social, and administrative actions or punishments.",category:4,date:new Date(2015,4,18)},{uid:2,name:"People v. Turner: Brock Turner is arrested for sexually assaulting an unconscious woman",category:4,date:new Date(2015,1,18)},{uid:1,name:"#EndRapeCulture in South Africa",category:4,date:new Date(2016,4,0)},{uid:2,name:"Hillary Clinton becomes the first woman to receive a presidential nomination from a major political party",category:4,date:new Date(2016,7,26)},{uid:3,name:"Trump: âGrab âem by the pussyâ",category:4,date:new Date(2016,10,8)},{uid:4,name:"People v. Turner: Brock Turner is convicted for three counts of felony sexual assault",category:4,date:new Date(2016,3,30)},{uid:5,name:"People v. Turner: Brock Turner is released after spending 3 months in jail",category:4,date:new Date(2016,9,2)},{uid:1,name:"#MeToo in U.S.A.",category:4,date:new Date(2017,10,15)},{uid:2,name:"Harvey Weinstein Trial",category:4,date:new Date(2017,10,0)},{uid:3,name:"#ChurchToo in U.S.A.",category:4,date:new Date(2017,11,0)},{uid:4,name:"#MeTooSTEM and removal of Francisco J. Ayala from UC Irvine",category:4,date:new Date(2017,11,0)},{uid:5,name:"Release of Wonder Woman",category:4,date:new Date(2017,5,15)},{uid:6,name:"Larry Nassar U.S. Gymnastics doctor sexual assault scandal",category:4,date:new Date(2017,12,0)},{uid:7,name:"Jessie Reyez releases âGatekeeperâ",category:4,date:new Date(2017,4,26)},{uid:8,name:"The 2017 Westminster sexual scandals in the U.K. and resignation of Sir Michael Fallon",category:4,date:new Date(2017,11,0)},{uid:1,name:"Meghan Markleâs wedding to Prince Harry in U.K.",category:4,date:new Date(2018,5,19)},{uid:2,name:"MEE TOO bill in U.S. Congress",category:4,date:new Date(2018,1,18)},{uid:3,name:"Priyanka Chopra marries Nick Jonas in India",category:4,date:new Date(2018,12,1)},{uid:4,name:"People v. Turner: Brock Turner is convicted by jury trial of three counts of felony sexual assault",category:4,date:new Date(2018,1,0)},{uid:5,name:"Googleâs Andy Rubin sexual misconduct scandal",category:4,date:new Date(2018,10,25)},{uid:6,name:"Global Womenâs March",category:4,date:new Date(2018,1,20)},{uid:7,name:"#MeTooMilitary in U.S.A",category:4,date:new Date(2018,1,0)},{uid:8,name:"#MeToo in India",category:4,date:new Date(2018,10,0)},{uid:9,name:"Mass sexual assaults during the 2018 new year's celebrations in Bangalore",category:4,date:new Date(2018,12,0)},{uid:10,name:"Indian actress Tanushree Dutta accuses Nana Patekar of sexual harassment",category:4,date:new Date(2018,9,27)},{uid:11,name:"Indian minister of state for External Affairs, MJ Akbar is accused of sexual harassment by several female colleagues through the 'Me Too' Movement in India",category:4,date:new Date(2018,10,0)},{uid:12,name:"Indian music director Anu Malik is suspended from the jury panel of Indian Idol 2018, after facing multiple allegations of sexual harassment",category:4,date:new Date(2018,10,21)},{uid:13,name:"Marriage of Prince Harry and Meghan Markle",category:4,date:new Date(2018,5,19)},{uid:1,name:"Greta Thunberg: Climate Action Summit and sail to NYC",category:4,date:new Date(2019,8,28)},{uid:2,name:"Release of âSurviving R. Kellyâ documentary",category:4,date:new Date(2019,1,0)},{uid:3,name:"Arrest of R. Kelly for 10 counts of sexual abuse against four women",category:4,date:new Date(2019,2,0)},{uid:1,name:"#SayHerName: Murder of Breonna Taylor",category:4,date:new Date(2020,3,0)},{uid:2,name:"International Womenâs Cricket T20",category:4,date:new Date(2020,2,0)},{uid:3,name:"Rape and murder of Vanessa GuillÃ©n in U.S. military",category:4,date:new Date(2020,4,22)},{uid:1,name:"16 year old Ma'Khia Bryant is fatally shot by police officer Nicholas Reardon in Columbus, Ohio",category:4,date:new Date(2021,4,20)},{uid:2,name:"Kamala Harris is sworn in as the first woman and first woman of color vice president of the United States",category:4,date:new Date(2021,1,20)},{uid:3,name:"Oprah with Meghan and Harry and âMegxitâ",category:4,date:new Date(2021,3,7)},{uid:3,name:"Indian Prime Minister, Narendra Modi, follows trolls on twitterâ",category:4,date:new Date(2017,8,8)},{uid:3,name:"Study finds that Indian women politicians face more trolling than US, UK counterparts",category:4,date:new Date(2021,0,24)},{uid:3,name:"40% Indian women fear online trolls as they access Internet: Nielson report",category:4,date:new Date(2019,11,17)},{uid:3,name:"Indian central government passes the Citizenship Amendment Act, by providing a pathway to Indian citizenship for persecuted religious minorities from Afghanistan, Bangladesh and Pakistan who are Hindus, Sikhs, Buddhists, Jains, Parsis or Christians, and arrived in India before the end of December 2014",category:4,date:new Date(2019,11,12)},{uid:3,name:"India saw, for the first time, a sustained countrywide movement led by Women against the CAA-NRC bills",category:4,date:new Date(2020,0,13)},{uid:3,name:"defamation case filed by former Union minister M J Akbar's against journalist Priya Ramani who had accused him of sexual harassment",category:4,date:new Date(2021,4,5)},{uid:3,name:"A majority judgement which declared the prohibition of entry of women aged between 10 and 50 into Sabarimala temple, as unconstitutional and discriminatory",category:4,date:new Date(2018,8,28)},{uid:3,name:"A Supreme Court Bench declared muslim instantaneous divorce, triple Talaq, as unconstitutional",category:4,date:new Date(2019,6,31)},{uid:3,name:"Indian court grants bail to Nupur Talwar, a dentist accused in the twin murder of her daughter and domestic help",category:4,date:new Date(2019,6,31)},{uid:3,name:"Kanimozhi Karunanidhi, Member of Parliament, accused in 2G scam, refused bail",category:4,date:new Date(2011,4,11)},{uid:3,name:"Accused who set fire to the rape survivor from Unnao, Uttar Pradesh, India, out on bail",category:4,date:new Date(2019,11,5)},{uid:3,name:"Multiple women enter inner sanctum of temples across the country, after protest",category:4,date:new Date(2016,2,3)},{uid:3,name:"Section 377: Supreme Court legalizes consensual sexual conduct between adults of the same sex",category:4,date:new Date(2018,8,6)},{uid:3,name:"Womenâs Cricket World Cup 2017",category:4,date:new Date(2017,5,23)},{uid:3,name:"The Marikana massacre was the killing of 34 miners by the South African Police Service (SAPS). It took place on 16 August 2012, and was the most lethal use of force by South African security forces against civilians since 1976.",category:4,date:new Date(2012,7,16)},{uid:3,name:"On 11 April 2015, several South Africans attacked foreigners in a xenophobic attack in Durban, South Africa, which extended to some parts of Johannesburg. Several people, both foreign and South African alike, were killed with some of the killings captured on camera.",category:4,date:new Date(2015,3,11)},{uid:3,name:"Brutal gang rape and subsequent death of South African teenager",category:4,date:new Date(2013,1,2)},{uid:3,name:"Monica Lewinsky breaks decade-long media silence",category:4,date:new Date(2014,4,6)}]),I=0,D=0;let B=null,L=null,N=null,j=null;function R(t,e){c.attr("opacity",.25),l.attr("opacity",.4),d3.selectAll(".wordText").attr("opacity",.25),d3.select("#area"+e.word).attr("opacity",.85),d3.select("#line"+e.word).attr("opacity",1),d3.select("#text"+e.word).attr("opacity",1)}function P(){c.attr("opacity",.5),l.attr("opacity",1),d3.selectAll(".wordText").attr("opacity",1)}const F={init(){n=e.append("svg").attr("class","pudding-chart");let t=n.append("defs").append("linearGradient").attr("id","linear-gradient");t.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),t.append("stop").attr("offset","0%").attr("stop-color","#3569DC"),t.append("stop").attr("offset","90%").attr("stop-color","#FEFAF1"),t.append("stop").attr("offset","100%").attr("stop-color","#FEFAF1"),o=n.append("g").attr("class","g-axis"),i=d3.scaleBand().domain(d3.range(200)).paddingInner(-1),a=d3.scaleBand().domain(d3.range(1)).paddingInner(.2),r=n.append("g").attr("class","g-vis"),s=r.append("g").selectAll("g").data(O).join("g").attr("class","cell").on("mouseover",((t,e)=>R(0,e))).on("mouseleave",((t,e)=>P())),c=s.append("path").attr("fill","url(#linear-gradient)").attr("opacity",.5).attr("class","wordArea").attr("id",(t=>"area"+t.word)).on("mouseover",((t,e)=>R(0,e))).on("mouseleave",((t,e)=>P())),l=s.append("path").style("stroke","url(#linear-gradient)").attr("stroke-width",1).attr("fill","none").attr("class",(t=>"wordLine"+t.theme)).attr("id",(t=>`line-${t.word}`)).on("mouseover",((t,e)=>R(0,e))).on("mouseleave",((t,e)=>P())),d=r.append("rect").attr("class","timeRuler"),j=d3.select("div#stickyXaxis").append("svg").attr("class","stickyAxis"),N=j.append("g"),u=j.append("g"),F.resize(),F.render()},resize:()=>(I=e.node().offsetWidth-80-0,D=4*(e.node().offsetHeight-150-20),n.attr("width",I+80+0).attr("height",D+150+20),i.range([0,D]),a.range([0,I]),B=d3.scaleTime().domain([S,M]).range([0,a.bandwidth()]),xaxis=d3.axisBottom(B).ticks(10).tickSizeOuter(0).tickSizeInner(0).tickPadding(30).tickFormat(((t,e)=>0==e||3==e||6==e||9==e||11==e?d3.timeFormat("%Y")(new Date(t)):"")),x=Object.fromEntries(O.map((t=>(_=d3.max(t.rates,(t=>t.frequency)),L=d3.scaleLinear().domain([0,_]).range([i.bandwidth(),0]).nice(),k=d3.curveMonotoneX,C=d3.area().x((t=>B(t.date))).y1((t=>L(t.frequency))).y0((t=>L(0))).curve(d3.curveMonotoneX),A=d3.line().x((t=>B(t.date))).y((t=>L(t.frequency))).curve(d3.curveMonotoneX),[t.word,{y:L,area:C,line:A}])))),s.attr("transform",(t=>`translate(${a(t.col)}, ${i(t.row)})`)),c.attr("d",(t=>x[t.word].area(t.rates))),l.attr("d",(t=>x[t.word].line(t.rates))),s.each((function(t){const e=d3.select(this).attr("class","SMCell").attr("id",(t=>"cell"+t.word));d3.axisLeft(x[t.word].y).ticks(2).tickSizeOuter(0),e.append("g").attr("class","catLabel").append("text").attr("x",-10).attr("y",i.bandwidth()).attr("class","wordText").attr("id",(t=>"text"+t.word)).text(t.word).on("mouseover",((t,e)=>R(0,e))).on("mouseleave",((t,e)=>P()))})),j.attr("transform","translate(80, 0)").attr("width",I+80+0).attr("height",200),N.attr("transform",`translate(${a(0)}, 75)`).call(xaxis),function(t,{radius:e=1,x:n=(t=>t)}={}){const o=e**2,r=t.map(((e,o)=>({x:+n(e,o,t),data:e}))).sort(((t,e)=>t.x-e.x));let i=null,a=null;function s(t,e){let n=i;for(;n;){if(o-.001>(n.x-t)**2+(n.y-e)**2)return!0;n=n.next}return!1}for(const t of r){for(;i&&i.x<t.x-o;)i=i.next;if(s(t.x,t.y=0)){let e=i;t.y=1/0;do{let n=e.y+Math.sqrt(o-(e.x-t.x)**2),r=e.y-Math.sqrt(o-(e.x-t.x)**2);Math.abs(n)<Math.abs(t.y)&&!s(t.x,n)&&(t.y=n),Math.abs(r)<Math.abs(t.y)&&!s(t.x,r)&&(t.y=r),e=e.next}while(e)}t.next=null,null===i?i=a=t:a=a.next=t}w=r}(T.filter((t=>t.date<=M)),{radius:11,x:t=>B(t.date)}),u.attr("transform",`translate(${a(0)}, 75)`).selectAll("circle").data(w).join("circle").attr("class","event-circle").attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).attr("r",5).on("mouseover",((t,e)=>function(t,e){let n=d3.select(t.currentTarget);d3.selectAll(".event-circle").style("opacity","0.5"),n.style("opacity","1"),d.attr("transform",`translate(${a(0)}, -50)`).attr("x",B(e.date)-9).attr("y",0).attr("height",D).attr("width",20).style("opacity",1);let[o,r]=d3.pointer(t),i=o>window.innerWidth/2?p.node().offsetWidth+-50:50;p.classed("is-visible",!0),I>=600?p.style("top","10px").style("left",o-i+"px").style("bottom","auto"):p.style("bottom","0px").style("left","0px").style("top","auto"),p.html(`<p class="tt-date">${d3.timeFormat("%m/%Y")(e.date)}</p><p class="tt-hed">${e.name}</p>`)}(t,e.data))).on("mouseleave",((t,e)=>(e.data,d.style("opacity",0),d3.selectAll(".event-circle").style("opacity","1"),void p.classed("is-visible",!1)))),F),render:()=>(r.attr("transform","translate(80, 150)"),F),data(t){return arguments.length?(h=t,e.datum(h),F):h}};return F.init(),F}));return e.length>1?e:e.pop()}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=n(296),e=n.n(t);const o={android:()=>navigator.userAgent.match(/Android/i),blackberry:()=>navigator.userAgent.match(/BlackBerry/i),ios:()=>navigator.userAgent.match(/iPhone|iPad|iPod/i),opera:()=>navigator.userAgent.match(/Opera Mini/i),windows:()=>navigator.userAgent.match(/IEMobile/i),any:()=>o.android()||o.blackberry()||o.ios()||o.opera()||o.windows()};var r=o;const i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>',a=d3.select("body");function s(t,e,n){const o=t.classed("is-visible");e.attr("aria-expanded",!o),t.classed("is-active",!o),t.classed("is-visible",!o),a.classed("modal-open",!o),!0===n&&(o?e.html((()=>i)):e.html((()=>'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>')))}function l(t){return new Promise(((e,n)=>{const o=t.split(".").pop();"csv"===o?d3.csv(`assets/data/${t}`).then(e).catch(n):"json"===o?d3.json(`assets/data/${t}`).then(e).catch(n):n(new Error(`unsupported file type for: ${t}`))}))}var c=n(221),u=n.n(c);d3.selection.prototype.puddingStackedBar=function(t){const e=this.nodes().map((function(t){const e=d3.select(t);let n=null,o=null,r=null,i=null,a=null,s=null,l=null,c=null,d=null;const p=d3.select("#scrolly-side"),f=p.select("article").selectAll(".step");d3.select("#wordSearch");let h,m=e.datum(),g=m[0],y=m[1],v=(m[2],m[3],[{country:"South Africa",flag:"assets/images/flags/south-africa.svg"},{country:"USA",flag:"assets/images/flags/united-states.svg"},{country:"India",flag:"assets/images/flags/india.svg"},{country:"UK",flag:"assets/images/flags/united-kingdom.svg"},{country:"All countries",flag:""}]),w=0,b=0,x=null,_=null,k=null;function C(t,e,n,o){f.classed("is-active",((e,n)=>n===t)),console.log(n,e);let r=d3.selectAll(".stackedBars").selectAll("rect").attr("fill","#ccc").attr("opacity","0.5"),i=d3.selectAll(`.${o}`).attr("fill","#E75C33").attr("opacity","0.5");console.log(i),console.log(r),d3.selectAll(".stackedChartyTicks").style("opacity","0")}function A(t,e){t.each((function(){for(var t,n=d3.select(this),o=n.text().split(/\s+/).reverse(),r=[],i=0,a=n.attr("x"),s=n.attr("y"),l=n.text(null).append("tspan").attr("x",a).attr("y",s).attr("dy","0em");t=o.pop();)r.push(t),l.text(r.join(" ")),l.node().getComputedTextLength()>e&&(r.pop(),l.text(r.join(" ")),r=[t],l=n.append("tspan").attr("x",a).attr("y",s).attr("dy",1.1*++i+0+"em").text(t))}))}const E={init(){!function(t,e){h=d3.stack().keys(t.columns.slice(2))(t).map((t=>(t.forEach((n=>n.key=void 0!==e.filter((e=>e.word===t.key))[0]?{word:t.key,theme:e.filter((e=>e.word===t.key))[0].theme}:{word:t.key,theme:"No theme"})),t)))}(g,y),function(){let t=g.columns;u()({element:document.querySelector("#wordSearch"),id:"my-autocomplete",source:t,displayMenu:"overlay",confirmOnBlur:!1,onConfirm(t){C(null,null,null,t)}})}(),n=e.append("svg").attr("class","stackedChart"),o=n.append("g").attr("class","g-axis"),i=o.append("g").attr("class","x axis"),s=i.append("g"),a=o.append("g").attr("class","y axis"),r=n.append("g").attr("class","g-vis"),c=r.append("g").attr("class","stackedBars").selectAll("g").data(h).join("g").selectAll("rect").data((t=>t)),d=c.join("rect").attr("class",(t=>t.key.word)).attr("fill","lightgrey").attr("stroke","#FEFAF1").attr("stroke-width","0.2px"),E.render(),E.resize()},updateChart(t,e){console.log(t,e);const n=p.select(`[data-index='${t}']`),o=n.attr("task");if(n.attr("hovertype"),"highlightwords"===o){const r=n.attr("word");"down"===e?C(t,e,o,r):console.log(o,e)}else("drawbars"===o||"highlightthemes"===o||"tooltip"===o||"exploreChart"===o||"themeBarsTransition"===o)&&console.log(o,e);return E},resize:()=>(w=e.node().offsetWidth-0-0,b=2*(e.node().offsetHeight-50-0),n.attr("width",w+0+0).attr("height",b+50+0),i.attr("transform","translate(0,80)"),_=d3.scaleBand().domain(g.map((t=>t.country))).range([0,w+0]).padding(.1),x=_.padding(),s.call(d3.axisBottom(_)).call((t=>t.selectAll(".tick line").remove())).call((t=>t.selectAll(".tick text").remove())).call((t=>t.selectAll(".domain").remove())),s.selectAll(".tick text").remove(),s.selectAll(".tick tickFlag").remove(),s.selectAll(".tick").append("text").text((t=>t)).attr("x",100*x).attr("y",0).attr("class","stackedChartTicks").call(A,_.bandwidth()),s.selectAll(".tick").append("svg:image").attr("class","tickFlag").attr("height","35px").attr("x",100*x).attr("y",0).attr("transform","translate(-17, -50)").attr("xlink:href",(t=>v.filter((e=>e.country===t))[0].flag)),a.attr("transform","translate(0,0)"),k=d3.scaleLinear().domain([h.length,0]).range([b-0,50]),l=t=>t.call(d3.axisRight(k).tickSizeOuter(0).tickSizeInner(0)).call((t=>t.selectAll(".tick").remove())).call((t=>t.selectAll(".domain").remove())),l=a.append("g").call(l),d.attr("x",((t,e)=>_(t.data.country))).attr("height",(t=>0===t.data[t.key.word]||null===t.data[t.key.word]?0:b/h.length)).attr("width",_.bandwidth()).attr("y",(t=>0!==t.data[t.key.word]||null!==t.data[t.key.word]?k(t.data[t.key.word]):k(null))),E),render:()=>(r.attr("transform","translate(0, 50)"),E),data(t){return arguments.length?(m=t,e.datum(m),E):m}};return E.init(),E}));return e.length>1?e:e.pop()},n(76),n(620),n(835),n(337);var d=n(99),p=n.n(d);let f,h,m,g,y,v,w,b,x,_,k,C,A,E,O,S,M,T=["headlines_site_rapi.csv","headlines_cl_sent_sm_rapi.csv","country_time_freqrank_rapi_clean.csv","polarity_comparison.csv","country_freqtheme_pivoted.csv","word_themes.csv","country_freq_pivoted_all_100221.csv","word_themes_all_100221.csv","word_themes_rank_100221.csv","word_themes_freq_100221.csv"],I=!1,D=null,B=null,L=null,N=null,j=null;const R=d3.select("#stickyStackedChart"),P=d3.selectAll("#stackedChartLegend .step"),F=d3.select("#lollipopChart");let z=null,U=d3.select("#smChart"),q=d3.selectAll("button.country"),V=d3.selectAll(".see-more"),W=d3.selectAll("#smChart"),H=d3.selectAll(".fade");const $=p()();function K(t){var e,n;P.classed("is-active",((e,n)=>n===t.index)),e=t.index,n=t.direction,D.updateChart(e,n)}function G(t){j=U.datum(t).puddingTemporalLine()}function Y(){q.classed("country-active",!1);let t=d3.select(this);t.classed("country-active",!0),O=t.property("value"),d3.select("#smChart svg").remove(),d3.select("#stickyXaxis svg").remove(),M=[m,E,O,S],G(M)}function J(){var t;I=!I,I?(V.select("p").text("See fewer words"),W.transition().duration("1000").style("height","9500px"),H.style("opacity",0)):(V.select("p").text("See more words"),W.transition().duration("1000").style("height","2500px"),H.style("opacity",1),t=W.node(),window.scroll({behavior:"smooth",left:0,top:t.offsetTop-60}))}function Q(){const t=Math.floor(.75*window.innerHeight);P.style("height",t+"px"),$.resize();let e=0;const n=d3.select("body").node().offsetWidth;e!==n&&(e=n,D.resize(),B.resize(),L.resize(),N.resize(),j.resize())}var X={init:function(){(function(t){if("string"==typeof t)return l(t);const e=t.map(l);return Promise.all(e)})(T).then((t=>{f=t[0],h=t[1],m=t[2],g=t[3],y=t[4],v=t[5],w=t[6],b=t[7],x=t[8],_=t[9],E=[2009,2022],O="USA",S="freq_prop_headlines",k=[w,b,x,_],C=[f,h,"bias"],A=[f,h,"polarity"],M=[m,E,O,S],$.setup({step:"#stackedChartLegend .step",offset:.7}).onStepEnter(K),function(t){D=R.datum(t).puddingStackedBar()}(k),function(t){B=F.datum(t).puddingLollipop()}(g),function(t){z=d3.select("#chartB"),L=z.datum(t).puddingBubble()}(C),function(t){z=d3.select("#chartP"),N=z.datum(t).puddingBubble()}(A),G(M),Q(),q.on("click",Y),V.on("click",J)})).catch(console.error)},resize:Q};const Z=[{image:"2018_02_stand-up",url:"2018/02/stand-up",hed:"The Structure of Stand-Up Comedy"},{image:"2018_04_birthday-paradox",url:"2018/04/birthday-paradox",hed:"The Birthday Paradox Experiment"},{image:"2018_11_boy-bands",url:"2018/11/boy-bands",hed:"Internet Boy Band Database"},{image:"2018_08_pockets",url:"2018/08/pockets",hed:"Womenâs Pockets are Inferior"}];let tt=null;function et(t){return`\n\t<a class='footer-recirc__article' href='https://pudding.cool/${t.url}' target='_blank' rel='noopener'>\n\t\t<img class='article__img' src='https://pudding.cool/common/assets/thumbnails/640/${t.image}.jpg' alt='${t.hed}'>\n\t\t<p class='article__headline'>${t.hed}</p>\n\t</a>\n\t`}var nt=function(){!function(t){const e=new XMLHttpRequest,n=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`;e.open("GET",n,!0),e.onload=()=>{if(e.status>=200&&e.status<400){const n=JSON.parse(e.responseText);t(n)}else t(Z)},e.onerror=()=>t(Z),e.send()}((t=>{tt=t,function(){const t=window.location.href,e=tt.find((e=>t.includes(e.url))),n=e?e.topic:"culture",o=tt.filter((e=>!t.includes(e.url))),r=o.filter((t=>t.topic!==n)),i=o.filter((t=>t.topic===n)),a=[];a.push(...r.slice(0,2)),a.push(i[0]),a.push(i[Math.ceil(Math.random()*(i.length-1))]);const s=a.map(et).join("");d3.select(".pudding-footer .footer-recirc__articles").html(s)}()}))};const ot=d3.select("body");let rt=0;new Array("When","Women","Make","Headlines")[0].length,function(t,e=document){return[...e.querySelectorAll(t)]}("[target='_blank']").forEach((t=>t.setAttribute("rel","noopener"))),ot.classed("is-mobile",r.any()),window.addEventListener("resize",e()((function(){const t=ot.node().offsetWidth;rt!==t&&(rt=t,X.resize())}),150)),function(){const t=ot.select("header");if(t.classed("is-sticky")){const e=ot.select("#slide__menu"),n=ot.select(".header__toggle");!function(t,e,n,o,r,a){const l=n.selectAll("a, button, .logo").nodes(),c=l[0],u=l[l.length-1];t.on("click",(()=>s(o,t,a))),e.on("click",(()=>s(o,e,a))),n.on("keydown",(e=>{const n=e.code,r=o.classed("is-visible");"Escape"===n&&!0===r&&(t.attr("aria-expanded",!1),t.node().focus(),o.classed("is-active",!1),o.classed("is-visible",!1),t.html((()=>i)))})),d3.select(c).on("keydown",(t=>{if(o.classed("is-visible")){const e=t.code,n=t.shiftKey;"Tab"===e&&!0===n&&(t.preventDefault(),u.focus())}})),d3.select(u).on("keydown",(t=>{if(o.classed("is-visible")){const e=t.code,n=t.shiftKey;"Tab"===e&&!1===n&&(t.preventDefault(),c.focus())}}))}(n,n,t,e,0,!0)}}(),X.init(),nt()}()}();